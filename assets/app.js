/* Minification failed. Returning unminified contents.
(1,8106-8113): run-time error JS1019: Can't have 'break' outside of loop: break e
 */
(function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var a=-1,o=e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function a(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function i(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function s(e,t){return!!e.length&&-1<v(e,t,0)}function l(e,t,n){for(var r=-1,a=e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function u(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function d(e,t,n,r){var a=-1,o=e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function p(e,t,n,r){var a=e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function f(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],i=t(o);if(null!=i&&(s===H?i===i:n(i,s)))var s=i,l=o}return l}function h(e,t,n,r){var a;return n(e,function(e,n,o){return t(e,n,o)?(a=r?n:e,!1):void 0}),a}function g(e,t,n){for(var r=e.length,a=n?r:-1;n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function v(e,t,n){if(t!==t)return z(e,n);--n;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function y(e,t,n,r){--n;for(var a=e.length;++n<a;)if(r(e[n],t))return n;return-1}function b(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}function w(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function C(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==H&&(n=n===H?o:n+o)}return n}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function x(e,t){return c(t,function(t){return[t,e[t]]})}function k(e){return function(t){return e(t)}}function _(e,t){return c(t,function(t){return e[t]})}function T(e,t){for(var n=-1,r=e.length;++n<r&&-1<v(t,e[n],0););return n}function A(e,t){for(var n=e.length;n--&&-1<v(t,e[n],0););return n}function M(e){return e&&e.Object===Object?e:null}function I(e,t){if(e!==t){var n=null===e,r=e===H,a=e===e,o=null===t,i=t===H,s=t===t;if(e>t&&!o||!a||n&&!i&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&a||i&&a)return-1}return 0}function L(e){return $e[e]}function P(e){return Oe[e]}function E(e){return"\\"+Ne[e]}function z(e,t,n){var r=e.length;for(t+=n?0:-1;n?t--:++t<r;){var a=e[t];if(a!==a)return t}return-1}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function O(e,t){return e="number"==typeof e||ye.test(e)?+e:-1,e>-1&&0==e%1&&(null==t?9007199254740991:t)>e}function R(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function D(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function N(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];(i===t||"__lodash_placeholder__"===i)&&(e[n]="__lodash_placeholder__",o[a++]=n)}return o}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function B(e){if(!e||!Ae.test(e))return e.length;for(var t=Te.lastIndex=0;Te.test(e);)t++;return t}function F(e){return Re[e]}function U(M){function ye(e){if(xr(e)&&!Ho(e)&&!(e instanceof ke)){if(e instanceof xe)return e;if(ua.call(e,"__wrapped__"))return Wn(e)}return new xe(e)}function Se(){}function xe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function ke(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function $e(){}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.__data__=new Oe;++t<n;)this.push(e[t])}function De(e,t){var n=e.__data__;return Nn(t)?(n=n.__data__,"__lodash_hash_undefined__"===("string"==typeof t?n.string:n.hash)[t]):n.has(t)}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e,t){var n=We(e,t);return 0>n?!1:(n==e.length-1?e.pop():Ma.call(e,n,1),!0)}function Ue(e,t){var n=We(e,t);return 0>n?H:e[n][1]}function We(e,t){for(var n=e.length;n--;)if(fr(e[n][0],t))return n;return-1}function qe(e,t,n){var r=We(e,t);0>r?e.push([t,n]):e[r][1]=n}function Ge(e,t,n,r){return e===H||fr(e,la[n])&&!ua.call(r,n)?t:e}function Ve(e,t,n){(n!==H&&!fr(e[t],n)||"number"==typeof t&&n===H&&!(t in e))&&(e[t]=n)}function Ke(e,t,n){var r=e[t];ua.call(e,t)&&fr(r,n)&&(n!==H||t in e)||(e[t]=n)}function Qe(e,t,n,r){return Za(e,function(e,a,o){t(r,e,n(e),o)}),r}function Ze(e,t){return e&&en(t,Fr(t),e)}function Je(e,t){for(var n=-1,r=null==e,a=t.length,o=Array(a);++n<a;)o[n]=r?H:Nr(e,t[n]);return o}function et(e){return vr(e)?e:[]}function tt(e){return"function"==typeof e?e:Kr}function nt(e){return Ho(e)?e:Hn(e)}function rt(e,t,n){return e===e&&(n!==H&&(e=e>n?n:e),t!==H&&(e=t>e?t:e)),e}function at(e,t,n,r,o,i){var s;if(n&&(s=o?n(e,r,o,i):n(e)),s!==H)return s;if(!Sr(e))return e;if(r=Ho(e)){if(s=En(e),!t)return Jt(e,s)}else{var l=Ln(e),c="[object Function]"==l||"[object GeneratorFunction]"==l;if(Wo(e))return Vt(e,t);if("[object Object]"==l||"[object Arguments]"==l||c&&!o){if($(e))return o?e:{};if(s=zn(c?{}:e),!t)return nn(e,Ze(s,e))}else{if(!ze[l])return o?e:{};s=$n(e,l,t)}}return i||(i=new Ne),(o=i.get(e))?o:(i.set(e,s),(r?a:ft)(e,function(r,a){Ke(s,a,at(r,t,n,a,e,i))}),r?s:nn(e,s))}function ot(e){var t=Fr(e),n=t.length;return function(r){if(null==r)return!n;for(var a=n;a--;){var o=t[a],i=e[o],s=r[o];if(s===H&&!(o in Object(r))||!i(s))return!1}return!0}}function it(e){return Sr(e)?_a(e):{}}function st(e,t,n){if("function"!=typeof e)throw new ia("Expected a function");return Aa(function(){e.apply(H,n)},t)}function lt(e,t,n,r){var a=-1,o=s,i=!0,u=e.length,d=[],p=t.length;if(!u)return d;n&&(t=c(t,k(n))),r?(o=l,i=!1):t.length>=200&&(o=De,i=!1,t=new Re(t));e:for(;++a<u;){var f=e[a],m=n?n(f):f;if(i&&m===m){for(var h=p;h--;)if(t[h]===m)continue e;d.push(f)}else o(t,m,r)||d.push(f)}return d}function ct(e,t){var n=!0;return Za(e,function(e,r,a){return n=!!t(e,r,a)}),n}function ut(e,t){var n=[];return Za(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}function dt(e,t,n,r){r||(r=[]);for(var a=-1,o=e.length;++a<o;){var i=e[a];t>0&&vr(i)&&(n||Ho(i)||hr(i))?t>1?dt(i,t-1,n,r):u(r,i):n||(r[r.length]=i)}return r}function pt(e,t){null==e||eo(e,t,Ur)}function ft(e,t){return e&&eo(e,t,Fr)}function mt(e,t){return e&&to(e,t,Fr)}function ht(e,t){return i(t,function(t){return br(e[t])})}function gt(e,t){t=Dn(t,e)?[t+""]:nt(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:H}function vt(e,t){return ua.call(e,t)||"object"==typeof e&&t in e&&null===Sa(e)}function yt(e,t){return t in Object(e)}function bt(e,t,n){for(var r=n?l:s,a=e[0].length,o=e.length,i=o,u=Array(o),d=1/0,p=[];i--;){var f=e[i];i&&t&&(f=c(f,k(t))),d=Oa(f.length,d),u[i]=n||!t&&(120>a||120>f.length)?H:new Re(i&&f)}var f=e[0],m=-1,h=u[0];e:for(;++m<a&&d>p.length;){var g=f[m],v=t?t(g):g;if(h?!De(h,v):!r(p,v,n)){for(i=o;--i;){var y=u[i];if(y?!De(y,v):!r(e[i],v,n))continue e}h&&h.push(v),p.push(g)}}return p}function wt(e,t,n){var r={};return ft(e,function(e,a,o){t(r,n(e),a,o)}),r}function Ct(e,t,r){return Dn(t,e)||(t=nt(t),e=Un(e,t),t=Xn(t)),t=null==e?e:e[t],null==t?H:n(t,e,r)}function St(e,t,n,r,a){if(e===t)e=!0;else if(null==e||null==t||!Sr(e)&&!xr(t))e=e!==e&&t!==t;else e:{var o=Ho(e),i=Ho(t),s="[object Array]",l="[object Array]";o||(s=Ln(e),s="[object Arguments]"==s?"[object Object]":s),i||(l=Ln(t),l="[object Arguments]"==l?"[object Object]":l);var c="[object Object]"==s&&!$(e),i="[object Object]"==l&&!$(t);if((l=s==l)&&!c)a||(a=new Ne),e=o||Lr(e)?xn(e,t,St,n,r,a):kn(e,t,s,St,n,r,a);else{if(!(2&r)&&(o=c&&ua.call(e,"__wrapped__"),s=i&&ua.call(t,"__wrapped__"),o||s)){a||(a=new Ne),e=St(o?e.value():e,s?t.value():t,n,r,a);break e}if(l)t:if(a||(a=new Ne),o=2&r,s=Fr(e),i=s.length,l=Fr(t).length,i==l||o){for(c=i;c--;){var u=s[c];if(!(o?u in t:vt(t,u))){e=!1;break t}}if(l=a.get(e))e=l==t;else{l=!0,a.set(e,t);for(var d=o;++c<i;){var u=s[c],p=e[u],f=t[u];if(n)var m=o?n(f,p,u,t,e,a):n(p,f,u,e,t,a);if(m===H?p!==f&&!St(p,f,n,r,a):!m){l=!1;break}d||(d="constructor"==u)}l&&!d&&(n=e.constructor,r=t.constructor,n!=r&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(l=!1)),a["delete"](e),e=l}}else e=!1;else e=!1}}return e}function xt(e,t,n,r){var a=n.length,o=a,i=!r;if(null==e)return!o;for(e=Object(e);a--;){var s=n[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var s=n[a],l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===H&&!(l in e))return!1}else if(s=new Ne,l=r?r(c,u,l,e,t,s):H,l===H?!St(u,c,r,3,s):!l)return!1}return!0}function kt(e){var t=typeof e;return"function"==t?e:null==e?Kr:"object"==t?Ho(e)?Mt(e[0],e[1]):At(e):ea(e)}function _t(e){e=null==e?e:Object(e);var t,n=[];for(t in e)n.push(t);return n}function Tt(e,t){var n=-1,r=gr(e)?Array(e.length):[];return Za(e,function(e,a,o){r[++n]=t(e,a,o)}),r}function At(e){var t=An(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==H||n in Object(e))}}return function(n){return n===e||xt(n,e,t)}}function Mt(e,t){return function(n){var r=Nr(n,e);return r===H&&r===t?Br(n,e):St(t,r,H,3)}}function It(e,t,n,r,o){if(e!==t){var i=Ho(t)||Lr(t)?H:Ur(t);a(i||t,function(a,s){if(i&&(s=a,a=t[s]),Sr(a)){o||(o=new Ne);var l=s,c=o,u=e[l],d=t[l],p=c.get(d);if(p)Ve(e,l,p);else{var p=r?r(u,d,l+"",e,t,c):H,f=p===H;f&&(p=d,Ho(d)||Lr(d)?Ho(u)?p=u:vr(u)?p=Jt(u):(f=!1,p=at(d,!r)):Tr(d)||hr(d)?hr(u)?p=Rr(u):!Sr(u)||n&&br(u)?(f=!1,p=at(d,!r)):p=u:f=!1),c.set(d,p),f&&It(p,d,n,r,c),c["delete"](d),Ve(e,l,p)}}else l=r?r(e[s],a,s+"",e,t,o):H,l===H&&(l=a),Ve(e,s,l)})}}function Lt(e,t,n){var r=-1;return t=c(t.length?t:Array(1),Tn()),e=Tt(e,function(e){return{a:c(t,function(t){return t(e)}),b:++r,c:e}}),w(e,function(e,t){var r;e:{r=-1;for(var a=e.a,o=t.a,i=a.length,s=n.length;++r<i;){var l=I(a[r],o[r]);if(l){r=s>r?l*("desc"==n[r]?-1:1):l;break e}}r=e.b-t.b}return r})}function Pt(e,t){return e=Object(e),d(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Et(e,t){var n={};return pt(e,function(e,r){t(e,r)&&(n[r]=e)}),n}function zt(e){return function(t){return null==t?H:t[e]}}function $t(e){return function(t){return gt(t,e)}}function Ot(e,t,n,r){var a=r?y:v,o=-1,i=t.length,s=e;for(n&&(s=c(e,k(n)));++o<i;)for(var l=0,u=t[o],u=n?n(u):u;-1<(l=a(s,u,l,r));)s!==e&&Ma.call(s,l,1),Ma.call(e,l,1);return e}function Rt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(r==n||a!=o){var o=a;if(O(a))Ma.call(e,a,1);else if(Dn(a,e))delete e[a];else{var a=nt(a),i=Un(e,a);null!=i&&delete i[Xn(a)]}}}}function Dt(e,t){return e+La(Da()*(t-e+1))}function Nt(e,t,n,r){t=Dn(t,e)?[t+""]:nt(t);for(var a=-1,o=t.length,i=o-1,s=e;null!=s&&++a<o;){var l=t[a];if(Sr(s)){var c=n;if(a!=i){var u=s[l],c=r?r(u,l,s):H;c===H&&(c=null==u?O(t[a+1])?[]:{}:u)}Ke(s,l,c)}s=s[l]}return e}function jt(e,t,n){var r=-1,a=e.length;for(0>t&&(t=-t>a?0:a+t),n=n>a?a:n,0>n&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0,n=Array(a);++r<a;)n[r]=e[r+t];return n}function Bt(e,t){var n;return Za(e,function(e,r,a){return n=t(e,r,a),!n}),!!n}function Ft(e,t,n){var r=0,a=e?e.length:r;if("number"==typeof t&&t===t&&2147483647>=a){for(;a>r;){var o=r+a>>>1,i=e[o];(n?t>=i:t>i)&&null!==i?r=o+1:a=o}return a}return Ut(e,t,Kr,n)}function Ut(e,t,n,r){t=n(t);for(var a=0,o=e?e.length:0,i=t!==t,s=null===t,l=t===H;o>a;){var c=La((a+o)/2),u=n(e[c]),d=u!==H,p=u===u;(i?p||r:s?p&&d&&(r||null!=u):l?p&&(r||d):null==u?0:r?t>=u:t>u)?a=c+1:o=c}return Oa(o,4294967294)}function Ht(e,t){for(var n=0,r=e.length,a=e[0],o=t?t(a):a,i=o,s=1,l=[a];++n<r;)a=e[n],o=t?t(a):a,fr(o,i)||(i=o,l[s++]=a);return l}function Wt(e,t,n){var r=-1,a=s,o=e.length,i=!0,c=[],u=c;if(n)i=!1,a=l;else if(200>o)u=t?[]:c;else{if(a=t?null:ro(e))return j(a);i=!1,a=De,u=new Re}e:for(;++r<o;){var d=e[r],p=t?t(d):d;if(i&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),c.push(d)}else a(u,p,n)||(u!==c&&u.push(p),c.push(d))}return c}function qt(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?jt(e,r?0:o,r?o+1:a):jt(e,r?o+1:0,r?a:o)}function Gt(e,t){var n=e;return n instanceof ke&&(n=n.value()),d(t,function(e,t){return t.func.apply(t.thisArg,u([e],t.args))},n)}function Yt(e,t,n){for(var r=-1,a=e.length;++r<a;)var o=o?u(lt(o,e[r],t,n),lt(e[r],o,t,n)):e[r];return o&&o.length?Wt(o,t,n):[]}function Xt(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;)n(i,e[r],o>r?t[r]:H);return i}function Vt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Kt(e){var t=new e.constructor(e.byteLength);return new ba(t).set(new ba(e)),t}function Qt(e,t,n,r){var a=-1,o=e.length,i=n.length,s=-1,l=t.length,c=$a(o-i,0),u=Array(l+c);for(r=!r;++s<l;)u[s]=t[s];for(;++a<i;)(r||o>a)&&(u[n[a]]=e[a]);for(;c--;)u[s++]=e[a++];return u}function Zt(e,t,n,r){var a=-1,o=e.length,i=-1,s=n.length,l=-1,c=t.length,u=$a(o-s,0),d=Array(u+c);for(r=!r;++a<u;)d[a]=e[a];for(u=a;++l<c;)d[u+l]=t[l];for(;++i<s;)(r||o>a)&&(d[u+n[i]]=e[a++]);return d}function Jt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function en(e,t,n){return tn(e,t,n)}function tn(e,t,n,r){n||(n={});for(var a=-1,o=t.length;++a<o;){var i=t[a],s=r?r(n[i],e[i],i,n,e):e[i];Ke(n,i,s)}return n}function nn(e,t){return en(e,io(e),t)}function rn(e,t){return function(n,a){var o=Ho(n)?r:Qe,i=t?t():{};return o(n,e,Tn(a),i)}}function an(e){return pr(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:H,i=a>2?n[2]:H,o="function"==typeof o?(a--,o):H;for(i&&Rn(n[0],n[1],i)&&(o=3>a?H:o,a=1),t=Object(t);++r<a;)(i=n[r])&&e(t,i,r,o);return t})}function on(e,t){return function(n,r){if(null==n)return n;if(!gr(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Object(n);(t?o--:++o<a)&&!1!==r(i[o],o,i););return n}}function sn(e){return function(t,n,r){var a=-1,o=Object(t);r=r(t);for(var i=r.length;i--;){var s=r[e?i:++a];if(!1===n(o[s],s,o))break}return t}}function ln(e,t,n){function r(){return(this&&this!==Ye&&this instanceof r?o:e).apply(a?n:this,arguments)}var a=1&t,o=dn(e);return r}function cn(e){return function(t){t=Dr(t);var n=Ae.test(t)?t.match(Te):H,r=n?n[0]:t.charAt(0);return t=n?n.slice(1).join(""):t.slice(1),r[e]()+t}}function un(e){return function(t){return d(Xr(Gr(t)),e,"")}}function dn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=it(e.prototype),t=e.apply(n,t);return Sr(t)?t:n}}function pn(e,t,r){function a(){for(var i=arguments.length,s=Array(i),l=i,c=In(a);l--;)s[l]=arguments[l];return l=3>i&&s[0]!==c&&s[i-1]!==c?[]:N(s,c),i-=l.length,r>i?wn(e,t,mn,a.placeholder,H,s,l,H,H,r-i):n(this&&this!==Ye&&this instanceof a?o:e,this,s)}var o=dn(e);return a}function fn(e){return pr(function(t){t=dt(t,1);var n=t.length,r=n,a=xe.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ia("Expected a function");if(a&&!i&&"wrapper"==_n(o))var i=new xe([],!0)}for(r=i?r:n;++r<n;)var o=t[r],a=_n(o),s="wrapper"==a?ao(o):H,i=s&&jn(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?i[_n(s[0])].apply(i,s[3]):1==o.length&&jn(o)?i[a]():i.thru(o);return function(){var e=arguments,r=e[0];if(i&&1==e.length&&Ho(r)&&r.length>=200)return i.plant(r).value();for(var a=0,e=n?t[a].apply(this,e):r;++a<n;)e=t[a].call(this,e);return e}})}function mn(e,t,n,r,a,o,i,s,l,c){function u(){for(var v=arguments.length,y=v,b=Array(v);y--;)b[y]=arguments[y];if(m){var w,C=In(u),y=b.length;for(w=0;y--;)b[y]===C&&w++}if(r&&(b=Qt(b,r,a,m)),o&&(b=Zt(b,o,i,m)),v-=w,m&&c>v)return C=N(b,C),wn(e,t,mn,u.placeholder,n,b,C,s,l,c-v);if(C=p?n:this,y=f?C[e]:e,v=b.length,s){w=b.length;for(var S=Oa(s.length,w),x=Jt(b);S--;){var k=s[S];b[S]=O(k,w)?x[k]:H}}else h&&v>1&&b.reverse();return d&&v>l&&(b.length=l),this&&this!==Ye&&this instanceof u&&(y=g||dn(y)),y.apply(C,b)}var d=128&t,p=1&t,f=2&t,m=24&t,h=512&t,g=f?H:dn(e);return u}function hn(e,t){return function(n,r){return wt(n,e,t(r))}}function gn(e){return pr(function(t){return t=c(dt(t,1),Tn()),pr(function(r){var a=this;return e(t,function(e){return n(e,a,r)})})})}function vn(e,t,n){return t=zr(t),e=B(e),t&&t>e?(t-=e,n=n===H?" ":n+"",e=Yr(n,Ia(t/B(n))),Ae.test(n)?e.match(Te).slice(0,t).join(""):e.slice(0,t)):""}function yn(e,t,r,a){function o(){for(var t=-1,l=arguments.length,c=-1,u=a.length,d=Array(u+l),p=this&&this!==Ye&&this instanceof o?s:e;++c<u;)d[c]=a[c];for(;l--;)d[c++]=arguments[++t];return n(p,i?r:this,d)}var i=1&t,s=dn(e);return o}function bn(e){return function(t,n,r){r&&"number"!=typeof r&&Rn(t,n,r)&&(n=r=H),t=Or(t),t=t===t?t:0,n===H?(n=t,t=0):n=Or(n)||0,r=r===H?n>t?1:-1:Or(r)||0;var a=-1;n=$a(Ia((n-t)/(r||1)),0);for(var o=Array(n);n--;)o[e?n:++a]=t,t+=r;return o}}function wn(e,t,n,r,a,o,i,s,l,c){var u=8&t;s=s?Jt(s):H;var d=u?i:H;i=u?H:i;var p=u?o:H;return o=u?H:o,t=(t|(u?32:64))&~(u?64:32),4&t||(t&=-4),t=[e,t,a,p,d,o,i,s,l,c],n=n.apply(H,t),jn(e)&&so(n,t),n.placeholder=r,n}function Cn(e){var t=aa[e];return function(e,n){if(e=Or(e),n=zr(n)){var r=(Dr(e)+"e").split("e"),r=t(r[0]+"e"+(+r[1]+n)),r=(Dr(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Sn(e,t,n,r,a,o,i,s){var l=2&t;if(!l&&"function"!=typeof e)throw new ia("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=a=H),i=i===H?i:$a(zr(i),0),s=s===H?s:zr(s),c-=a?a.length:0,64&t){var u=r,d=a;r=a=H}var p=l?H:ao(e);return o=[e,t,n,r,a,u,d,o,i,s],p&&(n=o[1],e=p[1],t=n|e,r=128==e&&8==n||128==e&&256==n&&p[8]>=o[7].length||384==e&&p[8]>=p[7].length&&8==n,131>t||r)&&(1&e&&(o[2]=p[2],t|=1&n?0:4),(n=p[3])&&(r=o[3],o[3]=r?Qt(r,n,p[4]):Jt(n),o[4]=r?N(o[3],"__lodash_placeholder__"):Jt(p[4])),(n=p[5])&&(r=o[5],o[5]=r?Zt(r,n,p[6]):Jt(n),o[6]=r?N(o[5],"__lodash_placeholder__"):Jt(p[6])),(n=p[7])&&(o[7]=Jt(n)),128&e&&(o[8]=null==o[8]?p[8]:Oa(o[8],p[8])),null==o[9]&&(o[9]=p[9]),o[0]=p[0],o[1]=t),e=o[0],t=o[1],n=o[2],r=o[3],a=o[4],s=o[9]=null==o[9]?l?0:e.length:$a(o[9]-c,0),!s&&24&t&&(t&=-25),(p?no:so)(t&&1!=t?8==t||16==t?pn(e,t,s):32!=t&&33!=t||a.length?mn.apply(H,o):yn(e,t,n,r):ln(e,t,n),o)}function xn(e,t,n,r,a,o){var i=-1,s=2&a,l=1&a,c=e.length,u=t.length;if(!(c==u||s&&u>c))return!1;if(u=o.get(e))return u==t;for(u=!0,o.set(e,t);++i<c;){var d=e[i],p=t[i];if(r)var m=s?r(p,d,i,t,e,o):r(d,p,i,e,t,o);if(m!==H){if(m)continue;u=!1;break}if(l){if(!f(t,function(e){return d===e||n(d,e,r,a,o)})){u=!1;break}}else if(d!==p&&!n(d,p,r,a,o)){u=!1;break}}return o["delete"](e),u}function kn(e,t,n,r,a,o,i){switch(n){case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!r(new ba(e),new ba(t)))break;return!0;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=D;case"[object Set]":if(s||(s=j),e.size!=t.size&&!(2&o))break;return(n=i.get(e))?n==t:xn(s(e),s(t),r,a,1|o,i.set(e,t));case"[object Symbol]":if(Ka)return Ka.call(e)==Ka.call(t)}return!1}function _n(e){for(var t=e.name+"",n=qa[t],r=ua.call(qa,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function Tn(){var e=ye.iteratee||Qr,e=e===Qr?kt:e;return arguments.length?e(arguments[0],arguments[1]):e}function An(e){e=Hr(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!Sr(n)}return e}function Mn(e,t){var n=e[t];return kr(n)?n:H}function In(e){return(ua.call(ye,"placeholder")?ye:e).placeholder}function Ln(e){return fa.call(e)}function Pn(e,t,n){if(null==e)return!1;var r=n(e,t);return r||Dn(t)||(t=nt(t),e=Un(e,t),null!=e&&(t=Xn(t),r=n(e,t))),n=e?e.length:H,r||!!n&&Cr(n)&&O(t,n)&&(Ho(e)||Mr(e)||hr(e))}function En(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ua.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function zn(e){return"function"!=typeof e.constructor||Bn(e)?{}:it(Sa(e))}function $n(n,r,a){var o=n.constructor;switch(r){case"[object ArrayBuffer]":return Kt(n);case"[object Boolean]":case"[object Date]":return new o(+n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r=a?Kt(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.length);case"[object Map]":return d(D(n),e,new n.constructor);case"[object Number]":case"[object String]":return new o(n);case"[object RegExp]":return r=new n.constructor(n.source,pe.exec(n)),r.lastIndex=n.lastIndex,r;case"[object Set]":return d(j(n),t,new n.constructor);case"[object Symbol]":return Ka?Object(Ka.call(n)):{}}}function On(e){var t=e?e.length:H;return Cr(t)&&(Ho(e)||Mr(e)||hr(e))?S(t,String):null}function Rn(e,t,n){if(!Sr(n))return!1;var r=typeof t;return("number"==r?gr(n)&&O(t,n.length):"string"==r&&t in n)?fr(n[t],e):!1}function Dn(e,t){return"number"==typeof e?!0:!Ho(e)&&(re.test(e)||!ne.test(e)||null!=t&&e in Object(t))}function Nn(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function jn(e){var t=_n(e),n=ye[t];return"function"==typeof n&&t in ke.prototype?e===n?!0:(t=ao(n),!!t&&e===t[0]):!1}function Bn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||la)}function Fn(e,t,n,r,a,o){return Sr(e)&&Sr(t)&&It(e,t,H,Fn,o.set(t,e)),e}function Un(e,t){return 1==t.length?e:Nr(e,jt(t,0,-1))}function Hn(e){var t=[];return Dr(e).replace(ae,function(e,n,r,a){t.push(r?a.replace(ue,"$1"):n||e)}),t}function Wn(e){if(e instanceof ke)return e.clone();var t=new xe(e.__wrapped__,e.__chain__);return t.__actions__=Jt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function qn(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:zr(t),jt(e,0>t?0:t,r)):[]}function Gn(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:zr(t),t=r-t,jt(e,0,0>t?0:t)):[]}function Yn(e){return e?e[0]:H}function Xn(e){var t=e?e.length:0;return t?e[t-1]:H}function Vn(e,t){return e&&e.length&&t&&t.length?Ot(e,t):e}function Kn(e){return e?Na.call(e):e}function Qn(e){if(!e||!e.length)return[];var t=0;return e=i(e,function(e){return vr(e)?(t=$a(e.length,t),!0):void 0}),S(t,function(t){return c(e,zt(t))})}function Zn(e,t){if(!e||!e.length)return[];var r=Qn(e);return null==t?r:c(r,function(e){return n(t,H,e)})}function Jn(e){return e=ye(e),e.__chain__=!0,e}function er(e,t){return t(e)}function tr(){return this}function nr(e,t){return"function"==typeof t&&Ho(e)?a(e,t):Za(e,tt(t))}function rr(e,t){var n;if("function"==typeof t&&Ho(e)){for(n=e.length;n--&&!1!==t(e[n],n,e););n=e}else n=Ja(e,tt(t));return n}function ar(e,t){return(Ho(e)?c:Tt)(e,Tn(t,3))}function or(e,t){var n=-1,r=Er(e),a=r.length,o=a-1;for(t=rt(zr(t),0,a);++n<t;){var a=Dt(n,o),i=r[a];r[a]=r[n],r[n]=i}return r.length=t,r}function ir(e,t,n){return t=n?H:t,t=e&&null==t?e.length:t,Sn(e,128,H,H,H,H,t)}function sr(e,t){var n;if("function"!=typeof t)throw new ia("Expected a function");return e=zr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=H),n}}function lr(e,t,n){return t=n?H:t,e=Sn(e,8,H,H,H,H,H,t),e.placeholder=lr.placeholder,e}function cr(e,t,n){return t=n?H:t,e=Sn(e,16,H,H,H,H,H,t),e.placeholder=cr.placeholder,e}function ur(e,t,n){function r(){f&&wa(f),c&&wa(c),h=0,l=c=p=f=m=H}function a(t,n){n&&wa(n),c=f=m=H,t&&(h=$o(),u=e.apply(p,l),f||c||(l=p=H))}function o(){var e=t-($o()-d);0>=e||e>t?a(m,c):f=Aa(o,e)}function i(){a(y,f)}function s(){if(l=arguments,d=$o(),p=this,m=y&&(f||!g),!1===v)var n=g&&!f;else{h||c||g||(h=d);var r=v-(d-h),a=(0>=r||r>v)&&(g||c);a?(c&&(c=wa(c)),h=d,u=e.apply(p,l)):c||(c=Aa(i,r))}return a&&f?f=wa(f):f||t===v||(f=Aa(o,t)),n&&(a=!0,u=e.apply(p,l)),!a||f||c||(l=p=H),u}var l,c,u,d,p,f,m,h=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new ia("Expected a function");return t=Or(t)||0,Sr(n)&&(g=!!n.leading,v="maxWait"in n&&$a(Or(n.maxWait)||0,t),y="trailing"in n?!!n.trailing:y),s.cancel=r,s.flush=function(){return(f&&m||c&&y)&&(u=e.apply(p,l)),r(),u},s}function dr(e,t){function n(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;return o.has(a)?o.get(a):(r=e.apply(this,r),n.cache=o.set(a,r),r)}if("function"!=typeof e||t&&"function"!=typeof t)throw new ia("Expected a function");return n.cache=new dr.Cache,n}function pr(e,t){if("function"!=typeof e)throw new ia("Expected a function");return t=$a(t===H?e.length-1:zr(t),0),function(){for(var r=arguments,a=-1,o=$a(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,r[0],i);case 2:return e.call(this,r[0],r[1],i)}for(o=Array(t+1),a=-1;++a<t;)o[a]=r[a];return o[t]=i,n(e,this,o)}}function fr(e,t){return e===t||e!==e&&t!==t}function mr(e,t){return e>t}function hr(e){return vr(e)&&ua.call(e,"callee")&&(!Ta.call(e,"callee")||"[object Arguments]"==fa.call(e))}function gr(e){return null!=e&&Cr(oo(e))&&!br(e)}function vr(e){return xr(e)&&gr(e)}function yr(e){return xr(e)?"[object Error]"==fa.call(e)||"string"==typeof e.message&&"string"==typeof e.name:!1}function br(e){return e=Sr(e)?fa.call(e):"","[object Function]"==e||"[object GeneratorFunction]"==e}function wr(e){return"number"==typeof e&&e==zr(e)}function Cr(e){return"number"==typeof e&&e>-1&&0==e%1&&9007199254740991>=e}function Sr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function xr(e){return!!e&&"object"==typeof e}function kr(e){return null==e?!1:br(e)?ha.test(ca.call(e)):xr(e)&&($(e)?ha:ge).test(e)}function _r(e){return"number"==typeof e||xr(e)&&"[object Number]"==fa.call(e)}function Tr(e){return!xr(e)||"[object Object]"!=fa.call(e)||$(e)?!1:(e=Sa(e),null===e?!0:(e=e.constructor,"function"==typeof e&&e instanceof e&&ca.call(e)==pa))}function Ar(e){return Sr(e)&&"[object RegExp]"==fa.call(e)}function Mr(e){return"string"==typeof e||!Ho(e)&&xr(e)&&"[object String]"==fa.call(e)}function Ir(e){return"symbol"==typeof e||xr(e)&&"[object Symbol]"==fa.call(e)}function Lr(e){return xr(e)&&Cr(e.length)&&!!Ee[fa.call(e)]}function Pr(e,t){return t>e}function Er(e){if(!e)return[];if(gr(e))return Mr(e)?e.match(Te):Jt(e);if(ka&&e[ka])return R(e[ka]());var t=Ln(e);return("[object Map]"==t?D:"[object Set]"==t?j:Wr)(e)}function zr(e){if(!e)return 0===e?e:0;if(e=Or(e),e===W||e===-W)return 1.7976931348623157e308*(0>e?-1:1);var t=e%1;return e===e?t?e-t:e:0}function $r(e){return e?rt(zr(e),0,4294967295):0}function Or(e){if(Sr(e)&&(e=br(e.valueOf)?e.valueOf():e,e=Sr(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(se,"");var t=he.test(e);return t||ve.test(e)?Be(e.slice(2),t?2:8):me.test(e)?q:+e}function Rr(e){return en(e,Ur(e))}function Dr(e){if("string"==typeof e)return e;if(null==e)return"";if(Ir(e))return Qa?Qa.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function Nr(e,t,n){return e=null==e?H:gt(e,t),e===H?n:e}function jr(e,t){return Pn(e,t,vt)}function Br(e,t){return Pn(e,t,yt)}function Fr(e){var t=Bn(e);if(!t&&!gr(e))return za(Object(e));var n,r=On(e),a=!!r,r=r||[],o=r.length;for(n in e)!vt(e,n)||a&&("length"==n||O(n,o))||t&&"constructor"==n||r.push(n);return r}function Ur(e){for(var t=-1,n=Bn(e),r=_t(e),a=r.length,o=On(e),i=!!o,o=o||[],s=o.length;++t<a;){var l=r[t];i&&("length"==l||O(l,s))||"constructor"==l&&(n||!ua.call(e,l))||o.push(l)}return o}function Hr(e){return x(e,Fr(e))}function Wr(e){return e?_(e,Fr(e)):[]}function qr(e){return ci(Dr(e).toLowerCase())}function Gr(e){return(e=Dr(e))&&e.replace(be,L).replace(_e,"")}function Yr(e,t){e=Dr(e),t=zr(t);var n="";if(!e||1>t||t>9007199254740991)return n;do t%2&&(n+=e),t=La(t/2),e+=e;while(t);return n}function Xr(e,t,n){return e=Dr(e),t=n?H:t,t===H&&(t=Le.test(e)?Ie:Me),e.match(t)||[]}function Vr(e){return function(){return e}}function Kr(e){return e}function Qr(e){return kt("function"==typeof e?e:at(e,!0))}function Zr(e,t,n){var r=Fr(t),o=ht(t,r);null!=n||Sr(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=ht(t,Fr(t)));var i=Sr(n)&&"chain"in n?n.chain:!0,s=br(e);return a(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Jt(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,u([this.value()],arguments))})}),e}function Jr(){}function ea(e){return Dn(e)?zt(e):$t(e)}function ta(e){return e&&e.length?C(e,Kr):0}M=M?Xe.defaults({},M,Xe.pick(Ye,Pe)):Ye;var na=M.Date,ra=M.Error,aa=M.Math,oa=M.RegExp,ia=M.TypeError,sa=M.Array.prototype,la=M.Object.prototype,ca=M.Function.prototype.toString,ua=la.hasOwnProperty,da=0,pa=ca.call(Object),fa=la.toString,ma=Ye._,ha=oa("^"+ca.call(ua).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ga=He?M.Buffer:H,va=M.Reflect,ya=M.Symbol,ba=M.Uint8Array,wa=M.clearTimeout,Ca=va?va.f:H,Sa=Object.getPrototypeOf,xa=Object.getOwnPropertySymbols,ka="symbol"==typeof(ka=ya&&ya.iterator)?ka:H,_a=Object.create,Ta=la.propertyIsEnumerable,Aa=M.setTimeout,Ma=sa.splice,Ia=aa.ceil,La=aa.floor,Pa=M.isFinite,Ea=sa.join,za=Object.keys,$a=aa.max,Oa=aa.min,Ra=M.parseInt,Da=aa.random,Na=sa.reverse,ja=Mn(M,"Map"),Ba=Mn(M,"Set"),Fa=Mn(M,"WeakMap"),Ua=Mn(Object,"create"),Ha=Fa&&new Fa,Wa=!{valueOf:1}.propertyIsEnumerable("valueOf"),qa={},Ga=ja?ca.call(ja):"",Ya=Ba?ca.call(Ba):"",Xa=Fa?ca.call(Fa):"",Va=ya?ya.prototype:H,Ka=Va?Va.valueOf:H,Qa=Va?Va.toString:H;ye.templateSettings={escape:J,evaluate:ee,interpolate:te,variable:"",imports:{_:ye}};var Za=on(ft),Ja=on(mt,!0),eo=sn(),to=sn(!0);Ca&&!Ta.call({valueOf:1},"valueOf")&&(_t=function(e){return R(Ca(e))});var no=Ha?function(e,t){return Ha.set(e,t),e}:Kr,ro=Ba&&2===new Ba([1,2]).size?function(e){return new Ba(e)}:Jr,ao=Ha?function(e){return Ha.get(e)}:Jr,oo=zt("length"),io=xa||function(){return[]};(ja&&"[object Map]"!=Ln(new ja)||Ba&&"[object Set]"!=Ln(new Ba)||Fa&&"[object WeakMap]"!=Ln(new Fa))&&(Ln=function(e){var t=fa.call(e);if(e="[object Object]"==t?e.constructor:null,e="function"==typeof e?ca.call(e):"")switch(e){case Ga:return"[object Map]";case Ya:return"[object Set]";case Xa:return"[object WeakMap]"}return t});var so=function(){var e=0,t=0;return function(n,r){var a=$o(),o=16-(a-t);if(t=a,o>0){if(150<=++e)return n}else e=0;return no(n,r)}}(),lo=pr(function(e,t){Ho(e)||(e=null==e?[]:[Object(e)]),t=dt(t,1);for(var n=e,r=t,a=-1,o=n.length,i=-1,s=r.length,l=Array(o+s);++a<o;)l[a]=n[a];for(;++i<s;)l[a++]=r[i];return l}),co=pr(function(e,t){return vr(e)?lt(e,dt(t,1,!0)):[]}),uo=pr(function(e,t){var n=Xn(t);return vr(n)&&(n=H),vr(e)?lt(e,dt(t,1,!0),Tn(n)):[]}),po=pr(function(e,t){var n=Xn(t);return vr(n)&&(n=H),vr(e)?lt(e,dt(t,1,!0),H,n):[]}),fo=pr(function(e){var t=c(e,et);return t.length&&t[0]===e[0]?bt(t):[]}),mo=pr(function(e){var t=Xn(e),n=c(e,et);return t===Xn(n)?t=H:n.pop(),n.length&&n[0]===e[0]?bt(n,Tn(t)):[]}),ho=pr(function(e){var t=Xn(e),n=c(e,et);return t===Xn(n)?t=H:n.pop(),n.length&&n[0]===e[0]?bt(n,H,t):[]}),go=pr(Vn),vo=pr(function(e,t){t=c(dt(t,1),String);var n=Je(e,t);return Rt(e,t.sort(I)),n}),yo=pr(function(e){return Wt(dt(e,1,!0))}),bo=pr(function(e){var t=Xn(e);return vr(t)&&(t=H),Wt(dt(e,1,!0),Tn(t))}),wo=pr(function(e){var t=Xn(e);return vr(t)&&(t=H),Wt(dt(e,1,!0),H,t)}),Co=pr(function(e,t){return vr(e)?lt(e,t):[]}),So=pr(function(e){return Yt(i(e,vr))}),xo=pr(function(e){var t=Xn(e);return vr(t)&&(t=H),Yt(i(e,vr),Tn(t))}),ko=pr(function(e){var t=Xn(e);return vr(t)&&(t=H),Yt(i(e,vr),H,t)}),_o=pr(Qn),To=pr(function(e){var t=e.length,t=t>1?e[t-1]:H,t="function"==typeof t?(e.pop(),t):H;return Zn(e,t)}),Ao=pr(function(e){function t(t){return Je(t,e);
}e=dt(e,1);var n=e.length,r=n?e[0]:0,a=this.__wrapped__;return 1>=n&&!this.__actions__.length&&a instanceof ke&&O(r)?(a=a.slice(r,+r+(n?1:0)),a.__actions__.push({func:er,args:[t],thisArg:H}),new xe(a,this.__chain__).thru(function(e){return n&&!e.length&&e.push(H),e})):this.thru(t)}),Mo=rn(function(e,t,n){ua.call(e,n)?++e[n]:e[n]=1}),Io=rn(function(e,t,n){ua.call(e,n)?e[n].push(t):e[n]=[t]}),Lo=pr(function(e,t,r){var a=-1,o="function"==typeof t,i=Dn(t),s=gr(e)?Array(e.length):[];return Za(e,function(e){var l=o?t:i&&null!=e?e[t]:H;s[++a]=l?n(l,e,r):Ct(e,t,r)}),s}),Po=rn(function(e,t,n){e[n]=t}),Eo=rn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),zo=pr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Rn(e,t[0],t[1])?t=[]:n>2&&Rn(t[0],t[1],t[2])&&(t.length=1),Lt(e,dt(t,1),[])}),$o=na.now,Oo=pr(function(e,t,n){var r=1;if(n.length)var a=N(n,In(Oo)),r=32|r;return Sn(e,r,t,n,a)}),Ro=pr(function(e,t,n){var r=3;if(n.length)var a=N(n,In(Ro)),r=32|r;return Sn(t,r,e,n,a)}),Do=pr(function(e,t){return st(e,1,t)}),No=pr(function(e,t,n){return st(e,Or(t)||0,n)}),jo=pr(function(e,t){t=c(dt(t,1),Tn());var r=t.length;return pr(function(a){for(var o=-1,i=Oa(a.length,r);++o<i;)a[o]=t[o].call(this,a[o]);return n(e,this,a)})}),Bo=pr(function(e,t){var n=N(t,In(Bo));return Sn(e,32,H,t,n)}),Fo=pr(function(e,t){var n=N(t,In(Fo));return Sn(e,64,H,t,n)}),Uo=pr(function(e,t){return Sn(e,256,H,H,H,dt(t,1))}),Ho=Array.isArray,Wo=ga?function(e){return e instanceof ga}:Vr(!1),qo=an(function(e,t){if(Wa||Bn(t)||gr(t))en(t,Fr(t),e);else for(var n in t)ua.call(t,n)&&Ke(e,n,t[n])}),Go=an(function(e,t){if(Wa||Bn(t)||gr(t))en(t,Ur(t),e);else for(var n in t)Ke(e,n,t[n])}),Yo=an(function(e,t,n,r){tn(t,Ur(t),e,r)}),Xo=an(function(e,t,n,r){tn(t,Fr(t),e,r)}),Vo=pr(function(e,t){return Je(e,dt(t,1))}),Ko=pr(function(e){return e.push(H,Ge),n(Yo,H,e)}),Qo=pr(function(e){return e.push(H,Fn),n(ni,H,e)}),Zo=hn(function(e,t,n){e[t]=n},Vr(Kr)),Jo=hn(function(e,t,n){ua.call(e,t)?e[t].push(n):e[t]=[n]},Tn),ei=pr(Ct),ti=an(function(e,t,n){It(e,t,n)}),ni=an(function(e,t,n,r){It(e,t,n,r)}),ri=pr(function(e,t){return null==e?{}:(t=c(dt(t,1),String),Pt(e,lt(Ur(e),t)))}),ai=pr(function(e,t){return null==e?{}:Pt(e,dt(t,1))}),oi=un(function(e,t,n){return t=t.toLowerCase(),e+(n?qr(t):t)}),ii=un(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),si=un(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),li=cn("toLowerCase"),ci=cn("toUpperCase"),ui=un(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),di=un(function(e,t,n){return e+(n?" ":"")+qr(t)}),pi=un(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),fi=pr(function(e,t){try{return n(e,H,t)}catch(r){return yr(r)?r:new ra(r)}}),mi=pr(function(e,t){return a(dt(t,1),function(t){e[t]=Oo(e[t],e)}),e}),hi=fn(),gi=fn(!0),vi=pr(function(e,t){return function(n){return Ct(n,e,t)}}),yi=pr(function(e,t){return function(n){return Ct(e,n,t)}}),bi=gn(c),wi=gn(o),Ci=gn(f),Si=bn(),xi=bn(!0),ki=Cn("ceil"),_i=Cn("floor"),Ti=Cn("round");return ye.prototype=Se.prototype,ye.prototype.constructor=ye,xe.prototype=it(Se.prototype),xe.prototype.constructor=xe,ke.prototype=it(Se.prototype),ke.prototype.constructor=ke,$e.prototype=Ua?Ua(null):la,Oe.prototype.clear=function(){this.__data__={hash:new $e,map:ja?new ja:[],string:new $e}},Oe.prototype["delete"]=function(e){var t=this.__data__;return Nn(e)?(t="string"==typeof e?t.string:t.hash,e=(Ua?t[e]!==H:ua.call(t,e))&&delete t[e]):e=ja?t.map["delete"](e):Fe(t.map,e),e},Oe.prototype.get=function(e){var t=this.__data__;return Nn(e)?(t="string"==typeof e?t.string:t.hash,Ua?(e=t[e],e="__lodash_hash_undefined__"===e?H:e):e=ua.call(t,e)?t[e]:H):e=ja?t.map.get(e):Ue(t.map,e),e},Oe.prototype.has=function(e){var t=this.__data__;return Nn(e)?(t="string"==typeof e?t.string:t.hash,e=Ua?t[e]!==H:ua.call(t,e)):e=ja?t.map.has(e):-1<We(t.map,e),e},Oe.prototype.set=function(e,t){var n=this.__data__;return Nn(e)?("string"==typeof e?n.string:n.hash)[e]=Ua&&t===H?"__lodash_hash_undefined__":t:ja?n.map.set(e,t):qe(n.map,e,t),this},Re.prototype.push=function(e){var t=this.__data__;Nn(e)?(t=t.__data__,("string"==typeof e?t.string:t.hash)[e]="__lodash_hash_undefined__"):t.set(e,"__lodash_hash_undefined__")},Ne.prototype.clear=function(){this.__data__={array:[],map:null}},Ne.prototype["delete"]=function(e){var t=this.__data__,n=t.array;return n?Fe(n,e):t.map["delete"](e)},Ne.prototype.get=function(e){var t=this.__data__,n=t.array;return n?Ue(n,e):t.map.get(e)},Ne.prototype.has=function(e){var t=this.__data__,n=t.array;return n?-1<We(n,e):t.map.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__,r=n.array;return r&&(199>r.length?qe(r,e,t):(n.array=null,n.map=new Oe(r))),(n=n.map)&&n.set(e,t),this},dr.Cache=Oe,ye.after=function(e,t){if("function"!=typeof t)throw new ia("Expected a function");return e=zr(e),function(){return 1>--e?t.apply(this,arguments):void 0}},ye.ary=ir,ye.assign=qo,ye.assignIn=Go,ye.assignInWith=Yo,ye.assignWith=Xo,ye.at=Vo,ye.before=sr,ye.bind=Oo,ye.bindAll=mi,ye.bindKey=Ro,ye.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ho(e)?e:[e]},ye.chain=Jn,ye.chunk=function(e,t){t=$a(zr(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var r=0,a=0,o=Array(Ia(n/t));n>r;)o[a++]=jt(e,r,r+=t);return o},ye.compact=function(e){for(var t=-1,n=e?e.length:0,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},ye.concat=lo,ye.cond=function(e){var t=e?e.length:0,r=Tn();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new ia("Expected a function");return[r(e[0]),e[1]]}):[],pr(function(r){for(var a=-1;++a<t;){var o=e[a];if(n(o[0],this,r))return n(o[1],this,r)}})},ye.conforms=function(e){return ot(at(e,!0))},ye.constant=Vr,ye.countBy=Mo,ye.create=function(e,t){var n=it(e);return t?Ze(n,t):n},ye.curry=lr,ye.curryRight=cr,ye.debounce=ur,ye.defaults=Ko,ye.defaultsDeep=Qo,ye.defer=Do,ye.delay=No,ye.difference=co,ye.differenceBy=uo,ye.differenceWith=po,ye.drop=qn,ye.dropRight=Gn,ye.dropRightWhile=function(e,t){return e&&e.length?qt(e,Tn(t,3),!0,!0):[]},ye.dropWhile=function(e,t){return e&&e.length?qt(e,Tn(t,3),!0):[]},ye.fill=function(e,t,n,r){var a=e?e.length:0;if(!a)return[];for(n&&"number"!=typeof n&&Rn(e,t,n)&&(n=0,r=a),a=e.length,n=zr(n),0>n&&(n=-n>a?0:a+n),r=r===H||r>a?a:zr(r),0>r&&(r+=a),r=n>r?0:$r(r);r>n;)e[n++]=t;return e},ye.filter=function(e,t){return(Ho(e)?i:ut)(e,Tn(t,3))},ye.flatMap=function(e,t){return dt(ar(e,t),1)},ye.flatten=function(e){return e&&e.length?dt(e,1):[]},ye.flattenDeep=function(e){return e&&e.length?dt(e,W):[]},ye.flattenDepth=function(e,t){return e&&e.length?(t=t===H?1:zr(t),dt(e,t)):[]},ye.flip=function(e){return Sn(e,512)},ye.flow=hi,ye.flowRight=gi,ye.fromPairs=function(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},ye.functions=function(e){return null==e?[]:ht(e,Fr(e))},ye.functionsIn=function(e){return null==e?[]:ht(e,Ur(e))},ye.groupBy=Io,ye.initial=function(e){return Gn(e,1)},ye.intersection=fo,ye.intersectionBy=mo,ye.intersectionWith=ho,ye.invert=Zo,ye.invertBy=Jo,ye.invokeMap=Lo,ye.iteratee=Qr,ye.keyBy=Po,ye.keys=Fr,ye.keysIn=Ur,ye.map=ar,ye.mapKeys=function(e,t){var n={};return t=Tn(t,3),ft(e,function(e,r,a){n[t(e,r,a)]=e}),n},ye.mapValues=function(e,t){var n={};return t=Tn(t,3),ft(e,function(e,r,a){n[r]=t(e,r,a)}),n},ye.matches=function(e){return At(at(e,!0))},ye.matchesProperty=function(e,t){return Mt(e,at(t,!0))},ye.memoize=dr,ye.merge=ti,ye.mergeWith=ni,ye.method=vi,ye.methodOf=yi,ye.mixin=Zr,ye.negate=function(e){if("function"!=typeof e)throw new ia("Expected a function");return function(){return!e.apply(this,arguments)}},ye.nthArg=function(e){return e=zr(e),function(){return arguments[e]}},ye.omit=ri,ye.omitBy=function(e,t){return t=Tn(t),Et(e,function(e,n){return!t(e,n)})},ye.once=function(e){return sr(2,e)},ye.orderBy=function(e,t,n,r){return null==e?[]:(Ho(t)||(t=null==t?[]:[t]),n=r?H:n,Ho(n)||(n=null==n?[]:[n]),Lt(e,t,n))},ye.over=bi,ye.overArgs=jo,ye.overEvery=wi,ye.overSome=Ci,ye.partial=Bo,ye.partialRight=Fo,ye.partition=Eo,ye.pick=ai,ye.pickBy=function(e,t){return null==e?{}:Et(e,Tn(t))},ye.property=ea,ye.propertyOf=function(e){return function(t){return null==e?H:gt(e,t)}},ye.pull=go,ye.pullAll=Vn,ye.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ot(e,t,Tn(n)):e},ye.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ot(e,t,H,n):e},ye.pullAt=vo,ye.range=Si,ye.rangeRight=xi,ye.rearg=Uo,ye.reject=function(e,t){var n=Ho(e)?i:ut;return t=Tn(t,3),n(e,function(e,n,r){return!t(e,n,r)})},ye.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=Tn(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return Rt(e,a),n},ye.rest=pr,ye.reverse=Kn,ye.sampleSize=or,ye.set=function(e,t,n){return null==e?e:Nt(e,t,n)},ye.setWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:Nt(e,t,n,r)},ye.shuffle=function(e){return or(e,4294967295)},ye.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Rn(e,t,n)?(t=0,n=r):(t=null==t?0:zr(t),n=n===H?r:zr(n)),jt(e,t,n)):[]},ye.sortBy=zo,ye.sortedUniq=function(e){return e&&e.length?Ht(e):[]},ye.sortedUniqBy=function(e,t){return e&&e.length?Ht(e,Tn(t)):[]},ye.split=function(e,t,n){return Dr(e).split(t,n)},ye.spread=function(e,t){if("function"!=typeof e)throw new ia("Expected a function");return t=t===H?0:$a(zr(t),0),pr(function(r){var a=r[t];return r=r.slice(0,t),a&&u(r,a),n(e,this,r)})},ye.tail=function(e){return qn(e,1)},ye.take=function(e,t,n){return e&&e.length?(t=n||t===H?1:zr(t),jt(e,0,0>t?0:t)):[]},ye.takeRight=function(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:zr(t),t=r-t,jt(e,0>t?0:t,r)):[]},ye.takeRightWhile=function(e,t){return e&&e.length?qt(e,Tn(t,3),!1,!0):[]},ye.takeWhile=function(e,t){return e&&e.length?qt(e,Tn(t,3)):[]},ye.tap=function(e,t){return t(e),e},ye.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new ia("Expected a function");return Sr(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ur(e,t,{leading:r,maxWait:t,trailing:a})},ye.thru=er,ye.toArray=Er,ye.toPairs=Hr,ye.toPairsIn=function(e){return x(e,Ur(e))},ye.toPath=function(e){return Ho(e)?c(e,String):Hn(e)},ye.toPlainObject=Rr,ye.transform=function(e,t,n){var r=Ho(e)||Lr(e);if(t=Tn(t,4),null==n)if(r||Sr(e)){var o=e.constructor;n=r?Ho(e)?new o:[]:br(o)?it(Sa(e)):{}}else n={};return(r?a:ft)(e,function(e,r,a){return t(n,e,r,a)}),n},ye.unary=function(e){return ir(e,1)},ye.union=yo,ye.unionBy=bo,ye.unionWith=wo,ye.uniq=function(e){return e&&e.length?Wt(e):[]},ye.uniqBy=function(e,t){return e&&e.length?Wt(e,Tn(t)):[]},ye.uniqWith=function(e,t){return e&&e.length?Wt(e,H,t):[]},ye.unset=function(e,t){var n;if(null==e)n=!0;else{n=e;var r=t,r=Dn(r,n)?[r+""]:nt(r);n=Un(n,r),r=Xn(r),n=null!=n&&jr(n,r)?delete n[r]:!0}return n},ye.unzip=Qn,ye.unzipWith=Zn,ye.update=function(e,t,n){return null==e?e:Nt(e,t,tt(n)(gt(e,t)),void 0)},ye.updateWith=function(e,t,n,r){return r="function"==typeof r?r:H,null!=e&&(e=Nt(e,t,tt(n)(gt(e,t)),r)),e},ye.values=Wr,ye.valuesIn=function(e){return null==e?[]:_(e,Ur(e))},ye.without=Co,ye.words=Xr,ye.wrap=function(e,t){return t=null==t?Kr:t,Bo(t,e)},ye.xor=So,ye.xorBy=xo,ye.xorWith=ko,ye.zip=_o,ye.zipObject=function(e,t){return Xt(e||[],t||[],Ke)},ye.zipObjectDeep=function(e,t){return Xt(e||[],t||[],Nt)},ye.zipWith=To,ye.extend=Go,ye.extendWith=Yo,Zr(ye,ye),ye.add=function(e,t){var n;return e===H&&t===H?0:(e!==H&&(n=e),t!==H&&(n=n===H?t:n+t),n)},ye.attempt=fi,ye.camelCase=oi,ye.capitalize=qr,ye.ceil=ki,ye.clamp=function(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=Or(n),n=n===n?n:0),t!==H&&(t=Or(t),t=t===t?t:0),rt(Or(e),t,n)},ye.clone=function(e){return at(e)},ye.cloneDeep=function(e){return at(e,!0)},ye.cloneDeepWith=function(e,t){return at(e,!0,t)},ye.cloneWith=function(e,t){return at(e,!1,t)},ye.deburr=Gr,ye.endsWith=function(e,t,n){e=Dr(e),t="string"==typeof t?t:t+"";var r=e.length;return n=n===H?r:rt(zr(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n},ye.eq=fr,ye.escape=function(e){return(e=Dr(e))&&Z.test(e)?e.replace(K,P):e},ye.escapeRegExp=function(e){return(e=Dr(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},ye.every=function(e,t,n){var r=Ho(e)?o:ct;return n&&Rn(e,t,n)&&(t=H),r(e,Tn(t,3))},ye.find=function(e,t){if(t=Tn(t,3),Ho(e)){var n=g(e,t);return n>-1?e[n]:H}return h(e,t,Za)},ye.findIndex=function(e,t){return e&&e.length?g(e,Tn(t,3)):-1},ye.findKey=function(e,t){return h(e,Tn(t,3),ft,!0)},ye.findLast=function(e,t){if(t=Tn(t,3),Ho(e)){var n=g(e,t,!0);return n>-1?e[n]:H}return h(e,t,Ja)},ye.findLastIndex=function(e,t){return e&&e.length?g(e,Tn(t,3),!0):-1},ye.findLastKey=function(e,t){return h(e,Tn(t,3),mt,!0)},ye.floor=_i,ye.forEach=nr,ye.forEachRight=rr,ye.forIn=function(e,t){return null==e?e:eo(e,tt(t),Ur)},ye.forInRight=function(e,t){return null==e?e:to(e,tt(t),Ur)},ye.forOwn=function(e,t){return e&&ft(e,tt(t))},ye.forOwnRight=function(e,t){return e&&mt(e,tt(t))},ye.get=Nr,ye.gt=mr,ye.gte=function(e,t){return e>=t},ye.has=jr,ye.hasIn=Br,ye.head=Yn,ye.identity=Kr,ye.includes=function(e,t,n,r){return e=gr(e)?e:Wr(e),n=n&&!r?zr(n):0,r=e.length,0>n&&(n=$a(r+n,0)),Mr(e)?r>=n&&-1<e.indexOf(t,n):!!r&&-1<v(e,t,n)},ye.indexOf=function(e,t,n){var r=e?e.length:0;return r?(n=zr(n),0>n&&(n=$a(r+n,0)),v(e,t,n)):-1},ye.inRange=function(e,t,n){return t=Or(t)||0,n===H?(n=t,t=0):n=Or(n)||0,e=Or(e),e>=Oa(t,n)&&e<$a(t,n)},ye.invoke=ei,ye.isArguments=hr,ye.isArray=Ho,ye.isArrayBuffer=function(e){return xr(e)&&"[object ArrayBuffer]"==fa.call(e)},ye.isArrayLike=gr,ye.isArrayLikeObject=vr,ye.isBoolean=function(e){return!0===e||!1===e||xr(e)&&"[object Boolean]"==fa.call(e)},ye.isBuffer=Wo,ye.isDate=function(e){return xr(e)&&"[object Date]"==fa.call(e)},ye.isElement=function(e){return!!e&&1===e.nodeType&&xr(e)&&!Tr(e)},ye.isEmpty=function(e){if(gr(e)&&(Ho(e)||Mr(e)||br(e.splice)||hr(e)))return!e.length;for(var t in e)if(ua.call(e,t))return!1;return!0},ye.isEqual=function(e,t){return St(e,t)},ye.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:H)?n(e,t):H;return r===H?St(e,t,n):!!r},ye.isError=yr,ye.isFinite=function(e){return"number"==typeof e&&Pa(e)},ye.isFunction=br,ye.isInteger=wr,ye.isLength=Cr,ye.isMap=function(e){return xr(e)&&"[object Map]"==Ln(e)},ye.isMatch=function(e,t){return e===t||xt(e,t,An(t))},ye.isMatchWith=function(e,t,n){return n="function"==typeof n?n:H,xt(e,t,An(t),n)},ye.isNaN=function(e){return _r(e)&&e!=+e},ye.isNative=kr,ye.isNil=function(e){return null==e},ye.isNull=function(e){return null===e},ye.isNumber=_r,ye.isObject=Sr,ye.isObjectLike=xr,ye.isPlainObject=Tr,ye.isRegExp=Ar,ye.isSafeInteger=function(e){return wr(e)&&e>=-9007199254740991&&9007199254740991>=e},ye.isSet=function(e){return xr(e)&&"[object Set]"==Ln(e)},ye.isString=Mr,ye.isSymbol=Ir,ye.isTypedArray=Lr,ye.isUndefined=function(e){return e===H},ye.isWeakMap=function(e){return xr(e)&&"[object WeakMap]"==Ln(e)},ye.isWeakSet=function(e){return xr(e)&&"[object WeakSet]"==fa.call(e)},ye.join=function(e,t){return e?Ea.call(e,t):""},ye.kebabCase=ii,ye.last=Xn,ye.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var a=r;if(n!==H&&(a=zr(n),a=(0>a?$a(r+a,0):Oa(a,r-1))+1),t!==t)return z(e,a,!0);for(;a--;)if(e[a]===t)return a;return-1},ye.lowerCase=si,ye.lowerFirst=li,ye.lt=Pr,ye.lte=function(e,t){return t>=e},ye.max=function(e){return e&&e.length?m(e,Kr,mr):H},ye.maxBy=function(e,t){return e&&e.length?m(e,Tn(t),mr):H},ye.mean=function(e){return ta(e)/(e?e.length:0)},ye.min=function(e){return e&&e.length?m(e,Kr,Pr):H},ye.minBy=function(e,t){return e&&e.length?m(e,Tn(t),Pr):H},ye.noConflict=function(){return Ye._===this&&(Ye._=ma),this},ye.noop=Jr,ye.now=$o,ye.pad=function(e,t,n){e=Dr(e),t=zr(t);var r=B(e);return t&&t>r?(r=(t-r)/2,t=La(r),r=Ia(r),vn("",t,n)+e+vn("",r,n)):e},ye.padEnd=function(e,t,n){return e=Dr(e),e+vn(e,t,n)},ye.padStart=function(e,t,n){return e=Dr(e),vn(e,t,n)+e},ye.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Dr(e).replace(se,""),Ra(e,t||(fe.test(e)?16:10))},ye.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Rn(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=Or(e)||0,t===H?(t=e,e=0):t=Or(t)||0),e>t){var r=e;e=t,t=r}return n||e%1||t%1?(n=Da(),Oa(e+n*(t-e+je("1e-"+((n+"").length-1))),t)):Dt(e,t)},ye.reduce=function(e,t,n){var r=Ho(e)?d:b,a=3>arguments.length;return r(e,Tn(t,4),n,a,Za)},ye.reduceRight=function(e,t,n){var r=Ho(e)?p:b,a=3>arguments.length;return r(e,Tn(t,4),n,a,Ja)},ye.repeat=Yr,ye.replace=function(){var e=arguments,t=Dr(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},ye.result=function(e,t,n){if(Dn(t,e))r=null==e?H:e[t];else{t=nt(t);var r=Nr(e,t);e=Un(e,t)}return r===H&&(r=n),br(r)?r.call(e):r},ye.round=Ti,ye.runInContext=U,ye.sample=function(e){e=gr(e)?e:Wr(e);var t=e.length;return t>0?e[Dt(0,t-1)]:H},ye.size=function(e){if(null==e)return 0;if(gr(e)){var t=e.length;return t&&Mr(e)?B(e):t}return Fr(e).length},ye.snakeCase=ui,ye.some=function(e,t,n){var r=Ho(e)?f:Bt;return n&&Rn(e,t,n)&&(t=H),r(e,Tn(t,3))},ye.sortedIndex=function(e,t){return Ft(e,t)},ye.sortedIndexBy=function(e,t,n){return Ut(e,t,Tn(n))},ye.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var r=Ft(e,t);if(n>r&&fr(e[r],t))return r}return-1},ye.sortedLastIndex=function(e,t){return Ft(e,t,!0)},ye.sortedLastIndexBy=function(e,t,n){return Ut(e,t,Tn(n),!0)},ye.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=Ft(e,t,!0)-1;if(fr(e[n],t))return n}return-1},ye.startCase=di,ye.startsWith=function(e,t,n){return e=Dr(e),n=rt(zr(n),0,e.length),e.lastIndexOf(t,n)==n},ye.subtract=function(e,t){var n;return e===H&&t===H?0:(e!==H&&(n=e),t!==H&&(n=n===H?t:n-t),n)},ye.sum=ta,ye.sumBy=function(e,t){return e&&e.length?C(e,Tn(t)):0},ye.template=function(e,t,n){var r=ye.templateSettings;n&&Rn(e,t,n)&&(t=H),e=Dr(e),t=Yo({},t,r,Ge),n=Yo({},t.imports,r.imports,Ge);var a,o,i=Fr(n),s=_(n,i),l=0;n=t.interpolate||we;var c="__p+='";n=oa((t.escape||we).source+"|"+n.source+"|"+(n===te?de:we).source+"|"+(t.evaluate||we).source+"|$","g");var u="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,i,s,u){return r||(r=i),c+=e.slice(l,u).replace(Ce,E),n&&(a=!0,c+="'+__e("+n+")+'"),s&&(o=!0,c+="';"+s+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),l=u+t.length,t}),c+="';",(t=t.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(G,""):c).replace(Y,"$1").replace(X,"$1;"),c="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",t=fi(function(){return Function(i,u+"return "+c).apply(H,s)}),t.source=c,yr(t))throw t;return t},ye.times=function(e,t){if(e=zr(e),1>e||e>9007199254740991)return[];var n=4294967295,r=Oa(e,4294967295);for(t=tt(t),e-=4294967295,r=S(r,t);++n<e;)t(n);return r},ye.toInteger=zr,ye.toLength=$r,ye.toLower=function(e){return Dr(e).toLowerCase()},ye.toNumber=Or,ye.toSafeInteger=function(e){return rt(zr(e),-9007199254740991,9007199254740991)},ye.toString=Dr,ye.toUpper=function(e){return Dr(e).toUpperCase()},ye.trim=function(e,t,n){return(e=Dr(e))?n||t===H?e.replace(se,""):(t+="")?(e=e.match(Te),t=t.match(Te),e.slice(T(e,t),A(e,t)+1).join("")):e:e},ye.trimEnd=function(e,t,n){return(e=Dr(e))?n||t===H?e.replace(ce,""):(t+="")?(e=e.match(Te),e.slice(0,A(e,t.match(Te))+1).join("")):e:e},ye.trimStart=function(e,t,n){return(e=Dr(e))?n||t===H?e.replace(le,""):(t+="")?(e=e.match(Te),e.slice(T(e,t.match(Te))).join("")):e:e},ye.truncate=function(e,t){var n=30,r="...";if(Sr(t))var a="separator"in t?t.separator:a,n="length"in t?zr(t.length):n,r="omission"in t?Dr(t.omission):r;e=Dr(e);var o=e.length;if(Ae.test(e))var i=e.match(Te),o=i.length;if(n>=o)return e;if(o=n-B(r),1>o)return r;if(n=i?i.slice(0,o).join(""):e.slice(0,o),a===H)return n+r;if(i&&(o+=n.length-o),Ar(a)){if(e.slice(o).search(a)){var s=n;for(a.global||(a=oa(a.source,Dr(pe.exec(a))+"g")),a.lastIndex=0;i=a.exec(s);)var l=i.index;n=n.slice(0,l===H?o:l)}}else e.indexOf(a,o)!=o&&(a=n.lastIndexOf(a),a>-1&&(n=n.slice(0,a)));return n+r},ye.unescape=function(e){return(e=Dr(e))&&Q.test(e)?e.replace(V,F):e},ye.uniqueId=function(e){var t=++da;return Dr(e)+t},ye.upperCase=pi,ye.upperFirst=ci,ye.each=nr,ye.eachRight=rr,ye.first=Yn,Zr(ye,function(){var e={};return ft(ye,function(t,n){ua.call(ye.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),ye.VERSION="4.6.0",a("bind bindKey curry curryRight partial partialRight".split(" "),function(e){ye[e].placeholder=ye}),a(["drop","take"],function(e,t){ke.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new ke(this);n=n===H?1:$a(zr(n),0);var a=this.clone();return r?a.__takeCount__=Oa(n,a.__takeCount__):a.__views__.push({size:Oa(n,4294967295),type:e+(0>a.__dir__?"Right":"")}),a},ke.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ke.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Tn(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");ke.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ke.prototype[e]=function(){return this.__filtered__?new ke(this):this[n](1)}}),ke.prototype.compact=function(){return this.filter(Kr)},ke.prototype.find=function(e){return this.filter(e).head()},ke.prototype.findLast=function(e){return this.reverse().find(e)},ke.prototype.invokeMap=pr(function(e,t){return"function"==typeof e?new ke(this):this.map(function(n){return Ct(n,e,t)})}),ke.prototype.reject=function(e){return e=Tn(e,3),this.filter(function(t){return!e(t)})},ke.prototype.slice=function(e,t){e=zr(e);var n=this;return n.__filtered__&&(e>0||0>t)?new ke(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(t=zr(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},ke.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ke.prototype.toArray=function(){return this.take(4294967295)},ft(ke.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=ye[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(ye.prototype[t]=function(){function t(e){return e=a.apply(ye,u([e],s)),r&&p?e[0]:e}var i=this.__wrapped__,s=r?[1]:arguments,l=i instanceof ke,c=s[0],d=l||Ho(i);d&&n&&"function"==typeof c&&1!=c.length&&(l=d=!1);var p=this.__chain__,f=!!this.__actions__.length,c=o&&!p,l=l&&!f;return!o&&d?(i=l?i:new ke(this),i=e.apply(i,s),i.__actions__.push({func:er,args:[t],thisArg:H}),new xe(i,p)):c&&l?e.apply(this,s):(i=this.thru(t),c?r?i.value()[0]:i.value():i)})}),a("pop push shift sort splice unshift".split(" "),function(e){var t=sa[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);ye.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),ft(ke.prototype,function(e,t){var n=ye[t];if(n){var r=n.name+"";(qa[r]||(qa[r]=[])).push({name:t,func:n})}}),qa[mn(H,2).name]=[{name:"wrapper",func:H}],ke.prototype.clone=function(){var e=new ke(this.__wrapped__);return e.__actions__=Jt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Jt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Jt(this.__views__),e},ke.prototype.reverse=function(){if(this.__filtered__){var e=new ke(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},ke.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=Ho(t),a=0>n,o=r?t.length:0;e=o;for(var i=this.__views__,s=0,l=-1,c=i.length;++l<c;){var u=i[l],d=u.size;switch(u.type){case"drop":s+=d;break;case"dropRight":e-=d;break;case"take":e=Oa(e,s+d);break;case"takeRight":s=$a(s,e-d)}}if(e={start:s,end:e},i=e.start,s=e.end,e=s-i,a=a?s:i-1,i=this.__iteratees__,s=i.length,l=0,c=Oa(e,this.__takeCount__),!r||200>o||o==e&&c==e)return Gt(t,this.__actions__);r=[];e:for(;e--&&c>l;){for(a+=n,o=-1,u=t[a];++o<s;){var p=i[o],d=p.type,p=p.iteratee(u);if(2==d)u=p;else if(!p){if(1==d)continue e;break e}}r[l++]=u}return r},ye.prototype.at=Ao,ye.prototype.chain=function(){return Jn(this)},ye.prototype.commit=function(){return new xe(this.value(),this.__chain__)},ye.prototype.flatMap=function(e){return this.map(e).flatten()},ye.prototype.next=function(){this.__values__===H&&(this.__values__=Er(this.value()));var e=this.__index__>=this.__values__.length,t=e?H:this.__values__[this.__index__++];return{done:e,value:t}},ye.prototype.plant=function(e){for(var t,n=this;n instanceof Se;){var r=Wn(n);r.__index__=0,r.__values__=H,t?a.__wrapped__=r:t=r;var a=r,n=n.__wrapped__}return a.__wrapped__=e,t},ye.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof ke?(this.__actions__.length&&(e=new ke(this)),e=e.reverse(),e.__actions__.push({func:er,args:[Kn],thisArg:H}),new xe(e,this.__chain__)):this.thru(Kn)},ye.prototype.toJSON=ye.prototype.valueOf=ye.prototype.value=function(){return Gt(this.__wrapped__,this.__actions__)},ka&&(ye.prototype[ka]=tr),ye}var H,W=1/0,q=NaN,G=/\b__p\+='';/g,Y=/\b(__p\+=)''\+/g,X=/(__e\(.*?\)|\b__t\))\+'';/g,V=/&(?:amp|lt|gt|quot|#39|#96);/g,K=/[&<>"'`]/g,Q=RegExp(V.source),Z=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),se=/^\s+|\s+$/g,le=/^\s+/,ce=/\s+$/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^0x/i,me=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,we=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Se="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",xe="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Se,ke="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",_e=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Te=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+ke+Se,"g"),Ae=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Me=/[a-zA-Z0-9]+/g,Ie=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+",xe].join("|"),"g"),Le=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pe="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;var ze={};ze["[object Arguments]"]=ze["[object Array]"]=ze["[object ArrayBuffer]"]=ze["[object Boolean]"]=ze["[object Date]"]=ze["[object Float32Array]"]=ze["[object Float64Array]"]=ze["[object Int8Array]"]=ze["[object Int16Array]"]=ze["[object Int32Array]"]=ze["[object Map]"]=ze["[object Number]"]=ze["[object Object]"]=ze["[object RegExp]"]=ze["[object Set]"]=ze["[object String]"]=ze["[object Symbol]"]=ze["[object Uint8Array]"]=ze["[object Uint8ClampedArray]"]=ze["[object Uint16Array]"]=ze["[object Uint32Array]"]=!0,ze["[object Error]"]=ze["[object Function]"]=ze["[object WeakMap]"]=!1;var $e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Re={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},De={"function":!0,object:!0},Ne={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Be=parseInt,Fe=De[typeof exports]&&exports&&!exports.nodeType?exports:H,Ue=De[typeof module]&&module&&!module.nodeType?module:H,He=Ue&&Ue.exports===Fe?Fe:H,We=M(De[typeof self]&&self),qe=M(De[typeof window]&&window),Ge=M(De[typeof this]&&this),Ye=M(Fe&&Ue&&"object"==typeof global&&global)||qe!==(Ge&&Ge.window)&&qe||We||Ge||Function("return this")(),Xe=U();(qe||We||{})._=Xe,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Xe}):Fe&&Ue?(He&&((Ue.exports=Xe)._=Xe),Fe._=Xe):Ye._=Xe}).call(this),function(){"use strict";function e(t,r){function a(e,t){return function(){return e.apply(t,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=i.length;c>l;l++)s[i[l]]=a(s[i[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),
t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,r):a.call(t,e,n,r)},t.addEventListener=function(e,n,r){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):a.call(t,e,n,r)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),i=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,i,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-i>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return r&&!a&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,a,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(i&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e,t,n){"use strict";var r=e(t),a=t.document,o=e(a),i=function(){for(var e,t=3,n=a.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0];);return t>4?t:e}(),s=function(){var e=t.pageXOffset!==n?t.pageXOffset:"CSS1Compat"==a.compatMode?t.document.documentElement.scrollLeft:t.document.body.scrollLeft,r=t.pageYOffset!==n?t.pageYOffset:"CSS1Compat"==a.compatMode?t.document.documentElement.scrollTop:t.document.body.scrollTop;"undefined"==typeof s.x&&(s.x=e,s.y=r),"undefined"==typeof s.distanceX?(s.distanceX=e,s.distanceY=r):(s.distanceX=e-s.x,s.distanceY=r-s.y);var o=s.x-e,i=s.y-r;s.direction=0>o?"right":o>0?"left":0>=i?"down":i>0?"up":"first",s.x=e,s.y=r};r.on("scroll",s),e.fn.style=function(n){if(!n)return null;var r,o=e(this),i=o.clone().css("display","none");i.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1)),o.after(i);var s=function(e,n){var r;return e.currentStyle?r=e.currentStyle[n.replace(/-\w/g,function(e){return e.toUpperCase().replace("-","")})]:t.getComputedStyle&&(r=a.defaultView.getComputedStyle(e,null).getPropertyValue(n)),r=/margin/g.test(n)?parseInt(r)===o[0].offsetLeft?r:"auto":r};return"string"==typeof n?r=s(i[0],n):(r={},e.each(n,function(e,t){r[t]=s(i[0],t)})),i.remove(),r||null},e.fn.extend({hcSticky:function(a){return 0==this.length?this:(this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,offResolutions:null,onStart:e.noop,onStop:e.noop,on:!0,fn:null},a||{},{reinit:function(){e(this).hcSticky()},stop:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),n=t.pluginOptions("hcSticky"),r=t.parent("."+n.wrapperClassName),a=t.offset().top-r.offset().top;t.css({position:"absolute",top:a,bottom:"auto",left:"auto",right:"auto"}).removeClass(n.className)})},off:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),n=t.pluginOptions("hcSticky"),r=t.parent("."+n.wrapperClassName);t.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(n.className),r.css("height","auto")})},on:function(){e(this).each(function(){e(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:r.scrollTop()}}).hcSticky()})},destroy:function(){var t=e(this),n=t.pluginOptions("hcSticky"),a=t.parent("."+n.wrapperClassName);t.removeData("hcStickyInit").css({position:a.css("position"),top:a.css("top"),bottom:a.css("bottom"),left:a.css("left"),right:a.css("right")}).removeClass(n.className),r.off("resize",n.fn.resize).off("scroll",n.fn.scroll),t.unwrap()}}),a&&"undefined"!=typeof a.on&&(a.on?this.hcSticky("on"):this.hcSticky("off")),"string"==typeof a?this:this.each(function(){var a=e(this),l=a.pluginOptions("hcSticky"),c=function(){var e=a.parent("."+l.wrapperClassName);return e.length>0?(e.css({height:a.outerHeight(!0),width:function(){var t=e.style("width");return t.indexOf("%")>=0||"auto"==t?("border-box"==a.css("box-sizing")||"border-box"==a.css("-moz-box-sizing")?a.css("width",e.width()):a.css("width",e.width()-parseInt(a.css("padding-left")-parseInt(a.css("padding-right")))),t):a.outerWidth(!0)}()}),e):!1}()||function(){var t=a.style(["width","margin-left","left","right","top","bottom","float","display"]),n=a.css("display"),r=e("<div>",{"class":l.wrapperClassName}).css({display:n,height:a.outerHeight(!0),width:function(){return t.width.indexOf("%")>=0||"auto"==t.width&&"inline-block"!=n&&"inline"!=n?(a.css("width",parseFloat(a.css("width"))),t.width):"auto"!=t.width||"inline-block"!=n&&"inline"!=n?"auto"==t["margin-left"]?a.outerWidth():a.outerWidth(!0):a.width()}(),margin:t["margin-left"]?"auto":null,position:function(){var e=a.css("position");return"static"==e?"relative":e}(),"float":t["float"]||null,left:t.left,right:t.right,top:t.top,bottom:t.bottom,"vertical-align":"top"});return a.wrap(r),7===i&&0===e("head").find("style#hcsticky-iefix").length&&e('<style id="hcsticky-iefix">.'+l.wrapperClassName+" {zoom: 1;}</style>").appendTo("head"),a.parent()}();if(!a.data("hcStickyInit")){a.data("hcStickyInit",!0);var u=l.stickTo&&("document"==l.stickTo||l.stickTo.nodeType&&9==l.stickTo.nodeType||"object"==typeof l.stickTo&&l.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))?!0:!1,d=l.stickTo?u?o:"string"==typeof l.stickTo?e(l.stickTo):l.stickTo:c.parent();a.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),r.load(function(){a.outerHeight(!0)>d.height()&&(c.css("height",a.outerHeight(!0)),a.hcSticky("reinit"))});var p=function(e){a.hasClass(l.className)||(e=e||{},a.css({position:"fixed",top:e.top||0,left:e.left||c.offset().left}).addClass(l.className),l.onStart.apply(a[0]),c.addClass("sticky-active"))},f=function(e){e=e||{},e.position=e.position||"absolute",e.top=e.top||0,e.left=e.left||0,("fixed"==a.css("position")||parseInt(a.css("top"))!=e.top)&&(a.css({position:e.position,top:e.top,left:e.left}).removeClass(l.className),l.onStop.apply(a[0]),c.removeClass("sticky-active"))},m=function(t){if(l.on&&a.is(":visible")){if(a.outerHeight(!0)>=d.height())return void f();var n,o=l.innerSticker?e(l.innerSticker).position().top:l.innerTop?l.innerTop:0,i=c.offset().top,m=d.height()-l.bottomEnd+(u?0:i),h=c.offset().top-l.top+o,g=a.outerHeight(!0)+l.bottom,v=r.height(),y=r.scrollTop(),b=a.offset().top,w=b-y;if("undefined"!=typeof l.remember&&l.remember){var C=b-l.top-o;return void(g-o>v&&l.followScroll?y>C&&y+v<=C+a.height()&&(l.remember=!1):l.remember.offsetTop>C?C>=y&&(p({top:l.top-o}),l.remember=!1):y>=C&&(p({top:l.top-o}),l.remember=!1))}y>h?m+l.bottom-(l.followScroll&&g>v?0:l.top)<=y+g-o-(g-o>v-(h-o)&&l.followScroll&&(n=g-v-o)>0?n:0)?f({top:m-g+l.bottom-i}):g-o>v&&l.followScroll?v>=w+g?"down"==s.direction?p({top:v-g}):0>w&&"fixed"==a.css("position")&&f({top:b-(h+l.top-o)-s.distanceY}):"up"==s.direction&&b>=y+l.top-o?p({top:l.top-o}):"down"==s.direction&&b+g>v&&"fixed"==a.css("position")&&f({top:b-(h+l.top-o)-s.distanceY}):p({top:l.top-o}):f()}},h=!1,g=!1,v=function(){if(b(),y(),l.on){var e=function(){"fixed"==a.css("position")?a.css("left",c.offset().left):a.css("left",0)};if(l.responsive){g||(g=a.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),c.after(g));var t=c.style("width"),n=g.style("width");"auto"==n&&"auto"!=t&&(n=parseInt(a.css("width"))),n!=t&&c.width(n),h&&clearTimeout(h),h=setTimeout(function(){h=!1,g.remove(),g=!1},250)}if(e(),a.outerWidth(!0)!=c.width()){var r="border-box"==a.css("box-sizing")||"border-box"==a.css("-moz-box-sizing")?c.width():c.width()-parseInt(a.css("padding-left"))-parseInt(a.css("padding-right"));r=r-parseInt(a.css("margin-left"))-parseInt(a.css("margin-right")),a.css("width",r)}}};a.pluginOptions("hcSticky",{fn:{scroll:m,resize:v}});var y=function(){if(l.offResolutions){e.isArray(l.offResolutions)||(l.offResolutions=[l.offResolutions]);var t=!0;e.each(l.offResolutions,function(e,n){0>n?r.width()<-1*n&&(t=!1,a.hcSticky("off")):r.width()>n&&(t=!1,a.hcSticky("off"))}),t&&!l.on&&a.hcSticky("on")}};y(),r.on("resize",v);var b=function(){var a=!1;e._data(t,"events").scroll!=n&&e.each(e._data(t,"events").scroll,function(e,t){t.handler==l.fn.scroll&&(a=!0)}),a||(l.fn.scroll(!0),r.on("scroll",l.fn.scroll))};b()}}))}})}(jQuery,this),function(e,t){"use strict";e.fn.extend({pluginOptions:function(n,r,a,o){return this.data(n)||this.data(n,{}),n&&"undefined"==typeof r?this.data(n).options:(a=a||r||{},"object"==typeof a||a===t?this.each(function(){var t=e(this);t.data(n).options?t.data(n,e.extend(t.data(n),{options:e.extend(t.data(n).options,a||{})})):(t.data(n,{options:e.extend(r,a||{})}),o&&(t.data(n).commands=o))}):"string"==typeof a?this.each(function(){e(this).data(n).commands[a].call(this)}):this)}})}(jQuery),!function(e,t,n){"use strict";e.fn.scrollUp=function(t){e.data(n.body,"scrollUp")||(e.data(n.body,"scrollUp",!0),e.fn.scrollUp.init(t))},e.fn.scrollUp.init=function(r){var a,o,i,s,l,c,u,d=e.fn.scrollUp.settings=e.extend({},e.fn.scrollUp.defaults,r),p=!1;switch(u=d.scrollTrigger?e(d.scrollTrigger):e("<a/>",{id:d.scrollName,href:"#top"}),d.scrollTitle&&u.attr("title",d.scrollTitle),u.appendTo("body"),d.scrollImg||d.scrollTrigger||u.html(d.scrollText),u.css({display:"none",position:"fixed",zIndex:d.zIndex}),d.activeOverlay&&e("<div/>",{id:d.scrollName+"-active"}).css({position:"absolute",top:d.scrollDistance+"px",width:"100%",borderTop:"1px dotted"+d.activeOverlay,zIndex:d.zIndex}).appendTo("body"),d.animation){case"fade":a="fadeIn",o="fadeOut",i=d.animationSpeed;break;case"slide":a="slideDown",o="slideUp",i=d.animationSpeed;break;default:a="show",o="hide",i=0}s="top"===d.scrollFrom?d.scrollDistance:e(n).height()-e(t).height()-d.scrollDistance,l=e(t).scroll(function(){e(t).scrollTop()>s?p||(u[a](i),p=!0):p&&(u[o](i),p=!1)}),d.scrollTarget?"number"==typeof d.scrollTarget?c=d.scrollTarget:"string"==typeof d.scrollTarget&&(c=Math.floor(e(d.scrollTarget).offset().top)):c=0,u.click(function(t){t.preventDefault(),e("html, body").animate({scrollTop:c},d.scrollSpeed,d.easingType)})},e.fn.scrollUp.defaults={scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationSpeed:200,scrollTrigger:!1,scrollTarget:!1,scrollText:"Scroll to top",scrollTitle:!1,scrollImg:!1,activeOverlay:!1,zIndex:2147483647},e.fn.scrollUp.destroy=function(r){e.removeData(n.body,"scrollUp"),e("#"+e.fn.scrollUp.settings.scrollName).remove(),e("#"+e.fn.scrollUp.settings.scrollName+"-active").remove(),e.fn.jquery.split(".")[1]>=7?e(t).off("scroll",r):e(t).unbind("scroll",r)},e.scrollUp=e.fn.scrollUp}(jQuery,window,document),function(e,t){e.NewrelicTiming=function(){this.marks={},this.NREUM=t,this.mark=function(e){this.marks[e]=+new Date},this.measure=function(e,t){var n,r;return t?(r=this.marks[t],n=this.marks[e]):(r=this.marks[e],n=+new Date),n-r},this.sendNRBeacon=function(t){if(this.checkBeaconRequirements()){t||(t=e.location.hash.substring(1)),t=t.replace(/\/[0-9]+\//g,"/*/").replace(/\/[0-9]+$/,"/*");var n=this.measure("domLoaded","navStart"),r=this.measure("pageRendered","navStart");this.NREUM.inlineHit(t,0,0,0,n,r)}},this.checkBeaconRequirements=function(){return this.NREUM&&this.NREUM.inlineHit&&"function"==typeof this.NREUM.inlineHit?this.marks.navStart&&this.marks.domLoaded&&this.marks.pageRendered:!1}}}(window,window.NREUM),!function(){"use strict";var e,t=function(r,a){function o(e){return Math.floor(e)}function i(){var e=C.params.autoplay,t=C.slides.eq(C.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||C.params.autoplay),C.autoplayTimeoutId=setTimeout(function(){C.params.loop?(C.fixLoop(),C._slideNext(),C.emit("onAutoplay",C)):C.isEnd?a.autoplayStopOnLast?C.stopAutoplay():(C._slideTo(0),C.emit("onAutoplay",C)):(C._slideNext(),C.emit("onAutoplay",C))},e)}function s(t,n){var r=e(t.target);if(!r.is(n))if("string"==typeof n)r=r.parents(n);else if(n.nodeType){var a;return r.parents().each(function(e,t){t===n&&(a=n)}),a?n:void 0}return 0!==r.length?r[0]:void 0}function l(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(e){e.forEach(function(e){C.onResize(!0),C.emit("onObserverUpdate",C,e)})});r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),C.observers.push(r)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!C.params.allowSwipeToNext&&(C.isHorizontal()&&39===t||!C.isHorizontal()&&40===t))return!1;if(!C.params.allowSwipeToPrev&&(C.isHorizontal()&&37===t||!C.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(C.container.parents("."+C.params.slideClass).length>0&&0===C.container.parents("."+C.params.slideActiveClass).length)return;var r={left:window.pageXOffset,top:window.pageYOffset},a=window.innerWidth,o=window.innerHeight,i=C.container.offset();C.rtl&&(i.left=i.left-C.container[0].scrollLeft);for(var s=[[i.left,i.top],[i.left+C.width,i.top],[i.left,i.top+C.height],[i.left+C.width,i.top+C.height]],l=0;l<s.length;l++){var c=s[l];c[0]>=r.left&&c[0]<=r.left+a&&c[1]>=r.top&&c[1]<=r.top+o&&(n=!0)}if(!n)return}C.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!C.rtl||37===t&&C.rtl)&&C.slideNext(),(37===t&&!C.rtl||39===t&&C.rtl)&&C.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&C.slideNext(),38===t&&C.slidePrev()),C.emit("onKeyPress",C,t)}}function u(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,a=10*n,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(1===e.deltaMode?(r*=40,a*=40):(r*=800,a*=800)),r&&!t&&(t=1>r?-1:1),a&&!n&&(n=1>a?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}}function d(e){e.originalEvent&&(e=e.originalEvent);var t=0,n=C.rtl?-1:1,r=u(e);if(C.params.mousewheelForceToAxis)if(C.isHorizontal()){if(!(Math.abs(r.pixelX)>Math.abs(r.pixelY)))return;t=r.pixelX*n}else{if(!(Math.abs(r.pixelY)>Math.abs(r.pixelX)))return;t=r.pixelY}else t=Math.abs(r.pixelX)>Math.abs(r.pixelY)?-r.pixelX*n:-r.pixelY;if(0!==t){if(C.params.mousewheelInvert&&(t=-t),C.params.freeMode){var a=C.getWrapperTranslate()+t*C.params.mousewheelSensitivity,o=C.isBeginning,i=C.isEnd;if(a>=C.minTranslate()&&(a=C.minTranslate()),a<=C.maxTranslate()&&(a=C.maxTranslate()),C.setWrapperTransition(0),C.setWrapperTranslate(a),C.updateProgress(),C.updateActiveIndex(),(!o&&C.isBeginning||!i&&C.isEnd)&&C.updateClasses(),C.params.freeModeSticky?(clearTimeout(C.mousewheel.timeout),C.mousewheel.timeout=setTimeout(function(){C.slideReset()},300)):C.params.lazyLoading&&C.lazy&&C.lazy.load(),C.emit("onScroll",C,e),C.params.autoplay&&C.params.autoplayDisableOnInteraction&&C.stopAutoplay(),0===a||a===C.maxTranslate())return}else{if((new window.Date).getTime()-C.mousewheel.lastScrollTime>60)if(0>t)if(C.isEnd&&!C.params.loop||C.animating){if(C.params.mousewheelReleaseOnEdges)return!0}else C.slideNext(),C.emit("onScroll",C,e);else if(C.isBeginning&&!C.params.loop||C.animating){if(C.params.mousewheelReleaseOnEdges)return!0}else C.slidePrev(),C.emit("onScroll",C,e);C.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function p(t,n){t=e(t);var r,a,o,i=C.rtl?-1:1;r=t.attr("data-swiper-parallax")||"0",a=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),a||o?(a=a||"0",o=o||"0"):C.isHorizontal()?(a=r,o="0"):(o=r,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*n*i+"%":a*n*i+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px",t.transform("translate3d("+a+", "+o+",0px)")}function f(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(r,a);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=a&&a.virtualTranslate;a=a||{};var g={};for(var v in a)if("object"!=typeof a[v]||null===a[v]||a[v].nodeType||a[v]===window||a[v]===document||void 0!==n&&a[v]instanceof n||"undefined"!=typeof jQuery&&a[v]instanceof jQuery)g[v]=a[v];else{g[v]={};for(var y in a[v])g[v][y]=a[v][y]}for(var b in m)if(void 0===a[b])a[b]=m[b];else if("object"==typeof a[b])for(var w in m[b])void 0===a[b][w]&&(a[b][w]=m[b][w]);var C=this;if(C.params=a,C.originalParams=g,C.classNames=[],void 0!==e&&void 0!==n&&(e=n),(void 0!==e||(e=void 0===n?window.Dom7||window.Zepto||window.jQuery:n))&&(C.$=e,C.currentBreakpoint=void 0,C.getActiveBreakpoint=function(){if(!C.params.breakpoints)return!1;var e,t=!1,n=[];for(e in C.params.breakpoints)C.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var r=0;r<n.length;r++)(e=n[r])>=window.innerWidth&&!t&&(t=e);return t||"max"},C.setBreakpoint=function(){var e=C.getActiveBreakpoint();if(e&&C.currentBreakpoint!==e){var t=e in C.params.breakpoints?C.params.breakpoints[e]:C.originalParams,n=C.params.loop&&t.slidesPerView!==C.params.slidesPerView;for(var r in t)C.params[r]=t[r];C.currentBreakpoint=e,n&&C.destroyLoop&&C.reLoop(!0)}},C.params.breakpoints&&C.setBreakpoint(),C.container=e(r),0!==C.container.length)){if(C.container.length>1){var S=[];return C.container.each(function(){S.push(new t(this,a))}),S}C.container[0].swiper=C,C.container.data("swiper",C),C.classNames.push(C.params.containerModifierClass+C.params.direction),C.params.freeMode&&C.classNames.push(C.params.containerModifierClass+"free-mode"),C.support.flexbox||(C.classNames.push(C.params.containerModifierClass+"no-flexbox"),C.params.slidesPerColumn=1),C.params.autoHeight&&C.classNames.push(C.params.containerModifierClass+"autoheight"),(C.params.parallax||C.params.watchSlidesVisibility)&&(C.params.watchSlidesProgress=!0),C.params.touchReleaseOnEdges&&(C.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(C.params.effect)>=0&&(C.support.transforms3d?(C.params.watchSlidesProgress=!0,C.classNames.push(C.params.containerModifierClass+"3d")):C.params.effect="slide"),"slide"!==C.params.effect&&C.classNames.push(C.params.containerModifierClass+C.params.effect),"cube"===C.params.effect&&(C.params.resistanceRatio=0,C.params.slidesPerView=1,C.params.slidesPerColumn=1,C.params.slidesPerGroup=1,C.params.centeredSlides=!1,C.params.spaceBetween=0,C.params.virtualTranslate=!0),"fade"!==C.params.effect&&"flip"!==C.params.effect||(C.params.slidesPerView=1,C.params.slidesPerColumn=1,C.params.slidesPerGroup=1,C.params.watchSlidesProgress=!0,C.params.spaceBetween=0,void 0===h&&(C.params.virtualTranslate=!0)),C.params.grabCursor&&C.support.touch&&(C.params.grabCursor=!1),C.wrapper=C.container.children("."+C.params.wrapperClass),C.params.pagination&&(C.paginationContainer=e(C.params.pagination),C.params.uniqueNavElements&&"string"==typeof C.params.pagination&&C.paginationContainer.length>1&&1===C.container.find(C.params.pagination).length&&(C.paginationContainer=C.container.find(C.params.pagination)),"bullets"===C.params.paginationType&&C.params.paginationClickable?C.paginationContainer.addClass(C.params.paginationModifierClass+"clickable"):C.params.paginationClickable=!1,C.paginationContainer.addClass(C.params.paginationModifierClass+C.params.paginationType)),(C.params.nextButton||C.params.prevButton)&&(C.params.nextButton&&(C.nextButton=e(C.params.nextButton),C.params.uniqueNavElements&&"string"==typeof C.params.nextButton&&C.nextButton.length>1&&1===C.container.find(C.params.nextButton).length&&(C.nextButton=C.container.find(C.params.nextButton))),C.params.prevButton&&(C.prevButton=e(C.params.prevButton),C.params.uniqueNavElements&&"string"==typeof C.params.prevButton&&C.prevButton.length>1&&1===C.container.find(C.params.prevButton).length&&(C.prevButton=C.container.find(C.params.prevButton)))),C.isHorizontal=function(){return"horizontal"===C.params.direction},C.rtl=C.isHorizontal()&&("rtl"===C.container[0].dir.toLowerCase()||"rtl"===C.container.css("direction")),C.rtl&&C.classNames.push(C.params.containerModifierClass+"rtl"),C.rtl&&(C.wrongRTL="-webkit-box"===C.wrapper.css("display")),C.params.slidesPerColumn>1&&C.classNames.push(C.params.containerModifierClass+"multirow"),C.device.android&&C.classNames.push(C.params.containerModifierClass+"android"),C.container.addClass(C.classNames.join(" ")),C.translate=0,C.progress=0,C.velocity=0,C.lockSwipeToNext=function(){C.params.allowSwipeToNext=!1,C.params.allowSwipeToPrev===!1&&C.params.grabCursor&&C.unsetGrabCursor()},C.lockSwipeToPrev=function(){C.params.allowSwipeToPrev=!1,C.params.allowSwipeToNext===!1&&C.params.grabCursor&&C.unsetGrabCursor()},C.lockSwipes=function(){C.params.allowSwipeToNext=C.params.allowSwipeToPrev=!1,C.params.grabCursor&&C.unsetGrabCursor()},C.unlockSwipeToNext=function(){C.params.allowSwipeToNext=!0,C.params.allowSwipeToPrev===!0&&C.params.grabCursor&&C.setGrabCursor()},C.unlockSwipeToPrev=function(){C.params.allowSwipeToPrev=!0,C.params.allowSwipeToNext===!0&&C.params.grabCursor&&C.setGrabCursor()},C.unlockSwipes=function(){C.params.allowSwipeToNext=C.params.allowSwipeToPrev=!0,C.params.grabCursor&&C.setGrabCursor()},C.setGrabCursor=function(e){C.container[0].style.cursor="move",C.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",C.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",C.container[0].style.cursor=e?"grabbing":"grab"},C.unsetGrabCursor=function(){C.container[0].style.cursor=""},C.params.grabCursor&&C.setGrabCursor(),C.imagesToLoad=[],C.imagesLoaded=0,C.loadImage=function(e,t,n,r,a,o){function i(){o&&o()}var s;e.complete&&a?i():t?(s=new window.Image,s.onload=i,s.onerror=i,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):i()},C.preloadImages=function(){function e(){void 0!==C&&null!==C&&C&&(void 0!==C.imagesLoaded&&C.imagesLoaded++,C.imagesLoaded===C.imagesToLoad.length&&(C.params.updateOnImagesReady&&C.update(),
C.emit("onImagesReady",C)))}C.imagesToLoad=C.container.find("img");for(var t=0;t<C.imagesToLoad.length;t++)C.loadImage(C.imagesToLoad[t],C.imagesToLoad[t].currentSrc||C.imagesToLoad[t].getAttribute("src"),C.imagesToLoad[t].srcset||C.imagesToLoad[t].getAttribute("srcset"),C.imagesToLoad[t].sizes||C.imagesToLoad[t].getAttribute("sizes"),!0,e)},C.autoplayTimeoutId=void 0,C.autoplaying=!1,C.autoplayPaused=!1,C.startAutoplay=function(){return void 0===C.autoplayTimeoutId&&!!C.params.autoplay&&!C.autoplaying&&(C.autoplaying=!0,C.emit("onAutoplayStart",C),void i())},C.stopAutoplay=function(e){C.autoplayTimeoutId&&(C.autoplayTimeoutId&&clearTimeout(C.autoplayTimeoutId),C.autoplaying=!1,C.autoplayTimeoutId=void 0,C.emit("onAutoplayStop",C))},C.pauseAutoplay=function(e){C.autoplayPaused||(C.autoplayTimeoutId&&clearTimeout(C.autoplayTimeoutId),C.autoplayPaused=!0,0===e?(C.autoplayPaused=!1,i()):C.wrapper.transitionEnd(function(){C&&(C.autoplayPaused=!1,C.autoplaying?i():C.stopAutoplay())}))},C.minTranslate=function(){return-C.snapGrid[0]},C.maxTranslate=function(){return-C.snapGrid[C.snapGrid.length-1]},C.updateAutoHeight=function(){var e,t=[],n=0;if("auto"!==C.params.slidesPerView&&C.params.slidesPerView>1)for(e=0;e<Math.ceil(C.params.slidesPerView);e++){var r=C.activeIndex+e;if(r>C.slides.length)break;t.push(C.slides.eq(r)[0])}else t.push(C.slides.eq(C.activeIndex)[0]);for(e=0;e<t.length;e++)if(void 0!==t[e]){var a=t[e].offsetHeight;n=a>n?a:n}n&&C.wrapper.css("height",n+"px")},C.updateContainerSize=function(){var e,t;e=void 0!==C.params.width?C.params.width:C.container[0].clientWidth,t=void 0!==C.params.height?C.params.height:C.container[0].clientHeight,0===e&&C.isHorizontal()||0===t&&!C.isHorizontal()||(e=e-parseInt(C.container.css("padding-left"),10)-parseInt(C.container.css("padding-right"),10),t=t-parseInt(C.container.css("padding-top"),10)-parseInt(C.container.css("padding-bottom"),10),C.width=e,C.height=t,C.size=C.isHorizontal()?C.width:C.height)},C.updateSlidesSize=function(){C.slides=C.wrapper.children("."+C.params.slideClass),C.snapGrid=[],C.slidesGrid=[],C.slidesSizesGrid=[];var e,t=C.params.spaceBetween,n=-C.params.slidesOffsetBefore,r=0,a=0;if(void 0!==C.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*C.size),C.virtualSize=-t,C.rtl?C.slides.css({marginLeft:"",marginTop:""}):C.slides.css({marginRight:"",marginBottom:""});var i;C.params.slidesPerColumn>1&&(i=Math.floor(C.slides.length/C.params.slidesPerColumn)===C.slides.length/C.params.slidesPerColumn?C.slides.length:Math.ceil(C.slides.length/C.params.slidesPerColumn)*C.params.slidesPerColumn,"auto"!==C.params.slidesPerView&&"row"===C.params.slidesPerColumnFill&&(i=Math.max(i,C.params.slidesPerView*C.params.slidesPerColumn)));var s,l=C.params.slidesPerColumn,c=i/l,u=c-(C.params.slidesPerColumn*c-C.slides.length);for(e=0;e<C.slides.length;e++){s=0;var d=C.slides.eq(e);if(C.params.slidesPerColumn>1){var p,f,m;"column"===C.params.slidesPerColumnFill?(f=Math.floor(e/l),m=e-f*l,(f>u||f===u&&m===l-1)&&++m>=l&&(m=0,f++),p=f+m*i/l,d.css({"-webkit-box-ordinal-group":p,"-moz-box-ordinal-group":p,"-ms-flex-order":p,"-webkit-order":p,order:p})):(m=Math.floor(e/c),f=e-m*c),d.css("margin-"+(C.isHorizontal()?"top":"left"),0!==m&&C.params.spaceBetween&&C.params.spaceBetween+"px").attr("data-swiper-column",f).attr("data-swiper-row",m)}"none"!==d.css("display")&&("auto"===C.params.slidesPerView?(s=C.isHorizontal()?d.outerWidth(!0):d.outerHeight(!0),C.params.roundLengths&&(s=o(s))):(s=(C.size-(C.params.slidesPerView-1)*t)/C.params.slidesPerView,C.params.roundLengths&&(s=o(s)),C.isHorizontal()?C.slides[e].style.width=s+"px":C.slides[e].style.height=s+"px"),C.slides[e].swiperSlideSize=s,C.slidesSizesGrid.push(s),C.params.centeredSlides?(n=n+s/2+r/2+t,0===r&&0!==e&&(n=n-C.size/2-t),0===e&&(n=n-C.size/2-t),Math.abs(n)<.001&&(n=0),a%C.params.slidesPerGroup==0&&C.snapGrid.push(n),C.slidesGrid.push(n)):(a%C.params.slidesPerGroup==0&&C.snapGrid.push(n),C.slidesGrid.push(n),n=n+s+t),C.virtualSize+=s+t,r=s,a++)}C.virtualSize=Math.max(C.virtualSize,C.size)+C.params.slidesOffsetAfter;var h;if(C.rtl&&C.wrongRTL&&("slide"===C.params.effect||"coverflow"===C.params.effect)&&C.wrapper.css({width:C.virtualSize+C.params.spaceBetween+"px"}),C.support.flexbox&&!C.params.setWrapperSize||(C.isHorizontal()?C.wrapper.css({width:C.virtualSize+C.params.spaceBetween+"px"}):C.wrapper.css({height:C.virtualSize+C.params.spaceBetween+"px"})),C.params.slidesPerColumn>1&&(C.virtualSize=(s+C.params.spaceBetween)*i,C.virtualSize=Math.ceil(C.virtualSize/C.params.slidesPerColumn)-C.params.spaceBetween,C.isHorizontal()?C.wrapper.css({width:C.virtualSize+C.params.spaceBetween+"px"}):C.wrapper.css({height:C.virtualSize+C.params.spaceBetween+"px"}),C.params.centeredSlides)){for(h=[],e=0;e<C.snapGrid.length;e++)C.snapGrid[e]<C.virtualSize+C.snapGrid[0]&&h.push(C.snapGrid[e]);C.snapGrid=h}if(!C.params.centeredSlides){for(h=[],e=0;e<C.snapGrid.length;e++)C.snapGrid[e]<=C.virtualSize-C.size&&h.push(C.snapGrid[e]);C.snapGrid=h,Math.floor(C.virtualSize-C.size)-Math.floor(C.snapGrid[C.snapGrid.length-1])>1&&C.snapGrid.push(C.virtualSize-C.size)}0===C.snapGrid.length&&(C.snapGrid=[0]),0!==C.params.spaceBetween&&(C.isHorizontal()?C.rtl?C.slides.css({marginLeft:t+"px"}):C.slides.css({marginRight:t+"px"}):C.slides.css({marginBottom:t+"px"})),C.params.watchSlidesProgress&&C.updateSlidesOffset()}},C.updateSlidesOffset=function(){for(var e=0;e<C.slides.length;e++)C.slides[e].swiperSlideOffset=C.isHorizontal()?C.slides[e].offsetLeft:C.slides[e].offsetTop},C.currentSlidesPerView=function(){var e,t,n=1;if(C.params.centeredSlides){var r,a=C.slides[C.activeIndex].swiperSlideSize;for(e=C.activeIndex+1;e<C.slides.length;e++)C.slides[e]&&!r&&(a+=C.slides[e].swiperSlideSize,n++,a>C.size&&(r=!0));for(t=C.activeIndex-1;t>=0;t--)C.slides[t]&&!r&&(a+=C.slides[t].swiperSlideSize,n++,a>C.size&&(r=!0))}else for(e=C.activeIndex+1;e<C.slides.length;e++)C.slidesGrid[e]-C.slidesGrid[C.activeIndex]<C.size&&n++;return n},C.updateSlidesProgress=function(e){if(void 0===e&&(e=C.translate||0),0!==C.slides.length){void 0===C.slides[0].swiperSlideOffset&&C.updateSlidesOffset();var t=-e;C.rtl&&(t=e),C.slides.removeClass(C.params.slideVisibleClass);for(var n=0;n<C.slides.length;n++){var r=C.slides[n],a=(t+(C.params.centeredSlides?C.minTranslate():0)-r.swiperSlideOffset)/(r.swiperSlideSize+C.params.spaceBetween);if(C.params.watchSlidesVisibility){var o=-(t-r.swiperSlideOffset),i=o+C.slidesSizesGrid[n];(o>=0&&o<C.size||i>0&&i<=C.size||0>=o&&i>=C.size)&&C.slides.eq(n).addClass(C.params.slideVisibleClass)}r.progress=C.rtl?-a:a}}},C.updateProgress=function(e){void 0===e&&(e=C.translate||0);var t=C.maxTranslate()-C.minTranslate(),n=C.isBeginning,r=C.isEnd;0===t?(C.progress=0,C.isBeginning=C.isEnd=!0):(C.progress=(e-C.minTranslate())/t,C.isBeginning=C.progress<=0,C.isEnd=C.progress>=1),C.isBeginning&&!n&&C.emit("onReachBeginning",C),C.isEnd&&!r&&C.emit("onReachEnd",C),C.params.watchSlidesProgress&&C.updateSlidesProgress(e),C.emit("onProgress",C,C.progress)},C.updateActiveIndex=function(){var e,t,n,r=C.rtl?C.translate:-C.translate;for(t=0;t<C.slidesGrid.length;t++)void 0!==C.slidesGrid[t+1]?r>=C.slidesGrid[t]&&r<C.slidesGrid[t+1]-(C.slidesGrid[t+1]-C.slidesGrid[t])/2?e=t:r>=C.slidesGrid[t]&&r<C.slidesGrid[t+1]&&(e=t+1):r>=C.slidesGrid[t]&&(e=t);C.params.normalizeSlideIndex&&(0>e||void 0===e)&&(e=0),n=Math.floor(e/C.params.slidesPerGroup),n>=C.snapGrid.length&&(n=C.snapGrid.length-1),e!==C.activeIndex&&(C.snapIndex=n,C.previousIndex=C.activeIndex,C.activeIndex=e,C.updateClasses(),C.updateRealIndex())},C.updateRealIndex=function(){C.realIndex=parseInt(C.slides.eq(C.activeIndex).attr("data-swiper-slide-index")||C.activeIndex,10)},C.updateClasses=function(){C.slides.removeClass(C.params.slideActiveClass+" "+C.params.slideNextClass+" "+C.params.slidePrevClass+" "+C.params.slideDuplicateActiveClass+" "+C.params.slideDuplicateNextClass+" "+C.params.slideDuplicatePrevClass);var t=C.slides.eq(C.activeIndex);t.addClass(C.params.slideActiveClass),a.loop&&(t.hasClass(C.params.slideDuplicateClass)?C.wrapper.children("."+C.params.slideClass+":not(."+C.params.slideDuplicateClass+')[data-swiper-slide-index="'+C.realIndex+'"]').addClass(C.params.slideDuplicateActiveClass):C.wrapper.children("."+C.params.slideClass+"."+C.params.slideDuplicateClass+'[data-swiper-slide-index="'+C.realIndex+'"]').addClass(C.params.slideDuplicateActiveClass));var n=t.next("."+C.params.slideClass).addClass(C.params.slideNextClass);C.params.loop&&0===n.length&&(n=C.slides.eq(0),n.addClass(C.params.slideNextClass));var r=t.prev("."+C.params.slideClass).addClass(C.params.slidePrevClass);if(C.params.loop&&0===r.length&&(r=C.slides.eq(-1),r.addClass(C.params.slidePrevClass)),a.loop&&(n.hasClass(C.params.slideDuplicateClass)?C.wrapper.children("."+C.params.slideClass+":not(."+C.params.slideDuplicateClass+')[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(C.params.slideDuplicateNextClass):C.wrapper.children("."+C.params.slideClass+"."+C.params.slideDuplicateClass+'[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(C.params.slideDuplicateNextClass),r.hasClass(C.params.slideDuplicateClass)?C.wrapper.children("."+C.params.slideClass+":not(."+C.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(C.params.slideDuplicatePrevClass):C.wrapper.children("."+C.params.slideClass+"."+C.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(C.params.slideDuplicatePrevClass)),C.paginationContainer&&C.paginationContainer.length>0){var o,i=C.params.loop?Math.ceil((C.slides.length-2*C.loopedSlides)/C.params.slidesPerGroup):C.snapGrid.length;if(C.params.loop?(o=Math.ceil((C.activeIndex-C.loopedSlides)/C.params.slidesPerGroup),o>C.slides.length-1-2*C.loopedSlides&&(o-=C.slides.length-2*C.loopedSlides),o>i-1&&(o-=i),0>o&&"bullets"!==C.params.paginationType&&(o=i+o)):o=void 0!==C.snapIndex?C.snapIndex:C.activeIndex||0,"bullets"===C.params.paginationType&&C.bullets&&C.bullets.length>0&&(C.bullets.removeClass(C.params.bulletActiveClass),C.paginationContainer.length>1?C.bullets.each(function(){e(this).index()===o&&e(this).addClass(C.params.bulletActiveClass)}):C.bullets.eq(o).addClass(C.params.bulletActiveClass)),"fraction"===C.params.paginationType&&(C.paginationContainer.find("."+C.params.paginationCurrentClass).text(o+1),C.paginationContainer.find("."+C.params.paginationTotalClass).text(i)),"progress"===C.params.paginationType){var s=(o+1)/i,l=s,c=1;C.isHorizontal()||(c=s,l=1),C.paginationContainer.find("."+C.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(C.params.speed)}"custom"===C.params.paginationType&&C.params.paginationCustomRender&&(C.paginationContainer.html(C.params.paginationCustomRender(C,o+1,i)),C.emit("onPaginationRendered",C,C.paginationContainer[0]))}C.params.loop||(C.params.prevButton&&C.prevButton&&C.prevButton.length>0&&(C.isBeginning?(C.prevButton.addClass(C.params.buttonDisabledClass),C.params.a11y&&C.a11y&&C.a11y.disable(C.prevButton)):(C.prevButton.removeClass(C.params.buttonDisabledClass),C.params.a11y&&C.a11y&&C.a11y.enable(C.prevButton))),C.params.nextButton&&C.nextButton&&C.nextButton.length>0&&(C.isEnd?(C.nextButton.addClass(C.params.buttonDisabledClass),C.params.a11y&&C.a11y&&C.a11y.disable(C.nextButton)):(C.nextButton.removeClass(C.params.buttonDisabledClass),C.params.a11y&&C.a11y&&C.a11y.enable(C.nextButton))))},C.updatePagination=function(){if(C.params.pagination&&C.paginationContainer&&C.paginationContainer.length>0){var e="";if("bullets"===C.params.paginationType){for(var t=C.params.loop?Math.ceil((C.slides.length-2*C.loopedSlides)/C.params.slidesPerGroup):C.snapGrid.length,n=0;t>n;n++)e+=C.params.paginationBulletRender?C.params.paginationBulletRender(C,n,C.params.bulletClass):"<"+C.params.paginationElement+' class="'+C.params.bulletClass+'"></'+C.params.paginationElement+">";C.paginationContainer.html(e),C.bullets=C.paginationContainer.find("."+C.params.bulletClass),C.params.paginationClickable&&C.params.a11y&&C.a11y&&C.a11y.initPagination()}"fraction"===C.params.paginationType&&(e=C.params.paginationFractionRender?C.params.paginationFractionRender(C,C.params.paginationCurrentClass,C.params.paginationTotalClass):'<span class="'+C.params.paginationCurrentClass+'"></span> / <span class="'+C.params.paginationTotalClass+'"></span>',C.paginationContainer.html(e)),"progress"===C.params.paginationType&&(e=C.params.paginationProgressRender?C.params.paginationProgressRender(C,C.params.paginationProgressbarClass):'<span class="'+C.params.paginationProgressbarClass+'"></span>',C.paginationContainer.html(e)),"custom"!==C.params.paginationType&&C.emit("onPaginationRendered",C,C.paginationContainer[0])}},C.update=function(e){function t(){C.rtl,C.translate,n=Math.min(Math.max(C.translate,C.maxTranslate()),C.minTranslate()),C.setWrapperTranslate(n),C.updateActiveIndex(),C.updateClasses()}if(C){C.updateContainerSize(),C.updateSlidesSize(),C.updateProgress(),C.updatePagination(),C.updateClasses(),C.params.scrollbar&&C.scrollbar&&C.scrollbar.set();var n;e?(C.controller&&C.controller.spline&&(C.controller.spline=void 0),C.params.freeMode?(t(),C.params.autoHeight&&C.updateAutoHeight()):(("auto"===C.params.slidesPerView||C.params.slidesPerView>1)&&C.isEnd&&!C.params.centeredSlides?C.slideTo(C.slides.length-1,0,!1,!0):C.slideTo(C.activeIndex,0,!1,!0))||t()):C.params.autoHeight&&C.updateAutoHeight()}},C.onResize=function(e){C.params.onBeforeResize&&C.params.onBeforeResize(C),C.params.breakpoints&&C.setBreakpoint();var t=C.params.allowSwipeToPrev,n=C.params.allowSwipeToNext;C.params.allowSwipeToPrev=C.params.allowSwipeToNext=!0,C.updateContainerSize(),C.updateSlidesSize(),("auto"===C.params.slidesPerView||C.params.freeMode||e)&&C.updatePagination(),C.params.scrollbar&&C.scrollbar&&C.scrollbar.set(),C.controller&&C.controller.spline&&(C.controller.spline=void 0);var r=!1;if(C.params.freeMode){var a=Math.min(Math.max(C.translate,C.maxTranslate()),C.minTranslate());C.setWrapperTranslate(a),C.updateActiveIndex(),C.updateClasses(),C.params.autoHeight&&C.updateAutoHeight()}else C.updateClasses(),r=("auto"===C.params.slidesPerView||C.params.slidesPerView>1)&&C.isEnd&&!C.params.centeredSlides?C.slideTo(C.slides.length-1,0,!1,!0):C.slideTo(C.activeIndex,0,!1,!0);C.params.lazyLoading&&!r&&C.lazy&&C.lazy.load(),C.params.allowSwipeToPrev=t,C.params.allowSwipeToNext=n,C.params.onAfterResize&&C.params.onAfterResize(C)},C.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?C.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(C.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),C.touchEvents={start:C.support.touch||!C.params.simulateTouch?"touchstart":C.touchEventsDesktop.start,move:C.support.touch||!C.params.simulateTouch?"touchmove":C.touchEventsDesktop.move,end:C.support.touch||!C.params.simulateTouch?"touchend":C.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===C.params.touchEventsTarget?C.container:C.wrapper).addClass("swiper-wp8-"+C.params.direction),C.initEvents=function(e){var t=e?"off":"on",n=e?"removeEventListener":"addEventListener",r="container"===C.params.touchEventsTarget?C.container[0]:C.wrapper[0],o=C.support.touch?r:document,i=!!C.params.nested;if(C.browser.ie)r[n](C.touchEvents.start,C.onTouchStart,!1),o[n](C.touchEvents.move,C.onTouchMove,i),o[n](C.touchEvents.end,C.onTouchEnd,!1);else{if(C.support.touch){var s=!("touchstart"!==C.touchEvents.start||!C.support.passiveListener||!C.params.passiveListeners)&&{passive:!0,capture:!1};r[n](C.touchEvents.start,C.onTouchStart,s),r[n](C.touchEvents.move,C.onTouchMove,i),r[n](C.touchEvents.end,C.onTouchEnd,s)}(a.simulateTouch&&!C.device.ios&&!C.device.android||a.simulateTouch&&!C.support.touch&&C.device.ios)&&(r[n]("mousedown",C.onTouchStart,!1),document[n]("mousemove",C.onTouchMove,i),document[n]("mouseup",C.onTouchEnd,!1))}window[n]("resize",C.onResize),C.params.nextButton&&C.nextButton&&C.nextButton.length>0&&(C.nextButton[t]("click",C.onClickNext),C.params.a11y&&C.a11y&&C.nextButton[t]("keydown",C.a11y.onEnterKey)),C.params.prevButton&&C.prevButton&&C.prevButton.length>0&&(C.prevButton[t]("click",C.onClickPrev),C.params.a11y&&C.a11y&&C.prevButton[t]("keydown",C.a11y.onEnterKey)),C.params.pagination&&C.params.paginationClickable&&(C.paginationContainer[t]("click","."+C.params.bulletClass,C.onClickIndex),C.params.a11y&&C.a11y&&C.paginationContainer[t]("keydown","."+C.params.bulletClass,C.a11y.onEnterKey)),(C.params.preventClicks||C.params.preventClicksPropagation)&&r[n]("click",C.preventClicks,!0)},C.attachEvents=function(){C.initEvents()},C.detachEvents=function(){C.initEvents(!0)},C.allowClick=!0,C.preventClicks=function(e){C.allowClick||(C.params.preventClicks&&e.preventDefault(),C.params.preventClicksPropagation&&C.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},C.onClickNext=function(e){e.preventDefault(),C.isEnd&&!C.params.loop||C.slideNext()},C.onClickPrev=function(e){e.preventDefault(),C.isBeginning&&!C.params.loop||C.slidePrev()},C.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*C.params.slidesPerGroup;C.params.loop&&(n+=C.loopedSlides),C.slideTo(n)},C.updateClickedSlide=function(t){var n=s(t,"."+C.params.slideClass),r=!1;if(n)for(var a=0;a<C.slides.length;a++)C.slides[a]===n&&(r=!0);if(!n||!r)return C.clickedSlide=void 0,void(C.clickedIndex=void 0);if(C.clickedSlide=n,C.clickedIndex=e(n).index(),C.params.slideToClickedSlide&&void 0!==C.clickedIndex&&C.clickedIndex!==C.activeIndex){var o,i=C.clickedIndex,l="auto"===C.params.slidesPerView?C.currentSlidesPerView():C.params.slidesPerView;if(C.params.loop){if(C.animating)return;o=parseInt(e(C.clickedSlide).attr("data-swiper-slide-index"),10),C.params.centeredSlides?i<C.loopedSlides-l/2||i>C.slides.length-C.loopedSlides+l/2?(C.fixLoop(),i=C.wrapper.children("."+C.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+C.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){C.slideTo(i)},0)):C.slideTo(i):i>C.slides.length-l?(C.fixLoop(),i=C.wrapper.children("."+C.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+C.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){C.slideTo(i)},0)):C.slideTo(i)}else C.slideTo(i)}};var x,k,_,T,A,M,I,L,P,E,z="input, select, textarea, button, video",$=Date.now(),O=[];C.animating=!1,C.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var R,D;C.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(R="touchstart"===t.type)||!("which"in t)||3!==t.which){if(C.params.noSwiping&&s(t,"."+C.params.noSwipingClass))return void(C.allowClick=!0);if(!C.params.swipeHandler||s(t,C.params.swipeHandler)){var n=C.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=C.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(C.device.ios&&C.params.iOSEdgeSwipeDetection&&n<=C.params.iOSEdgeSwipeThreshold)){if(x=!0,k=!1,_=!0,A=void 0,D=void 0,C.touches.startX=n,C.touches.startY=r,T=Date.now(),C.allowClick=!0,C.updateContainerSize(),C.swipeDirection=void 0,C.params.threshold>0&&(L=!1),"touchstart"!==t.type){var a=!0;e(t.target).is(z)&&(a=!1),document.activeElement&&e(document.activeElement).is(z)&&document.activeElement.blur(),a&&t.preventDefault()}C.emit("onTouchStart",C,t)}}}},C.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!R||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return C.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(C.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(C.params.onlyExternal)return C.allowClick=!1,void(x&&(C.touches.startX=C.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,C.touches.startY=C.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,T=Date.now()));if(R&&C.params.touchReleaseOnEdges&&!C.params.loop)if(C.isHorizontal()){if(C.touches.currentX<C.touches.startX&&C.translate<=C.maxTranslate()||C.touches.currentX>C.touches.startX&&C.translate>=C.minTranslate())return}else if(C.touches.currentY<C.touches.startY&&C.translate<=C.maxTranslate()||C.touches.currentY>C.touches.startY&&C.translate>=C.minTranslate())return;if(R&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(z))return k=!0,void(C.allowClick=!1);if(_&&C.emit("onTouchMove",C,t),!(t.targetTouches&&t.targetTouches.length>1)){if(C.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,C.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===A){var n;C.isHorizontal()&&C.touches.currentY===C.touches.startY||!C.isHorizontal()&&C.touches.currentX===C.touches.startX?A=!1:(n=180*Math.atan2(Math.abs(C.touches.currentY-C.touches.startY),Math.abs(C.touches.currentX-C.touches.startX))/Math.PI,A=C.isHorizontal()?n>C.params.touchAngle:90-n>C.params.touchAngle)}if(A&&C.emit("onTouchMoveOpposite",C,t),void 0===D&&(C.touches.currentX===C.touches.startX&&C.touches.currentY===C.touches.startY||(D=!0)),x){if(A)return void(x=!1);if(D){C.allowClick=!1,C.emit("onSliderMove",C,t),t.preventDefault(),C.params.touchMoveStopPropagation&&!C.params.nested&&t.stopPropagation(),k||(a.loop&&C.fixLoop(),I=C.getWrapperTranslate(),C.setWrapperTransition(0),C.animating&&C.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),C.params.autoplay&&C.autoplaying&&(C.params.autoplayDisableOnInteraction?C.stopAutoplay():C.pauseAutoplay()),E=!1,!C.params.grabCursor||C.params.allowSwipeToNext!==!0&&C.params.allowSwipeToPrev!==!0||C.setGrabCursor(!0)),k=!0;var r=C.touches.diff=C.isHorizontal()?C.touches.currentX-C.touches.startX:C.touches.currentY-C.touches.startY;r*=C.params.touchRatio,C.rtl&&(r=-r),C.swipeDirection=r>0?"prev":"next",M=r+I;var o=!0;if(r>0&&M>C.minTranslate()?(o=!1,C.params.resistance&&(M=C.minTranslate()-1+Math.pow(-C.minTranslate()+I+r,C.params.resistanceRatio))):0>r&&M<C.maxTranslate()&&(o=!1,C.params.resistance&&(M=C.maxTranslate()+1-Math.pow(C.maxTranslate()-I-r,C.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!C.params.allowSwipeToNext&&"next"===C.swipeDirection&&I>M&&(M=I),!C.params.allowSwipeToPrev&&"prev"===C.swipeDirection&&M>I&&(M=I),C.params.threshold>0){if(!(Math.abs(r)>C.params.threshold||L))return void(M=I);if(!L)return L=!0,C.touches.startX=C.touches.currentX,C.touches.startY=C.touches.currentY,M=I,void(C.touches.diff=C.isHorizontal()?C.touches.currentX-C.touches.startX:C.touches.currentY-C.touches.startY)}C.params.followFinger&&((C.params.freeMode||C.params.watchSlidesProgress)&&C.updateActiveIndex(),C.params.freeMode&&(0===O.length&&O.push({position:C.touches[C.isHorizontal()?"startX":"startY"],time:T}),O.push({position:C.touches[C.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),C.updateProgress(M),C.setWrapperTranslate(M))}}}}},C.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),_&&C.emit("onTouchEnd",C,t),_=!1,x){C.params.grabCursor&&k&&x&&(C.params.allowSwipeToNext===!0||C.params.allowSwipeToPrev===!0)&&C.setGrabCursor(!1);var n=Date.now(),r=n-T;if(C.allowClick&&(C.updateClickedSlide(t),C.emit("onTap",C,t),300>r&&n-$>300&&(P&&clearTimeout(P),P=setTimeout(function(){C&&(C.params.paginationHide&&C.paginationContainer.length>0&&!e(t.target).hasClass(C.params.bulletClass)&&C.paginationContainer.toggleClass(C.params.paginationHiddenClass),C.emit("onClick",C,t))},300)),300>r&&300>n-$&&(P&&clearTimeout(P),C.emit("onDoubleTap",C,t))),$=Date.now(),setTimeout(function(){C&&(C.allowClick=!0)},0),!x||!k||!C.swipeDirection||0===C.touches.diff||M===I)return void(x=k=!1);x=k=!1;var a;if(a=C.params.followFinger?C.rtl?C.translate:-C.translate:-M,C.params.freeMode){if(a<-C.minTranslate())return void C.slideTo(C.activeIndex);if(a>-C.maxTranslate())return void(C.slides.length<C.snapGrid.length?C.slideTo(C.snapGrid.length-1):C.slideTo(C.slides.length-1));if(C.params.freeModeMomentum){if(O.length>1){var o=O.pop(),i=O.pop(),s=o.position-i.position,l=o.time-i.time;C.velocity=s/l,C.velocity=C.velocity/2,Math.abs(C.velocity)<C.params.freeModeMinimumVelocity&&(C.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(C.velocity=0)}else C.velocity=0;C.velocity=C.velocity*C.params.freeModeMomentumVelocityRatio,O.length=0;var c=1e3*C.params.freeModeMomentumRatio,u=C.velocity*c,d=C.translate+u;C.rtl&&(d=-d);var p,f=!1,m=20*Math.abs(C.velocity)*C.params.freeModeMomentumBounceRatio;if(d<C.maxTranslate())C.params.freeModeMomentumBounce?(d+C.maxTranslate()<-m&&(d=C.maxTranslate()-m),p=C.maxTranslate(),f=!0,E=!0):d=C.maxTranslate();else if(d>C.minTranslate())C.params.freeModeMomentumBounce?(d-C.minTranslate()>m&&(d=C.minTranslate()+m),p=C.minTranslate(),f=!0,E=!0):d=C.minTranslate();else if(C.params.freeModeSticky){var h,g=0;for(g=0;g<C.snapGrid.length;g+=1)if(C.snapGrid[g]>-d){h=g;break}d=Math.abs(C.snapGrid[h]-d)<Math.abs(C.snapGrid[h-1]-d)||"next"===C.swipeDirection?C.snapGrid[h]:C.snapGrid[h-1],C.rtl||(d=-d)}if(0!==C.velocity)c=C.rtl?Math.abs((-d-C.translate)/C.velocity):Math.abs((d-C.translate)/C.velocity);else if(C.params.freeModeSticky)return void C.slideReset();C.params.freeModeMomentumBounce&&f?(C.updateProgress(p),C.setWrapperTransition(c),C.setWrapperTranslate(d),C.onTransitionStart(),C.animating=!0,C.wrapper.transitionEnd(function(){C&&E&&(C.emit("onMomentumBounce",C),C.setWrapperTransition(C.params.speed),C.setWrapperTranslate(p),C.wrapper.transitionEnd(function(){C&&C.onTransitionEnd()}))})):C.velocity?(C.updateProgress(d),C.setWrapperTransition(c),C.setWrapperTranslate(d),C.onTransitionStart(),C.animating||(C.animating=!0,C.wrapper.transitionEnd(function(){C&&C.onTransitionEnd()}))):C.updateProgress(d),C.updateActiveIndex()}return void((!C.params.freeModeMomentum||r>=C.params.longSwipesMs)&&(C.updateProgress(),C.updateActiveIndex()))}var v,y=0,b=C.slidesSizesGrid[0];for(v=0;v<C.slidesGrid.length;v+=C.params.slidesPerGroup)void 0!==C.slidesGrid[v+C.params.slidesPerGroup]?a>=C.slidesGrid[v]&&a<C.slidesGrid[v+C.params.slidesPerGroup]&&(y=v,b=C.slidesGrid[v+C.params.slidesPerGroup]-C.slidesGrid[v]):a>=C.slidesGrid[v]&&(y=v,b=C.slidesGrid[C.slidesGrid.length-1]-C.slidesGrid[C.slidesGrid.length-2]);var w=(a-C.slidesGrid[y])/b;if(r>C.params.longSwipesMs){if(!C.params.longSwipes)return void C.slideTo(C.activeIndex);"next"===C.swipeDirection&&(w>=C.params.longSwipesRatio?C.slideTo(y+C.params.slidesPerGroup):C.slideTo(y)),"prev"===C.swipeDirection&&(w>1-C.params.longSwipesRatio?C.slideTo(y+C.params.slidesPerGroup):C.slideTo(y))}else{if(!C.params.shortSwipes)return void C.slideTo(C.activeIndex);"next"===C.swipeDirection&&C.slideTo(y+C.params.slidesPerGroup),"prev"===C.swipeDirection&&C.slideTo(y)}}},C._slideTo=function(e,t){return C.slideTo(e,t,!0,!0)},C.slideTo=function(e,t,n,r){void 0===n&&(n=!0),void 0===e&&(e=0),0>e&&(e=0),C.snapIndex=Math.floor(e/C.params.slidesPerGroup),C.snapIndex>=C.snapGrid.length&&(C.snapIndex=C.snapGrid.length-1);var a=-C.snapGrid[C.snapIndex];if(C.params.autoplay&&C.autoplaying&&(r||!C.params.autoplayDisableOnInteraction?C.pauseAutoplay(t):C.stopAutoplay()),C.updateProgress(a),C.params.normalizeSlideIndex)for(var o=0;o<C.slidesGrid.length;o++)-Math.floor(100*a)>=Math.floor(100*C.slidesGrid[o])&&(e=o);return!(!C.params.allowSwipeToNext&&a<C.translate&&a<C.minTranslate()||!C.params.allowSwipeToPrev&&a>C.translate&&a>C.maxTranslate()&&(C.activeIndex||0)!==e||(void 0===t&&(t=C.params.speed),C.previousIndex=C.activeIndex||0,C.activeIndex=e,C.updateRealIndex(),C.rtl&&-a===C.translate||!C.rtl&&a===C.translate?(C.params.autoHeight&&C.updateAutoHeight(),C.updateClasses(),"slide"!==C.params.effect&&C.setWrapperTranslate(a),1):(C.updateClasses(),C.onTransitionStart(n),0===t||C.browser.lteIE9?(C.setWrapperTranslate(a),C.setWrapperTransition(0),C.onTransitionEnd(n)):(C.setWrapperTranslate(a),C.setWrapperTransition(t),C.animating||(C.animating=!0,C.wrapper.transitionEnd(function(){C&&C.onTransitionEnd(n)}))),0)))},C.onTransitionStart=function(e){void 0===e&&(e=!0),C.params.autoHeight&&C.updateAutoHeight(),C.lazy&&C.lazy.onTransitionStart(),e&&(C.emit("onTransitionStart",C),C.activeIndex!==C.previousIndex&&(C.emit("onSlideChangeStart",C),C.activeIndex>C.previousIndex?C.emit("onSlideNextStart",C):C.emit("onSlidePrevStart",C)))},C.onTransitionEnd=function(e){C.animating=!1,C.setWrapperTransition(0),void 0===e&&(e=!0),C.lazy&&C.lazy.onTransitionEnd(),e&&(C.emit("onTransitionEnd",C),C.activeIndex!==C.previousIndex&&(C.emit("onSlideChangeEnd",C),C.activeIndex>C.previousIndex?C.emit("onSlideNextEnd",C):C.emit("onSlidePrevEnd",C))),C.params.history&&C.history&&C.history.setHistory(C.params.history,C.activeIndex),C.params.hashnav&&C.hashnav&&C.hashnav.setHash()},C.slideNext=function(e,t,n){return C.params.loop?C.animating?!1:(C.fixLoop(),C.container[0].clientLeft,C.slideTo(C.activeIndex+C.params.slidesPerGroup,t,e,n)):C.slideTo(C.activeIndex+C.params.slidesPerGroup,t,e,n)},C._slideNext=function(e){return C.slideNext(!0,e,!0)},C.slidePrev=function(e,t,n){return C.params.loop?C.animating?!1:(C.fixLoop(),C.container[0].clientLeft,C.slideTo(C.activeIndex-1,t,e,n)):C.slideTo(C.activeIndex-1,t,e,n)},C._slidePrev=function(e){return C.slidePrev(!0,e,!0)},C.slideReset=function(e,t,n){return C.slideTo(C.activeIndex,t,e)},C.disableTouchControl=function(){return C.params.onlyExternal=!0,!0},C.enableTouchControl=function(){return C.params.onlyExternal=!1,!0},C.setWrapperTransition=function(e,t){C.wrapper.transition(e),"slide"!==C.params.effect&&C.effects[C.params.effect]&&C.effects[C.params.effect].setTransition(e),C.params.parallax&&C.parallax&&C.parallax.setTransition(e),C.params.scrollbar&&C.scrollbar&&C.scrollbar.setTransition(e),C.params.control&&C.controller&&C.controller.setTransition(e,t),C.emit("onSetTransition",C,e)},C.setWrapperTranslate=function(e,t,n){var r=0,a=0;C.isHorizontal()?r=C.rtl?-e:e:a=e,C.params.roundLengths&&(r=o(r),a=o(a)),C.params.virtualTranslate||(C.support.transforms3d?C.wrapper.transform("translate3d("+r+"px, "+a+"px, 0px)"):C.wrapper.transform("translate("+r+"px, "+a+"px)")),C.translate=C.isHorizontal()?r:a;var i,s=C.maxTranslate()-C.minTranslate();i=0===s?0:(e-C.minTranslate())/s,i!==C.progress&&C.updateProgress(e),t&&C.updateActiveIndex(),"slide"!==C.params.effect&&C.effects[C.params.effect]&&C.effects[C.params.effect].setTranslate(C.translate),C.params.parallax&&C.parallax&&C.parallax.setTranslate(C.translate),C.params.scrollbar&&C.scrollbar&&C.scrollbar.setTranslate(C.translate),C.params.control&&C.controller&&C.controller.setTranslate(C.translate,n),C.emit("onSetTranslate",C,C.translate)},C.getTranslate=function(e,t){var n,r,a,o;return void 0===t&&(t="x"),C.params.virtualTranslate?C.rtl?-C.translate:C.translate:(a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===r?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(r=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),C.rtl&&r&&(r=-r),r||0)},C.getWrapperTranslate=function(e){return void 0===e&&(e=C.isHorizontal()?"x":"y"),C.getTranslate(C.wrapper[0],e)},C.observers=[],C.initObservers=function(){if(C.params.observeParents)for(var e=C.container.parents(),t=0;t<e.length;t++)l(e[t]);l(C.container[0],{childList:!1}),l(C.wrapper[0],{attributes:!1})},C.disconnectObservers=function(){for(var e=0;e<C.observers.length;e++)C.observers[e].disconnect();
C.observers=[]},C.createLoop=function(){C.wrapper.children("."+C.params.slideClass+"."+C.params.slideDuplicateClass).remove();var t=C.wrapper.children("."+C.params.slideClass);"auto"!==C.params.slidesPerView||C.params.loopedSlides||(C.params.loopedSlides=t.length),C.loopedSlides=parseInt(C.params.loopedSlides||C.params.slidesPerView,10),C.loopedSlides=C.loopedSlides+C.params.loopAdditionalSlides,C.loopedSlides>t.length&&(C.loopedSlides=t.length);var n,r=[],a=[];for(t.each(function(n,o){var i=e(this);n<C.loopedSlides&&a.push(o),n<t.length&&n>=t.length-C.loopedSlides&&r.push(o),i.attr("data-swiper-slide-index",n)}),n=0;n<a.length;n++)C.wrapper.append(e(a[n].cloneNode(!0)).addClass(C.params.slideDuplicateClass));for(n=r.length-1;n>=0;n--)C.wrapper.prepend(e(r[n].cloneNode(!0)).addClass(C.params.slideDuplicateClass))},C.destroyLoop=function(){C.wrapper.children("."+C.params.slideClass+"."+C.params.slideDuplicateClass).remove(),C.slides.removeAttr("data-swiper-slide-index")},C.reLoop=function(e){var t=C.activeIndex-C.loopedSlides;C.destroyLoop(),C.createLoop(),C.updateSlidesSize(),e&&C.slideTo(t+C.loopedSlides,0,!1)},C.fixLoop=function(){var e;C.activeIndex<C.loopedSlides?(e=C.slides.length-3*C.loopedSlides+C.activeIndex,e+=C.loopedSlides,C.slideTo(e,0,!1,!0)):("auto"===C.params.slidesPerView&&C.activeIndex>=2*C.loopedSlides||C.activeIndex>C.slides.length-2*C.params.slidesPerView)&&(e=-C.slides.length+C.activeIndex+C.loopedSlides,e+=C.loopedSlides,C.slideTo(e,0,!1,!0))},C.appendSlide=function(e){if(C.params.loop&&C.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&C.wrapper.append(e[t]);else C.wrapper.append(e);C.params.loop&&C.createLoop(),C.params.observer&&C.support.observer||C.update(!0)},C.prependSlide=function(e){C.params.loop&&C.destroyLoop();var t=C.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&C.wrapper.prepend(e[n]);t=C.activeIndex+e.length}else C.wrapper.prepend(e);C.params.loop&&C.createLoop(),C.params.observer&&C.support.observer||C.update(!0),C.slideTo(t,0,!1)},C.removeSlide=function(e){C.params.loop&&(C.destroyLoop(),C.slides=C.wrapper.children("."+C.params.slideClass));var t,n=C.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)t=e[r],C.slides[t]&&C.slides.eq(t).remove(),n>t&&n--;n=Math.max(n,0)}else t=e,C.slides[t]&&C.slides.eq(t).remove(),n>t&&n--,n=Math.max(n,0);C.params.loop&&C.createLoop(),C.params.observer&&C.support.observer||C.update(!0),C.params.loop?C.slideTo(n+C.loopedSlides,0,!1):C.slideTo(n,0,!1)},C.removeAllSlides=function(){for(var e=[],t=0;t<C.slides.length;t++)e.push(t);C.removeSlide(e)},C.effects={fade:{setTranslate:function(){for(var e=0;e<C.slides.length;e++){var t=C.slides.eq(e),n=t[0].swiperSlideOffset,r=-n;C.params.virtualTranslate||(r-=C.translate);var a=0;C.isHorizontal()||(a=r,r=0);var o=C.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:o}).transform("translate3d("+r+"px, "+a+"px, 0px)")}},setTransition:function(e){if(C.slides.transition(e),C.params.virtualTranslate&&0!==e){var t=!1;C.slides.transitionEnd(function(){if(!t&&C){t=!0,C.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)C.wrapper.trigger(e[n])}})}}},flip:{setTranslate:function(){for(var t=0;t<C.slides.length;t++){var n=C.slides.eq(t),r=n[0].progress;C.params.flip.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));var a=n[0].swiperSlideOffset,o=-180*r,i=o,s=0,l=-a,c=0;if(C.isHorizontal()?C.rtl&&(i=-i):(c=l,l=0,s=-i,i=0),n[0].style.zIndex=-Math.abs(Math.round(r))+C.slides.length,C.params.flip.slideShadows){var u=C.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),d=C.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"left":"top")+'"></div>'),n.append(u)),0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"right":"bottom")+'"></div>'),n.append(d)),u.length&&(u[0].style.opacity=Math.max(-r,0)),d.length&&(d[0].style.opacity=Math.max(r,0))}n.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+s+"deg) rotateY("+i+"deg)")}},setTransition:function(t){if(C.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),C.params.virtualTranslate&&0!==t){var n=!1;C.slides.eq(C.activeIndex).transitionEnd(function(){if(!n&&C&&e(this).hasClass(C.params.slideActiveClass)){n=!0,C.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<t.length;r++)C.wrapper.trigger(t[r])}})}}},cube:{setTranslate:function(){var t,n=0;C.params.cube.shadow&&(C.isHorizontal()?(t=C.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),C.wrapper.append(t)),t.css({height:C.width+"px"})):(t=C.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),C.container.append(t))));for(var r=0;r<C.slides.length;r++){var a=C.slides.eq(r),o=90*r,i=Math.floor(o/360);C.rtl&&(o=-o,i=Math.floor(-o/360));var s=Math.max(Math.min(a[0].progress,1),-1),l=0,c=0,u=0;r%4==0?(l=4*-i*C.size,u=0):(r-1)%4==0?(l=0,u=4*-i*C.size):(r-2)%4==0?(l=C.size+4*i*C.size,u=C.size):(r-3)%4==0&&(l=-C.size,u=3*C.size+4*C.size*i),C.rtl&&(l=-l),C.isHorizontal()||(c=l,l=0);var d="rotateX("+(C.isHorizontal()?0:-o)+"deg) rotateY("+(C.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(1>=s&&s>-1&&(n=90*r+90*s,C.rtl&&(n=90*-r-90*s)),a.transform(d),C.params.cube.slideShadows){var p=C.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),f=C.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"left":"top")+'"></div>'),a.append(p)),0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"right":"bottom")+'"></div>'),a.append(f)),p.length&&(p[0].style.opacity=Math.max(-s,0)),f.length&&(f[0].style.opacity=Math.max(s,0))}}if(C.wrapper.css({"-webkit-transform-origin":"50% 50% -"+C.size/2+"px","-moz-transform-origin":"50% 50% -"+C.size/2+"px","-ms-transform-origin":"50% 50% -"+C.size/2+"px","transform-origin":"50% 50% -"+C.size/2+"px"}),C.params.cube.shadow)if(C.isHorizontal())t.transform("translate3d(0px, "+(C.width/2+C.params.cube.shadowOffset)+"px, "+-C.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+C.params.cube.shadowScale+")");else{var m=Math.abs(n)-90*Math.floor(Math.abs(n)/90),h=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),g=C.params.cube.shadowScale,v=C.params.cube.shadowScale/h,y=C.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(C.height/2+y)+"px, "+-C.height/2/v+"px) rotateX(-90deg)")}var b=C.isSafari||C.isUiWebView?-C.size/2:0;C.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(C.isHorizontal()?0:n)+"deg) rotateY("+(C.isHorizontal()?-n:0)+"deg)")},setTransition:function(e){C.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),C.params.cube.shadow&&!C.isHorizontal()&&C.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=C.translate,n=C.isHorizontal()?-t+C.width/2:-t+C.height/2,r=C.isHorizontal()?C.params.coverflow.rotate:-C.params.coverflow.rotate,a=C.params.coverflow.depth,o=0,i=C.slides.length;i>o;o++){var s=C.slides.eq(o),l=C.slidesSizesGrid[o],c=s[0].swiperSlideOffset,u=(n-c-l/2)/l*C.params.coverflow.modifier,d=C.isHorizontal()?r*u:0,p=C.isHorizontal()?0:r*u,f=-a*Math.abs(u),m=C.isHorizontal()?0:C.params.coverflow.stretch*u,h=C.isHorizontal()?C.params.coverflow.stretch*u:0;Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(d)<.001&&(d=0),Math.abs(p)<.001&&(p=0);var g="translate3d("+h+"px,"+m+"px,"+f+"px)  rotateX("+p+"deg) rotateY("+d+"deg)";if(s.transform(g),s[0].style.zIndex=1-Math.abs(Math.round(u)),C.params.coverflow.slideShadows){var v=C.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),y=C.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"left":"top")+'"></div>'),s.append(v)),0===y.length&&(y=e('<div class="swiper-slide-shadow-'+(C.isHorizontal()?"right":"bottom")+'"></div>'),s.append(y)),v.length&&(v[0].style.opacity=u>0?u:0),y.length&&(y[0].style.opacity=-u>0?-u:0)}}C.browser.ie&&(C.wrapper[0].style.perspectiveOrigin=n+"px 50%")},setTransition:function(e){C.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},C.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if(void 0!==t&&(void 0===n&&(n=!0),0!==C.slides.length)){var r=C.slides.eq(t),a=r.find("."+C.params.lazyLoadingClass+":not(."+C.params.lazyStatusLoadedClass+"):not(."+C.params.lazyStatusLoadingClass+")");!r.hasClass(C.params.lazyLoadingClass)||r.hasClass(C.params.lazyStatusLoadedClass)||r.hasClass(C.params.lazyStatusLoadingClass)||(a=a.add(r[0])),0!==a.length&&a.each(function(){var t=e(this);t.addClass(C.params.lazyStatusLoadingClass);var a=t.attr("data-background"),o=t.attr("data-src"),i=t.attr("data-srcset"),s=t.attr("data-sizes");C.loadImage(t[0],o||a,i,s,!1,function(){if(void 0!==C&&null!==C&&C){if(a?(t.css("background-image",'url("'+a+'")'),t.removeAttr("data-background")):(i&&(t.attr("srcset",i),t.removeAttr("data-srcset")),s&&(t.attr("sizes",s),t.removeAttr("data-sizes")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass(C.params.lazyStatusLoadedClass).removeClass(C.params.lazyStatusLoadingClass),r.find("."+C.params.lazyPreloaderClass+", ."+C.params.preloaderClass).remove(),C.params.loop&&n){var e=r.attr("data-swiper-slide-index");if(r.hasClass(C.params.slideDuplicateClass)){var l=C.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+C.params.slideDuplicateClass+")");C.lazy.loadImageInSlide(l.index(),!1)}else{var c=C.wrapper.children("."+C.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');C.lazy.loadImageInSlide(c.index(),!1)}}C.emit("onLazyImageReady",C,r[0],t[0])}}),C.emit("onLazyImageLoad",C,r[0],t[0])})}},load:function(){var t,n=C.params.slidesPerView;if("auto"===n&&(n=0),C.lazy.initialImageLoaded||(C.lazy.initialImageLoaded=!0),C.params.watchSlidesVisibility)C.wrapper.children("."+C.params.slideVisibleClass).each(function(){C.lazy.loadImageInSlide(e(this).index())});else if(n>1)for(t=C.activeIndex;t<C.activeIndex+n;t++)C.slides[t]&&C.lazy.loadImageInSlide(t);else C.lazy.loadImageInSlide(C.activeIndex);if(C.params.lazyLoadingInPrevNext)if(n>1||C.params.lazyLoadingInPrevNextAmount&&C.params.lazyLoadingInPrevNextAmount>1){var r=C.params.lazyLoadingInPrevNextAmount,a=n,o=Math.min(C.activeIndex+a+Math.max(r,a),C.slides.length),i=Math.max(C.activeIndex-Math.max(a,r),0);for(t=C.activeIndex+n;o>t;t++)C.slides[t]&&C.lazy.loadImageInSlide(t);for(t=i;t<C.activeIndex;t++)C.slides[t]&&C.lazy.loadImageInSlide(t)}else{var s=C.wrapper.children("."+C.params.slideNextClass);s.length>0&&C.lazy.loadImageInSlide(s.index());var l=C.wrapper.children("."+C.params.slidePrevClass);l.length>0&&C.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){C.params.lazyLoading&&(C.params.lazyLoadingOnTransitionStart||!C.params.lazyLoadingOnTransitionStart&&!C.lazy.initialImageLoaded)&&C.lazy.load()},onTransitionEnd:function(){C.params.lazyLoading&&!C.params.lazyLoadingOnTransitionStart&&C.lazy.load()}},C.scrollbar={isTouched:!1,setDragPosition:function(e){var t=C.scrollbar,n=C.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,r=n-t.track.offset()[C.isHorizontal()?"left":"top"]-t.dragSize/2,a=-C.minTranslate()*t.moveDivider,o=-C.maxTranslate()*t.moveDivider;a>r?r=a:r>o&&(r=o),r=-r/t.moveDivider,C.updateProgress(r),C.setWrapperTranslate(r,!0)},dragStart:function(e){var t=C.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),C.params.scrollbarHide&&t.track.css("opacity",1),C.wrapper.transition(100),t.drag.transition(100),C.emit("onScrollbarDragStart",C)},dragMove:function(e){var t=C.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),C.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),C.emit("onScrollbarDragMove",C))},dragEnd:function(e){var t=C.scrollbar;t.isTouched&&(t.isTouched=!1,C.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),C.emit("onScrollbarDragEnd",C),C.params.scrollbarSnapOnRelease&&C.slideReset())},draggableEvents:function(){return C.params.simulateTouch!==!1||C.support.touch?C.touchEvents:C.touchEventsDesktop}(),enableDraggable:function(){var t=C.scrollbar,n=C.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(n).on(t.draggableEvents.move,t.dragMove),e(n).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=C.scrollbar,n=C.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(n).off(t.draggableEvents.move,t.dragMove),e(n).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(C.params.scrollbar){var t=C.scrollbar;t.track=e(C.params.scrollbar),C.params.uniqueNavElements&&"string"==typeof C.params.scrollbar&&t.track.length>1&&1===C.container.find(C.params.scrollbar).length&&(t.track=C.container.find(C.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=C.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=C.size/C.virtualSize,t.moveDivider=t.divider*(t.trackSize/C.size),t.dragSize=t.trackSize*t.divider,C.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",C.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(C.params.scrollbar){var e,t=C.scrollbar,n=(C.translate,t.dragSize);e=(t.trackSize-t.dragSize)*C.progress,C.rtl&&C.isHorizontal()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):0>e?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),C.isHorizontal()?(C.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(C.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),C.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){C.params.scrollbar&&C.scrollbar.drag.transition(e)}},C.controller={LinearSpline:function(e,t){var n=function(){var e,t,n;return function(r,a){for(t=-1,e=r.length;e-t>1;)r[n=e+t>>1]<=a?t=n:e=n;return e}}();this.x=e,this.y=t,this.lastIndex=e.length-1;var r,a;this.x.length,this.interpolate=function(e){return e?(a=n(this.x,e),r=a-1,(e-this.x[r])*(this.y[a]-this.y[r])/(this.x[a]-this.x[r])+this.y[r]):0}},getInterpolateFunction:function(e){C.controller.spline||(C.controller.spline=C.params.loop?new C.controller.LinearSpline(C.slidesGrid,e.slidesGrid):new C.controller.LinearSpline(C.snapGrid,e.snapGrid))},setTranslate:function(e,n){function r(t){e=t.rtl&&"horizontal"===t.params.direction?-C.translate:C.translate,"slide"===C.params.controlBy&&(C.controller.getInterpolateFunction(t),o=-C.controller.spline.interpolate(-e)),o&&"container"!==C.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(C.maxTranslate()-C.minTranslate()),o=(e-C.minTranslate())*a+t.minTranslate()),C.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,C),t.updateActiveIndex()}var a,o,i=C.params.control;if(Array.isArray(i))for(var s=0;s<i.length;s++)i[s]!==n&&i[s]instanceof t&&r(i[s]);else i instanceof t&&n!==i&&r(i)},setTransition:function(e,n){function r(t){t.setWrapperTransition(e,C),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===C.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,o=C.params.control;if(Array.isArray(o))for(a=0;a<o.length;a++)o[a]!==n&&o[a]instanceof t&&r(o[a]);else o instanceof t&&n!==o&&r(o)}},C.hashnav={onHashCange:function(e,t){var n=document.location.hash.replace("#","");n!==C.slides.eq(C.activeIndex).attr("data-hash")&&C.slideTo(C.wrapper.children("."+C.params.slideClass+'[data-hash="'+n+'"]').index())},attachEvents:function(t){var n=t?"off":"on";e(window)[n]("hashchange",C.hashnav.onHashCange)},setHash:function(){if(C.hashnav.initialized&&C.params.hashnav)if(C.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+C.slides.eq(C.activeIndex).attr("data-hash")||"");else{var e=C.slides.eq(C.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(C.params.hashnav&&!C.params.history){C.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=C.slides.length;n>t;t++){var r=C.slides.eq(t),a=r.attr("data-hash")||r.attr("data-history");if(a===e&&!r.hasClass(C.params.slideDuplicateClass)){var o=r.index();C.slideTo(o,0,C.params.runCallbacksOnInit,!0)}}C.params.hashnavWatchState&&C.hashnav.attachEvents()}},destroy:function(){C.params.hashnavWatchState&&C.hashnav.attachEvents(!0)}},C.history={init:function(){if(C.params.history){if(!window.history||!window.history.pushState)return C.params.history=!1,void(C.params.hashnav=!0);C.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,C.params.runCallbacksOnInit),C.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){C.history.paths=C.history.getPathValues(),C.history.scrollToSlide(C.params.speed,C.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(C.history.initialized&&C.params.history){var n=C.slides.eq(t),r=this.slugify(n.attr("data-history"));window.location.pathname.includes(e)||(r=e+"/"+r),C.params.replaceState?window.history.replaceState(null,null,r):window.history.pushState(null,null,r)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){if(t)for(var r=0,a=C.slides.length;a>r;r++){var o=C.slides.eq(r),i=this.slugify(o.attr("data-history"));if(i===t&&!o.hasClass(C.params.slideDuplicateClass)){var s=o.index();C.slideTo(s,e,n)}}else C.slideTo(0,e,n)}},C.disableKeyboardControl=function(){C.params.keyboardControl=!1,e(document).off("keydown",c)},C.enableKeyboardControl=function(){C.params.keyboardControl=!0,e(document).on("keydown",c)},C.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},C.params.mousewheelControl&&(C.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var t=document.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),C.disableMousewheelControl=function(){if(!C.mousewheel.event)return!1;var t=C.container;return"container"!==C.params.mousewheelEventsTarged&&(t=e(C.params.mousewheelEventsTarged)),t.off(C.mousewheel.event,d),C.params.mousewheelControl=!1,!0},C.enableMousewheelControl=function(){if(!C.mousewheel.event)return!1;var t=C.container;return"container"!==C.params.mousewheelEventsTarged&&(t=e(C.params.mousewheelEventsTarged)),t.on(C.mousewheel.event,d),C.params.mousewheelControl=!0,!0},C.parallax={setTranslate:function(){C.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,C.progress)}),C.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=C.params.speed),C.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),n.transition(r)})}},C.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:C.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(a-n,2))},onGestureStart:function(t){var n=C.zoom;if(!C.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.gesture.scaleStart=n.getDistanceBetweenTouches(t)}return n.gesture.slide&&n.gesture.slide.length||(n.gesture.slide=e(this),0===n.gesture.slide.length&&(n.gesture.slide=C.slides.eq(C.activeIndex)),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+C.params.zoomContainerClass),n.gesture.zoomMax=n.gesture.imageWrap.attr("data-swiper-zoom")||C.params.zoomMax,0!==n.gesture.imageWrap.length)?(n.gesture.image.transition(0),void(n.isScaling=!0)):void(n.gesture.image=void 0)},onGestureChange:function(e){var t=C.zoom;if(!C.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(C.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<C.params.zoomMin&&(t.scale=C.params.zoomMin+1-Math.pow(C.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=C.zoom;!C.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),C.params.zoomMin),t.gesture.image.transition(C.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var n=e.zoom;n.gesture.image&&0!==n.gesture.image.length&&(n.image.isTouched||("android"===e.device.os&&t.preventDefault(),n.image.isTouched=!0,n.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=C.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(C.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=C.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=C.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),C.rtl&&(t.image.startX=-t.image.startX),C.rtl&&(t.image.startY=-t.image.startY));var n=t.image.width*t.scale,r=t.image.height*t.scale;if(!(n<t.gesture.slideWidth&&r<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-n/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-r/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(C.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!C.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var n=e.zoom;if(n.gesture.image&&0!==n.gesture.image.length){if(!n.image.isTouched||!n.image.isMoved)return n.image.isTouched=!1,void(n.image.isMoved=!1);n.image.isTouched=!1,n.image.isMoved=!1;var r=300,a=300,o=n.velocity.x*r,i=n.image.currentX+o,s=n.velocity.y*a,l=n.image.currentY+s;0!==n.velocity.x&&(r=Math.abs((i-n.image.currentX)/n.velocity.x)),0!==n.velocity.y&&(a=Math.abs((l-n.image.currentY)/n.velocity.y));var c=Math.max(r,a);n.image.currentX=i,n.image.currentY=l;var u=n.image.width*n.scale,d=n.image.height*n.scale;n.image.minX=Math.min(n.gesture.slideWidth/2-u/2,0),n.image.maxX=-n.image.minX,n.image.minY=Math.min(n.gesture.slideHeight/2-d/2,0),n.image.maxY=-n.image.minY,n.image.currentX=Math.max(Math.min(n.image.currentX,n.image.maxX),n.image.minX),n.image.currentY=Math.max(Math.min(n.image.currentY,n.image.maxY),n.image.minY),n.gesture.imageWrap.transition(c).transform("translate3d("+n.image.currentX+"px, "+n.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(t,n){var r=t.zoom;if(r.gesture.slide||(r.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),r.gesture.image=r.gesture.slide.find("img, svg, canvas"),r.gesture.imageWrap=r.gesture.image.parent("."+t.params.zoomContainerClass)),r.gesture.image&&0!==r.gesture.image.length){var a,o,i,s,l,c,u,d,p,f,m,h,g,v,y,b,w,C;void 0===r.image.touchesStart.x&&n?(a="touchend"===n.type?n.changedTouches[0].pageX:n.pageX,o="touchend"===n.type?n.changedTouches[0].pageY:n.pageY):(a=r.image.touchesStart.x,o=r.image.touchesStart.y),r.scale&&1!==r.scale?(r.scale=r.currentScale=1,r.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),r.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),r.gesture.slide=void 0):(r.scale=r.currentScale=r.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,n?(w=r.gesture.slide[0].offsetWidth,C=r.gesture.slide[0].offsetHeight,i=r.gesture.slide.offset().left,s=r.gesture.slide.offset().top,l=i+w/2-a,c=s+C/2-o,p=r.gesture.image[0].offsetWidth,f=r.gesture.image[0].offsetHeight,m=p*r.scale,h=f*r.scale,g=Math.min(w/2-m/2,0),v=Math.min(C/2-h/2,0),y=-g,b=-v,u=l*r.scale,d=c*r.scale,g>u&&(u=g),u>y&&(u=y),v>d&&(d=v),d>b&&(d=b)):(u=0,d=0),r.gesture.imageWrap.transition(300).transform("translate3d("+u+"px, "+d+"px,0)"),r.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+r.scale+")"))}},attachEvents:function(t){var n=t?"off":"on";if(C.params.zoom){var r=(C.slides,!("touchstart"!==C.touchEvents.start||!C.support.passiveListener||!C.params.passiveListeners)&&{passive:!0,capture:!1});C.support.gestures?(C.slides[n]("gesturestart",C.zoom.onGestureStart,r),C.slides[n]("gesturechange",C.zoom.onGestureChange,r),C.slides[n]("gestureend",C.zoom.onGestureEnd,r)):"touchstart"===C.touchEvents.start&&(C.slides[n](C.touchEvents.start,C.zoom.onGestureStart,r),C.slides[n](C.touchEvents.move,C.zoom.onGestureChange,r),C.slides[n](C.touchEvents.end,C.zoom.onGestureEnd,r)),C[n]("touchStart",C.zoom.onTouchStart),C.slides.each(function(t,r){e(r).find("."+C.params.zoomContainerClass).length>0&&e(r)[n](C.touchEvents.move,C.zoom.onTouchMove)}),C[n]("touchEnd",C.zoom.onTouchEnd),C[n]("transitionEnd",C.zoom.onTransitionEnd),C.params.zoomToggle&&C.on("doubleTap",C.zoom.toggleZoom)}},init:function(){C.zoom.attachEvents()},destroy:function(){C.zoom.attachEvents(!0)}},C._plugins=[];for(var N in C.plugins){var j=C.plugins[N](C,C.params[N]);j&&C._plugins.push(j)}return C.callPlugins=function(e){for(var t=0;t<C._plugins.length;t++)e in C._plugins[t]&&C._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},C.emitterEventListeners={},C.emit=function(e){C.params[e]&&C.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(C.emitterEventListeners[e])for(t=0;t<C.emitterEventListeners[e].length;t++)C.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);C.callPlugins&&C.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},C.on=function(e,t){return e=f(e),C.emitterEventListeners[e]||(C.emitterEventListeners[e]=[]),C.emitterEventListeners[e].push(t),C},C.off=function(e,t){var n;if(e=f(e),void 0===t)return C.emitterEventListeners[e]=[],C;if(C.emitterEventListeners[e]&&0!==C.emitterEventListeners[e].length){for(n=0;n<C.emitterEventListeners[e].length;n++)C.emitterEventListeners[e][n]===t&&C.emitterEventListeners[e].splice(n,1);return C}},C.once=function(e,t){e=f(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),C.off(e,n)};return C.on(e,n),C},C.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),
e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(C.params.nextButton)?(C.onClickNext(t),C.isEnd?C.a11y.notify(C.params.lastSlideMessage):C.a11y.notify(C.params.nextSlideMessage)):e(t.target).is(C.params.prevButton)&&(C.onClickPrev(t),C.isBeginning?C.a11y.notify(C.params.firstSlideMessage):C.a11y.notify(C.params.prevSlideMessage)),e(t.target).is("."+C.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+C.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=C.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){C.params.nextButton&&C.nextButton&&C.nextButton.length>0&&(C.a11y.makeFocusable(C.nextButton),C.a11y.addRole(C.nextButton,"button"),C.a11y.addLabel(C.nextButton,C.params.nextSlideMessage)),C.params.prevButton&&C.prevButton&&C.prevButton.length>0&&(C.a11y.makeFocusable(C.prevButton),C.a11y.addRole(C.prevButton,"button"),C.a11y.addLabel(C.prevButton,C.params.prevSlideMessage)),e(C.container).append(C.a11y.liveRegion)},initPagination:function(){C.params.pagination&&C.params.paginationClickable&&C.bullets&&C.bullets.length&&C.bullets.each(function(){var t=e(this);C.a11y.makeFocusable(t),C.a11y.addRole(t,"button"),C.a11y.addLabel(t,C.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){C.a11y.liveRegion&&C.a11y.liveRegion.length>0&&C.a11y.liveRegion.remove()}},C.init=function(){C.params.loop&&C.createLoop(),C.updateContainerSize(),C.updateSlidesSize(),C.updatePagination(),C.params.scrollbar&&C.scrollbar&&(C.scrollbar.set(),C.params.scrollbarDraggable&&C.scrollbar.enableDraggable()),"slide"!==C.params.effect&&C.effects[C.params.effect]&&(C.params.loop||C.updateProgress(),C.effects[C.params.effect].setTranslate()),C.params.loop?C.slideTo(C.params.initialSlide+C.loopedSlides,0,C.params.runCallbacksOnInit):(C.slideTo(C.params.initialSlide,0,C.params.runCallbacksOnInit),0===C.params.initialSlide&&(C.parallax&&C.params.parallax&&C.parallax.setTranslate(),C.lazy&&C.params.lazyLoading&&(C.lazy.load(),C.lazy.initialImageLoaded=!0))),C.attachEvents(),C.params.observer&&C.support.observer&&C.initObservers(),C.params.preloadImages&&!C.params.lazyLoading&&C.preloadImages(),C.params.zoom&&C.zoom&&C.zoom.init(),C.params.autoplay&&C.startAutoplay(),C.params.keyboardControl&&C.enableKeyboardControl&&C.enableKeyboardControl(),C.params.mousewheelControl&&C.enableMousewheelControl&&C.enableMousewheelControl(),C.params.hashnavReplaceState&&(C.params.replaceState=C.params.hashnavReplaceState),C.params.history&&C.history&&C.history.init(),C.params.hashnav&&C.hashnav&&C.hashnav.init(),C.params.a11y&&C.a11y&&C.a11y.init(),C.emit("onInit",C)},C.cleanupStyles=function(){C.container.removeClass(C.classNames.join(" ")).removeAttr("style"),C.wrapper.removeAttr("style"),C.slides&&C.slides.length&&C.slides.removeClass([C.params.slideVisibleClass,C.params.slideActiveClass,C.params.slideNextClass,C.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),C.paginationContainer&&C.paginationContainer.length&&C.paginationContainer.removeClass(C.params.paginationHiddenClass),C.bullets&&C.bullets.length&&C.bullets.removeClass(C.params.bulletActiveClass),C.params.prevButton&&e(C.params.prevButton).removeClass(C.params.buttonDisabledClass),C.params.nextButton&&e(C.params.nextButton).removeClass(C.params.buttonDisabledClass),C.params.scrollbar&&C.scrollbar&&(C.scrollbar.track&&C.scrollbar.track.length&&C.scrollbar.track.removeAttr("style"),C.scrollbar.drag&&C.scrollbar.drag.length&&C.scrollbar.drag.removeAttr("style"))},C.destroy=function(e,t){C.detachEvents(),C.stopAutoplay(),C.params.scrollbar&&C.scrollbar&&C.params.scrollbarDraggable&&C.scrollbar.disableDraggable(),C.params.loop&&C.destroyLoop(),t&&C.cleanupStyles(),C.disconnectObservers(),C.params.zoom&&C.zoom&&C.zoom.destroy(),C.params.keyboardControl&&C.disableKeyboardControl&&C.disableKeyboardControl(),C.params.mousewheelControl&&C.disableMousewheelControl&&C.disableMousewheelControl(),C.params.a11y&&C.a11y&&C.a11y.destroy(),C.params.history&&!C.params.replaceState&&window.removeEventListener("popstate",C.history.setHistoryPopState),C.params.hashnav&&C.hashnav&&C.hashnav.destroy(),C.emit("onDestroy"),e!==!1&&(C=null)},C.init(),C}};t.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!n&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:n||a||r,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var n=(function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var r=[],a=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var o,i,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),i=document.createElement(l),i.innerHTML=t,a=0;a<i.childNodes.length;a++)r.push(i.childNodes[a])}else for(o=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],a=0;a<o.length;a++)o[a]&&r.push(o[a])}else if(t.nodeType||t===window||t===document)r.push(t);else if(t.length>0&&t[0].nodeType)for(a=0;a<t.length;a++)r.push(t[a]);return new e(r)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this}if(this[0]){var a=this[0].getAttribute("data-"+e);return a?a:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,r,a){function o(e){var a=e.target;if(t(a).is(n))r.call(a,e);else for(var o=t(a).parents(),i=0;i<o.length;i++)t(o[i]).is(n)&&r.call(o[i],e)}var i,s,l=e.split(" ");for(i=0;i<this.length;i++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],a=arguments[2]||!1),s=0;s<l.length;s++)this[i].addEventListener(l[s],r,a);else for(s=0;s<l.length;s++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:r,liveListener:o}),this[i].addEventListener(l[s],o,a);return this},off:function(e,t,n,r){for(var a=e.split(" "),o=0;o<a.length;o++)for(var i=0;i<this.length;i++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],r=arguments[2]||!1),this[i].removeEventListener(a[o],n,r);else if(this[i].dom7LiveListeners)for(var s=0;s<this[i].dom7LiveListeners.length;s++)this[i].dom7LiveListeners[s].listener===n&&this[i].removeEventListener(a[o],this[i].dom7LiveListeners[s].liveListener,r);return this},once:function(e,t,n,r){function a(i){n(i),o.off(e,t,a,r)}var o=this;"function"==typeof t&&(t=!1,n=arguments[1],r=arguments[2]),o.on(e,t,a,r)},trigger:function(e,t){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(n){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=t}this[n].dispatchEvent(r)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)a.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(n=0;n<r.length;n++)a.on(r[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,r=e.clientTop||n.clientTop||0,a=e.clientLeft||n.clientLeft||0,o=window.pageYOffset||e.scrollTop,i=window.pageXOffset||e.scrollLeft;return{top:t.top+o-r,left:t.left+i-a}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var r,a;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(r=t(n),a=0;a<r.length;a++)if(r[a]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(r=n.nodeType?[n]:n,a=0;a<r.length;a++)if(r[a]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var n,r=this.length;return t>r-1?new e([]):0>t?(n=r+t,new e(0>n?[]:[this[n]])):new e([this[t]])},append:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t;a.firstChild;)this[n].appendChild(a.firstChild)}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].appendChild(t[r]);else this[n].appendChild(t);return this},prepend:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t,r=a.childNodes.length-1;r>=0;r--)this[n].insertBefore(a.childNodes[r],this[n].childNodes[0])}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var a=0;a<n.length;a++)n[a].parentNode.insertBefore(this[r].cloneNode(!0),n[a])},insertAfter:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var a=0;a<n.length;a++)n[a].parentNode.insertBefore(this[r].cloneNode(!0),n[a].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],a=this[0];if(!a)return new e([]);for(;a.nextElementSibling;){var o=a.nextElementSibling;n?t(o).is(n)&&r.push(o):r.push(o),a=o}return new e(r)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],a=this[0];if(!a)return new e([]);for(;a.previousElementSibling;){var o=a.previousElementSibling;n?t(o).is(n)&&r.push(o):r.push(o),a=o}return new e(r)},parent:function(e){for(var n=[],r=0;r<this.length;r++)e?t(this[r].parentNode).is(e)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],r=0;r<this.length;r++)for(var a=this[r].parentNode;a;)e?t(a).is(e)&&n.push(a):n.push(a),a=a.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],r=0;r<this.length;r++)for(var a=this[r].querySelectorAll(t),o=0;o<a.length;o++)n.push(a[o]);return new e(n)},children:function(n){for(var r=[],a=0;a<this.length;a++)for(var o=this[a].childNodes,i=0;i<o.length;i++)n?1===o[i].nodeType&&t(o[i]).is(n)&&r.push(o[i]):1===o[i].nodeType&&r.push(o[i]);return new e(t.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,r=this;for(e=0;e<arguments.length;e++){var a=t(arguments[e]);for(n=0;n<a.length;n++)r[r.length]=a[n],r.length++}return r}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t}()),r=["jQuery","Zepto","Dom7"],a=0;a<r.length;a++)window[r[a]]&&function(e){e.fn.swiper=function(n){var r;return e(this).each(function(){var e=new t(this,n);r||(r=e)}),r}}(window[r[a]]);var o;o=void 0===n?window.Dom7||window.Zepto||window.jQuery:n,o&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)a.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(n=0;n<r.length;n++)a.on(r[n],t);return this}),"transform"in o.fn||(o.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in o.fn||(o.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}),"outerWidth"in o.fn||(o.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper});var tlbApp=angular.module("Talabat",["ui.router","ui.bootstrap","oc.lazyLoad","ngLocalize","ngCookies","checklist-model","angularLazyImg","ui-notification","ngAnimate","ngTouch","ngDfp","ngMessages","angular-loading-bar","ngRateIt","infinite-scroll","ui.mask"]);tlbApp.config(["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$ocLazyLoadProvider","$controllerProvider","$compileProvider","$filterProvider","$provide","srvCountryCode","srvLocale","isDebugging","lazyImgConfigProvider","NotificationProvider","cfpLoadingBarProvider","fileCacheVersionNo","dfpTest","DoubleClickProvider","uiMask.ConfigProvider","appTheme",function(e,t,n,r,a,o,i,s,l,c,u,d,p,f,m,h,g,v,y,b){var w="/apps/dist/talabat/";d&&(w="/apps/talabat/"),y.maskDefinitions({A:/[a-z]/,"*":/[a-zA-Z0-9]/}),y.clearOnBlur(!1),y.addDefaultPlaceholder(!1),y.eventsToHandle(["input","keyup","click"]),f.setOptions({delay:2e3,startTop:0,startRight:0,verticalSpacing:20,horizontalSpacing:0,positionX:"left"}),m.includeSpinner=!1,a.config({debug:d}),p.setOptions({errorClass:"error",offset:300}),tlbApp.lazy={controller:o.register,directive:i.directive,filter:s.register,factory:l.factory,service:l.service};var C="160416261",S=c,x="ar-KW"==u?"AR":"EN",k="/"+C+"/"+S+"_"+x+"_HOME_BANNER_750x263",T="/"+C+"/"+S+"_"+x+"_ZONE1_230x156"+(g?"_NEW":""),A="/"+C+"/"+S+"_"+x+"_ZONE2_230x156"+(g?"_NEW":""),M="/"+C+"/"+S+"_"+x+"_ZONE3_230x156"+(g?"_NEW":""),I="/"+C+"/"+S+"_"+x+"_ZONE4_230x156"+(g?"_NEW":""),L="/"+C+"/"+S+"_"+x+"_ZONE5_230x156"+(g?"_NEW":""),P="/"+C+"/"+S+"_"+x+"_SKY_SCRAPER_160x600"+(g?"_NEW":""),E="/"+C+"/"+S+"_"+x+"_TOP_BANNER_728x90"+(g?"_NEW":""),z="/"+C+"/"+S+"_"+x+"_LANDING_POPUP_800x50"+(g?"_NEW":""),O="/"+C+"/"+S+"_"+x+"_THANKYOU_BANNER_800x500"+(g?"_NEW":""),R="/"+C+"/"+S+"_"+x+"_SIDE_MENU_BANNER_320x50",D="/"+C+"/"+S+"_"+x+"_STICKY_FOOTER_815X72",N="/"+C+"/"+S+"_"+x+"_CHECKOUT_BANNER_775x150",j=$(window).width();v.defineSlot(k,[750,263],"div-gpt-ad-home-banner"),v.defineSlot(T,[230,156],"div-gpt-ad-zone-1"),v.defineSlot(A,[230,156],"div-gpt-ad-zone-2"),v.defineSlot(M,[230,156],"div-gpt-ad-zone-3"),v.defineSlot(I,[230,156],"div-gpt-ad-zone-4"),v.defineSlot(L,[230,156],"div-gpt-ad-zone-5"),v.defineSlot(P,[160,600],"div-gpt-ad-sky-scrapper"),1e3>j?v.defineSlot(E,[728,90],"div-gpt-ad-top-banner"):v.defineSlot(E,[1e3,90],"div-gpt-ad-top-banner"),360>j?(v.defineSlot(z,[320,518],"div-gpt-ad-home-popup"),v.defineSlot(O,[320,518],"div-gpt-ad-thankyou-popup"),v.defineSlot(R,[320,50],"div-gpt-ad-side-menu-banner")):j>=360&&375>j?(v.defineSlot(z,[360,590],"div-gpt-ad-home-popup"),v.defineSlot(O,[360,590],"div-gpt-ad-thankyou-popup"),v.defineSlot(R,[360,50],"div-gpt-ad-side-menu-banner")):j>=375&&412>j?(v.defineSlot(z,[375,617],"div-gpt-ad-home-popup"),v.defineSlot(O,[375,617],"div-gpt-ad-thankyou-popup"),v.defineSlot(R,[375,60],"div-gpt-ad-side-menu-banner")):j>=412&&768>j?(v.defineSlot(z,[412,686],"div-gpt-ad-home-popup"),v.defineSlot(O,[412,686],"div-gpt-ad-thankyou-popup"),v.defineSlot(R,[412,60],"div-gpt-ad-side-menu-banner")):j>=768&&1e3>j?(v.defineSlot(z,[768,974],"div-gpt-ad-home-popup"),v.defineSlot(O,[768,974],"div-gpt-ad-thankyou-popup")):(v.defineSlot(z,[800,500],"div-gpt-ad-home-popup"),v.defineSlot(O,[800,500],"div-gpt-ad-thankyou-popup")),v.defineSlot(D,[815,72],"div-gpt-ad-sticky-footer"),v.defineSlot(N,[775,150],"div-gpt-ad-checkout-banner"),tlbApp.getTemplate=function(e,t,n){return!b||"home"!=n&&"homeDefault"!=n&&"allCuisineRestaurants"!=n||(e=e+"_"+b),d?e:w+e+("ar"==t||"ar-kw"==t.toLowerCase()?"-ar-kw":"-en-us")+".html?v="+h},tlbApp.getCSS=function(e,t){var n="ar"==t||"ar-kw"==t.toLowerCase();return d?n?"/apps/dist/talabat/"+e+"-ar-kw.css":w+e+".css":w+e+(n?"-ar-kw.css?v="+h:"-en-us.css?v="+h)};var B=["$rootScope","global","model","$stateParams",function(e,t,n,r){if(t.cnt=r.cnt,t.lng=r.lng,t.country=n.country,t.city=n.city,t.customer=n.customer,t.baseUrl=n.baseUrl,e.showTopBanner=n.topBanner,e.showSideMenuBanner=n.sideMenuBanner,n.seoContent&&n.seoContent.spi&&n.seoContent.spi.length>0){var a=_.find(n.seoContent.spi,{st:7});a&&(document.title=a.ex)}}];n.strictMode(!1),t.otherwise(function(e,t){var n=e.get("$state");n.go("404")}),e.state("main",{"abstract":!0,url:"ar-KW"==u?"/ar":"",template:"<ui-view/>",params:{lng:{value:"ar-KW"==u?"ar":"en",squash:!0}}}).state("main.home",{url:"/:cnt","abstract":!0,templateUrl:function(e){return tlbApp.getTemplate("components/home/homeView",e.lng,"home")},controller:"HomeController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?(tlbApp.MainModel.fromServerSide=!0,tlbApp.MainModel):e.getHomePage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/home/home-page",t.lng);return e.load([w+"components/home/homeController.js?v="+h,n])}]},onEnter:B}).state("main.home.default",{url:"",templateUrl:function(e){return tlbApp.getTemplate("components/home/homeDefault",e.lng,"homeDefault")},resolve:{lazy:["$ocLazyLoad",function(e){return e.load([w+"components/home/homeDefaultCtrl.js?v="+h])}]},controller:"HomeDefaultController"}).state("main.restaurantList",{url:"/:cnt/restaurants/:areaId/:areaSlug?cuisinetype",templateUrl:function(e){return tlbApp.getTemplate("components/restaurant/listView",e.lng)},controller:"listController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:window.prefetchedList?window.prefetchedList:e.getRestaurantsData(t.areaId,t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/restaurant/listing-page",t.lng);return e.load([w+"components/restaurant/listingController.js?v="+h,n])}]},reloadOnSearch:!1,onEnter:B}).state("main.menupage",{url:"/:cnt/restaurant/:branchid/:branchSlug?cu",templateUrl:function(e){return tlbApp.getTemplate("components/menu/menuView",e.lng)},controller:"menuController",resolve:{model:["dataFactory","$stateParams","cookieHelper",function(e,t,n){if(tlbApp.MainModel)return tlbApp.MainModel;var r=n.getArea();return e.getMenuPageData(t.branchid,r).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/menu/menu",t.lng);return e.load([w+"components/menu/menuController.js?v="+h,n])}]},onEnter:B}).state("main.myaccount",{url:"/:cnt/my-account?tab",templateUrl:function(e){return tlbApp.getTemplate("components/myaccount/myaccountView",e.lng)},controller:"myaccountController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getAccountPageData(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/myaccount/myaccount",t.lng);return e.load([w+"components/myaccount/emailChangePopupCtrl.js?v="+h,w+"components/myaccount/changePasswordCtrl.js?v="+h,w+"components/myaccount/myaccountController.js?v="+h,n])}]},reloadOnSearch:!1,onEnter:B}).state("main.allRestaurants",{url:"/:cnt/restaurants?t",templateUrl:function(e){return tlbApp.getTemplate("components/restaurant/allRestaurantsView",e.lng)},controller:"AllRestaurantsController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getAllRestaurantsPage(t.cnt,null,t.t).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/restaurant/all-restaurants-page",t.lng);return e.load([w+"components/restaurant/allRestaurantsController.js?v="+h,n])}]},onEnter:B}).state("main.allCuisineRestaurants",{url:"/:cnt/:cuisineSlug/:cuisineId/restaurants?t",templateUrl:function(e){return tlbApp.getTemplate("components/restaurant/allRestaurantsView",e.lng,"allCuisineRestaurants")},controller:"AllRestaurantsController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getAllRestaurantsPage(t.cnt,t.cuisineId,t.t).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/home/home-page",t.lng);return e.load([w+"components/restaurant/allRestaurantsController.js?v="+h,n])}]},onEnter:B}).state("main.mostSelling",{url:"/:cnt/top-selling",templateUrl:function(e){return tlbApp.getTemplate("components/mostselling/mostsellingView",e.lng)},controller:"MostSellingController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getMostSellingPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/mostselling/mostselling-page",t.lng);return e.load([w+"components/mostselling/mostsellingController.js?v="+h,n])}]},onEnter:B}).state("main.offers",{url:"/:cnt/offers",templateUrl:function(e){return tlbApp.getTemplate("components/offers/offersView",e.lng)},controller:"OffersController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getOffersPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/offers/offers-page",t.lng);return e.load([w+"components/offers/offersController.js?v="+h,n])}]},onEnter:B}).state("main.social",{url:"/:cnt/social-responsibility",templateUrl:function(e){return tlbApp.getTemplate("components/socialresponsibility/socialResView",e.lng)},controller:"socialController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getSocialPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/socialresponsibility/socialRes-page",t.lng);return e.load([w+"components/socialresponsibility/socialResCtrl.js?v="+h,n])}]},onEnter:B}).state("main.signin",{url:"/:cnt/signin?returnUrl",templateUrl:function(e){return tlbApp.getTemplate("components/signin/signinView",e.lng)},controller:"SigninController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getLoginPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/signin/signin-page",t.lng);return e.load([w+"components/signin/signinController.js?v="+h,n])}]},onEnter:B}).state("main.signup",{url:"/:cnt/register?returnUrl",templateUrl:function(e){return tlbApp.getTemplate("components/signup/signupView",e.lng)},controller:"SignupController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getRegistrationPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/signup/signup-page",t.lng);return e.load([w+"components/signup/signupController.js?v="+h,n])}]},onEnter:B}).state("main.checkout",{url:"/:cnt/checkout",templateUrl:function(e){return tlbApp.getTemplate("components/checkout/checkoutView",e.lng)},controller:"CheckoutController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getCheckoutPage(t.cnt).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/checkout/checkout-page",t.lng);return e.load([w+"components/checkout/checkoutController.js?v="+h,n])}]},onEnter:B}).state("main.letseat",{url:"/kuwait/kfg-talabat?src",templateUrl:function(e){return tlbApp.getTemplate("components/letseat/letsEat",e.lng)},controller:"letsEatController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getLetsEatPageData().then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/letseat/lets-eat",t.lng);return e.load([w+"components/letseat/letsEatController.js?v="+h,n])}]},onEnter:B}).state("main.infopage",{url:"/:cnt/:restSlug",templateUrl:function(e){return tlbApp.getTemplate("components/info/infoView",e.lng)},controller:"infoController",resolve:{model:["dataFactory","$stateParams",function(e,t){if(tlbApp.MainModel){var n=tlbApp.MainModel;return n.isBrandPage=!0,n}return e.getInfoPageData(t.cnt,t.restSlug).then(function(e){var t=e.data.result;return t.isBrandPage=!0,t})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/info/info-page",t.lng);return e.load([w+"components/info/infoController.js?v="+h,n])}]},onEnter:B}).state("main.thankyou-normal",{url:"/:cnt/thankyou/:payMethod/:transId",templateUrl:function(e){return tlbApp.getTemplate("components/thankyou/thankyouView",e.lng)},controller:"ThankyouController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getThankyouPage(t.cnt,t.payMethod,t.transId).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/thankyou/thankyou-page",t.lng);return e.load([w+"components/thankyou/thankyouController.js?v="+h,n])}]},onEnter:B}).state("main.thankyou-quick",{url:"/:cnt/thankyou/quick/:payMethod/:transId",templateUrl:function(e){return tlbApp.getTemplate("components/thankyou/thankyouView",e.lng)},controller:"ThankyouController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getThankyouPage(t.cnt,t.payMethod,t.transId).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/thankyou/thankyou-page",t.lng);return e.load([w+"components/thankyou/thankyouController.js?v="+h,n])}]},onEnter:B}).state("main.thankyou-gift",{url:"/:cnt/thankyou-gift/:payMethod/:transId",templateUrl:function(e){return tlbApp.getTemplate("components/thankyougift/thankyou-giftView",e.lng)},controller:"ThankyouGiftController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getThankyouGiftPage(t.cnt,t.payMethod,t.transId).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/thankyougift/thankyou-gift-page",t.lng);return e.load([w+"components/thankyougift/thankyou-giftController.js?v="+h,n])}]},onEnter:B}).state("main.thankyou-credit",{url:"/:cnt/thankyou-credit/:payMethod/:transId",templateUrl:function(e){return tlbApp.getTemplate("components/thankyoucredit/thankyou-creditView",e.lng);
},controller:"ThankyouCreditController",resolve:{model:["dataFactory","$stateParams",function(e,t){return tlbApp.MainModel?tlbApp.MainModel:e.getThankyouCreditPage(t.cnt,t.payMethod,t.transId).then(function(e){return e.data.result})}],lazy:["$ocLazyLoad","$stateParams",function(e,t){var n=tlbApp.getCSS("components/thankyoucredit/thankyou-credit-page",t.lng);return e.load([w+"components/thankyoucredit/thankyou-creditController.js?v="+h,n])}]},onEnter:B}).state("404",{templateUrl:function(e){return tlbApp.getTemplate("components/404/404",e.lng)},resolve:{lazy:["$ocLazyLoad","$stateParams",function(e,t){tlbApp.getCSS("components/404/404","en")}]}}),r.html5Mode({enabled:!0,requireBase:!1})}]),tlbApp.run(["$rootScope","device","locale","$timeout","$http","global","$state","$window","$location","srvLocale","fbAppId","fbSrv","$anchorScroll","dataFactory","$uibModalStack","gtmService","cookieHelper","srvIsLoggedIn","appTheme",function(e,t,n,r,a,o,i,s,l,c,u,d,p,f,m,h,g,v,y){function b(){C.mark("navStart")}function w(){C.mark("domLoaded")}angular.element(document).ready(function(){window.scrollTo(0,0)}),$(".closebanner").on("click",function(){$("body").addClass("hideSmb"),r(function(){var e=$(".search-box-container").offset().top,t=$(".search-box-container").height(),n=e+t;(jQuery(window).width()<768||screen.width<768)&&$(".sliders-section").css("top",n+"px")},!1)});var C=new NewrelicTiming;o.currentLocale=c,"ar-KW"==o.currentLocale&&n.setLocale(o.currentLocale),$(function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox",document.body.appendChild(e),window.setTimeout(function(){0===e.offsetHeight?o.adblockEnabled=!0:o.adblockEnabled=!1,$(e).remove()},10)}),a.defaults.headers.common["Accept-Language"]=o.currentLocale,a.defaults.headers.common["X-Device-Source"]=o.deviceSource;var S=f.getCart();S&&S.then(function(t){e.cartmodel=t}),e.showLoading=function(){$("#loadingSpinner").show()},e.hideLoading=function(){$("#loadingSpinner").hide()},e.$on("$viewContentLoaded",function(){C.mark("pageRendered"),C.sendNRBeacon(l.path())}),e.$on("$stateChangeStart",function(t,n,r,a,s){$("#nav-state").prop("checked")&&$("#nav-state").prop("checked",!1).change(),b(),$(".country-slider").slideUp(500),n.resolve&&e.showLoading(),"main.thankyou-normal"==n.name||"main.thankyou-quick"==n.name||"main.checkout"==n.name||"main.signin"==n.name||"main.signup"==n.name?$(".cart-li").addClass("hidden"):$(".cart-li").removeClass("hidden"),a.name&&"main.signin"!=a.name&&"main.signup"!=a.name&&"main.checkout"==n.name&&(o.customer||(t.preventDefault(),i.go("main.signin",{cnt:r.cnt,returnUrl:"checkout"},{location:!0}))),a.name&&"main.signin"!=a.name&&"main.signup"!=a.name&&"main.myaccount"==n.name&&(o.customer||(t.preventDefault(),i.go("main.signin",{cnt:r.cnt,returnUrl:"myaccount"},{location:!0}))),("main.signin"==n.name||"main.signup"==n.name)&&o.customer&&"main.checkout"==a.name&&(t.preventDefault(),history.go(-1)),"main.menupage"==a.name&&(e.upSell=void 0),e.$emit("closeSummary"),m.dismissAll()}),e.$on("$stateChangeSuccess",function(n,a,s,l,c){if(DY.API("track_pageView",{url:window.location.href}),window.scrollTo(0,0),w(),e.hideLoading(),"main.restaurantList"==a.name?(window.prefetchedList&&(h.gtm_listPrefetch(),window.prefetchedList=null),$(function(){$.scrollUp({animation:"fade",scrollImg:{active:!0,type:"background"}})})):$.scrollUp.settings&&$.scrollUp.destroy(),"main.myaccount"==a.name?$(".myaccountLink-li").addClass("hidden"):$(".myaccountLink-li").removeClass("hidden"),"main.home.default"!=a.name&&"main.allCuisineRestaurants"!=a.name||!y?$("body").removeClass(y):$("body").addClass(y),"main.allCuisineRestaurants"==a.name||"main.home.default"==a.name?($(".global-nav").removeClass("nav-black"),$("body").removeClass("innerpages"),g.setCurrentFilters({filters:[]}),g.setCurrentCuisine(""),$(document).ready(function(){var e=!1,t=250,n=function(){jQuery(window).width()<768||screen.width<768?y?$(".search-section").css("min-height",jQuery(window).height()+"px"):$(".search-section").css("min-height",jQuery(window).height()+50+"px"):y?$(".search-section").css({height:"700px","min-height":"0"}):$(".search-section").css({height:"400px","min-height":"0"})};$(window).on("resize",function(){clearTimeout(e),e=setTimeout(n,t)}),r(function(){n()})})):($(window).off("resize"),$(".global-nav").addClass("nav-black"),$("body").addClass("innerpages")),"main.menupage"==a.name){if(e.upSell=void 0,o.ismenupage=!0,$(".cart-li").addClass("hidden-md hidden-lg"),"main.restaurantList"==l.name&&h.gtm_restaurantclick(c.areaId,s.branchid,!1,""),screen.width>=768&&screen.width<=999)try{$zopim.livechat.button.hide()}catch(u){}}else if(o.ismenupage=!1,$(".cart-li").removeClass("hidden-md hidden-lg"),screen.width>=768&&screen.width<=999)try{$zopim.livechat.button.show()}catch(u){}"main.checkout"==a.name||"main.thankyou-normal"==a.name||"main.thankyou-quick"==a.name||"main.signin"==a.name||"main.signup"==a.name?$(".login-li").addClass("hidden"):$(".login-li").removeClass("hidden"),"main.allCuisineRestaurants"==a.name||"main.home.default"==a.name||"main.restaurantList"==a.name||"main.infopage"==a.name?$(".opentlbApp").off("click").on("click",function(){setTimeout(function(){"android"==t?window.location="https://play.google.com/store/apps/details?id=com.talabat":"ios"==t&&(window.location="http://itunes.apple.com/kw/app/talabat/id451001072?mt=8")},50);var e="talabat://";switch(a.name){case"main.restaurantList":e+="?c="+o.country.cd+"&a="+s.areaId+"&s=l";break;case"main.infopage":e+="?c="+o.country.cd+"&s=s&v="+o.restid}window.location=e}):($(".opentlbApp").off("click"),$("body").addClass("hideSmb")),"main.signin"!=a.name&&"main.signup"!=a.name||!o.customer||i.go("main.home.default",{cnt:s.cnt}),h.gtm_pageView(a.name,o.customer),e.showTopBanner&&googletag.cmd.push(function(){googletag.pubads().refresh([dfp_slots.topBanner])}),tlbApp.MainModel=null}),e.$on("stateChangeError",function(t,n,r,a,o){n.resolve&&e.hideLoading()}),s.fbAsyncInit=function(){FB.init({appId:u,channelUrl:"app/channel.html",status:!0,cookie:!0,xfbml:!0,version:"v2.4"}),d.watchLoginChange()},function(e){var t,n="facebook-jssdk",r=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(t,r))}(document)}]),tlbApp.value("global",{deviceSource:screen.width<768?"2":"0"}),tlbApp.value("mobileCodes",{1:"+965",2:"+966",3:"+973",4:"+971",5:"+968",6:"+974"}),tlbApp.value("localeConf",{basePath:"/apps/talabat/languages",defaultLocale:"en-US",sharedDictionary:"common",fileExtension:".lang.json",persistSelection:!1,cookieName:"talabat_locale",observableAttrs:new RegExp("^data-(?!ng-|i18n)"),delimiter:"::",validTokens:new RegExp("^[\\w\\.-]+\\.[\\w\\s\\.-]+\\w(:.*)?$")}),tlbApp.value("localeSupported",["en-US","ar-KW"]),tlbApp.factory("utilityService",["$http","apiHost","cookieHelper","$timeout",function(e,t,n,r){var a={};a.setMinHeight=function(){var e=$(window).height()-$(".inner-page").offset().top-$(".footer").height();$(".inner-page").css("min-height",e+"px")},a.styleInput=function(e,t){$(e).addClass("animated "+t).focus(),setTimeout(function(){$(e).removeClass("animated "+t)},2e3)},a.adjustMenuHeight=function(){if($(".menu-page").length){var e=$(window).height()-$(".inner-page").offset().top-$(".footer").height(),t=$(".itemsection").offset().top+30+$(".cart-info").height();t=e>t?e:t,setTimeout(function(){$(".menu-page").css("min-height",t+"px")},20)}};var o,i=null;return a.showinfoWindow=function(e,t,n){i&&i.close(),i=null,i=new google.maps.InfoWindow({disableAutoPan:!0}),i.setContent(e),i.setPosition(t),i.open(n)},a.showMapError=function(e,t){o=t,$("#mapTooltip").removeClass("invisible"),document.getElementById("mapTooltip").innerHTML="",angular.element(document.getElementById("mapTooltip")).append(e),t?$("#mapTooltip").addClass("address-mismatch"):$("#mapTooltip").removeClass("address-mismatch"),r(function(){$("#mapTooltip").addClass("invisible")},5e3)},a.getCountryIdByName=function(e){var t;switch(e.toLowerCase()){case"kuwait":t=1;break;case"ksa":t=2;break;case"bahrain":t=3;break;case"uae":t=4;break;case"oman":t=5;break;case"qatar":t=6;break;case"jordan":t=8}return t},a.clearInfoWindow=function(){i&&i.close(),i=null},a.scrollTo=function(e){function t(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function n(e){for(var t=document.getElementById(e),n=t.offsetTop,r=t;r.offsetParent&&r.offsetParent!=document.body;)r=r.offsetParent,n+=r.offsetTop;return n}var r=t(),a=n(e),o=a>r?a-r:r-a;if(100>o)return void scrollTo(0,a);var i=Math.round(o/100);i>=20&&(i=20);var s=Math.round(o/25),l=a>r?r+s:r-s,c=0;if(a>r)for(var u=r;a>u;u+=s)setTimeout("window.scrollTo(0, "+l+")",c*i),l+=s,l>a&&(l=a),c++;else for(var u=r;u>a;u-=s)setTimeout("window.scrollTo(0, "+l+")",c*i),l-=s,a>l&&(l=a),c++},a}]),tlbApp.filter("newline",["$sce",function(e){return function(t){return t?(t=t.replace(/\\n/g,"<br />"),e.trustAsHtml(t)):void 0}}]),tlbApp.filter("pipeNewline",["$sce",function(e){return function(t){return t?(t=t.replace(/\|/g,"<br />"),e.trustAsHtml(t)):void 0}}]),tlbApp.controller("selectionPopupCtrl",["$scope","$uibModalInstance","$timeout","type","data","global",function(e,t,n,r,a,o){$("html").addClass("noscroll-long noscroll"),e.data=a,e.isgroupedArea=!o.country.iscity&&2==r,e.selectType=r,e.filterProp=function(){return 2==r?{an:e.optionSearch}:{na:e.optionSearch}};var i=30,s=0;e.loadMore=function(){var t=e.data.length,r=Math.ceil(t/i);r>s&&(s++,e.currentSize=s*i,n(function(){_.delay(e.loadMore,50)}))},e.loadMore(),e.cancel=function(){t.dismiss()},e.optionSelected=function(e){t.close(e)},e.clearOptionSearchText=function(){e.optionSearch=""},e.$on("$destroy",function(){$("html").removeClass("noscroll-long noscroll")})}]),tlbApp.factory("dataFactory",["$http","apiHost","cookieHelper","utilityService","$q","global",function(e,t,n,r,a,o){function i(t,n,r){var a={method:n,url:t};return"POST"==n&&(a.data=r),e(a).then(function(e){return e.data.result})}var s=t,l={};l.getHomePage=function(t){var n=s+"v1/pages/"+t+"/home";return e.get(n)},l.getRestaurantsData=function(t,n){var r=s+"v1/restaurants";return e.post(r,{areaId:t,countryCode:n})},l.prefetchList=function(t,n){var r=a.defer(),o=s+"v1/restaurants",i=e({method:"post",url:o,data:{areaId:t,countryCode:n},ignoreLoadingBar:!0,timeout:r.promise}),l=i.then(function(e){return e.data.result},function(e){return a.reject("Something went wrong")});return l.abort=function(){r.resolve()},l["finally"](function(){l.abort=angular.noop,r=i=l=null}),l},l.getbranchReviews=function(t,n){var r=s+"v1/branches/"+t+"/reviews/"+n;return e.get(r).then(function(e){return e.data.result})},l.getRestReviews=function(t,n){var r=s+"v1/restaurant/"+t+"/reviews/"+n;return e.get(r).then(function(e){return e.data.result})},l.getInfoPageData=function(t,n){var r=s+"v1/restaurants/info/"+t+"/"+n;return e.get(r)},l.getLetsEatPageData=function(){var t=s+"v1/pages/kuwait/lets-eat";return e.get(t)},l.getLetsEatContent=function(){return e.get("https://img.talabat.com/newsletter/letseat-json.json")},l.getInfoDataByRestId=function(e){var t=s+"v1/restaurants/info/"+e;return i(t,"GET")},l.getAreaInfoForRest=function(e,t,n){var r=s+"v1/restaurants/info/"+e+"/"+t+"/"+n;return i(r,"GET")},l.getFranchiseList=function(e,t){var n=s+"v1/restaurants/franchise/"+t+"/"+e;return i(n,"GET")},l.submitFeedback=function(e){var t=s+"v1/customer/feedback";return i(t,"POST",e)},l.getMenuPageData=function(t,n){var r=s+"v1/restaurants/branches/"+t+"/areas/"+n+"/menu";return e.get(r)},l.getAccountPageData=function(t){var n=s+"v1/pages/"+t+"/my-account";return e.get(n)},l.getPreviousOrders=function(t,n){var r=s+"v1/pages/"+t+"/previous-orders/"+n;return e.get(r).then(function(e){return e.data.result})},l.getGiftVouchers=function(t){var n=s+"v1/customer/countries/"+t+"/giftvouchers";return e.get(n).then(function(e){return e.data})},l.purchaseGiftVoucher=function(t,n){var r=s+"v1/customer/countries/"+t+"/giftvouchers";return e.post(r,n).then(function(e){return e.data})},l.getTalabatCredits=function(t){var n=s+"v1/customer/countries/"+t+"/talabatcredit";return e.get(n).then(function(e){return e.data})},l.purchaseTalabatCredit=function(t,n){var r=s+"v1/customer/countries/"+t+"/talabatcredit";return e.post(r,n).then(function(e){return e.data})},l.getTalabatCreditStatement=function(t){var n=s+"v1/customer/countries/"+t+"/creditstatement";return e.get(n).then(function(e){return e.data})},l.redeemCreditVoucher=function(t,n){var r=s+"v1/customer/countries/"+t+"/creditvoucher/"+n;return e.post(r).then(function(e){return e.data.result})},l.getLoginPage=function(t){var n=s+"v1/pages/"+t+"/login";return e.get(n)},l.getRegistrationPage=function(t){var n=s+"v1/pages/"+t+"/register";return e.get(n)},l.getAllRestaurantsPage=function(t,n,r){var a={};n&&(a.cuisineid=n),r&&(a.isnew="new"==r);var o=s+"v1/"+t+"/allrestaurants";return e.post(o,a)},l.getMostSellingPage=function(t){var n=s+"v1/"+t+"/mostSellingItem";return e.get(n)},l.getMostSellingByRestaurant=function(t,n){var r=s+"v1/"+t+"/mostSellingByRest/"+n;return e.get(r).then(function(e){return e.data})},l.getMostSellingByCuisine=function(t,n){var r=s+"v1/"+t+"/mostSellingByCusines/"+n;return e.get(r).then(function(e){return e.data})},l.getOffersPage=function(t){var n=s+"v1/"+t+"/restaurantoffers";return e.get(n)},l.getRestuarentOffer=function(t,n,r,a){var o=s+"v1/"+n+"/coupon/"+a+"/promo/"+r+"/restofferdetails";return e.get(o)},l.getSocialPage=function(t){var n=s+"v1/pages/"+t+"/charity";return e.get(n)},l.getCheckoutPage=function(t){var r=n.getCart(),a=s+"v1/pages/"+t+"/checkout/"+r;return e.get(a)},l.getDeliveryIntervals=function(t,n){var r=s+"v1/branches/"+t+"/areas/"+n+"/deliverytimings";return e.get(r).then(function(e){return e.data})},l.getVoucherDiscount=function(t,r){var a=n.getCart(),o=s+"v1/cart/"+a+"/voucher/"+t;return r&&(o+="/"+r),e.get(o).then(function(e){return e.data.result=u(e.data.result),e.data})},l.getTerms=function(t,n,r){var a=s+"v1/pages/"+t+"/termsandconditions/"+n+"/"+r;return e.get(a).then(function(e){return e.data})},l.removeVoucherDiscount=function(){var t=n.getCart(),r=s+"v1/cart/"+t+"/voucher/del";return e.post(r).then(function(e){return e.data})},l.getAreasForReorder=function(t){var n=s+"v1/orders/"+t+"/areas-for-reorder";return e.get(n).then(function(e){return e.data})},l.reorder=function(t,n,r){var a=s+"v1/cart/"+n+"/"+r+"/reorder/"+t;return e.post(a).then(function(e){return e.data})},l.getOrderRatings=function(t){var n=s+"v1/orders/"+t+"/ratings";return e.get(n).then(function(e){return e.data})},l.getUpsellingItems=function(t,n){var r=s+"v1/restaurants/"+t+"/branches/"+n+"/upsell";return e.get(r).then(function(e){return e.data})},l.placeOrder=function(t){var n=s+"v1/orders";return e.post(n,t).then(function(e){return e.data})},l.getOrderDashboard=function(t){var n=s+"v1/pages/dashboard-orders/"+t;return e.get(n).then(function(e){return e.data})},l.getTrackOrderStatus=function(t){var n=s+"v1/apps/trackorder/"+t;return e.get(n,{ignoreLoadingBar:!0}).then(function(e){return e.data})},l.getTrackingStatus=function(t){var n=s+"v1/orders/orderstatus";return e.post(n,t,{ignoreLoadingBar:!0}).then(function(e){return e.data})},l.getSadadGateway=function(t,n){return e.post(n,t).then(function(e){return e.data})},l.deleteToken=function(t){var n=s+"v1/customer/delcard/"+t;return e.get(n,t).then(function(e){return e.data})},l.getSavedCustomerTokens=function(t){var n=s+"v1/customer/tokens";return e.get(n).then(function(e){return e.data})},l.getCreditCardGateway=function(t){var n="/payfortApi/v1/purchase/exist";return e.post(n,t).then(function(e){return e.data})},l.getThankyouPage=function(t,n,r){var a=s+"v1/pages/"+t+"/thankyou/"+r;return e.get(a)},l.getThankyouGiftPage=function(t,n,r){var a=s+"v1/pages/"+t+"/thankyouGiftVoucher/"+r;return e.get(a)},l.getThankyouCreditPage=function(t,n,r){var a=s+"v1/pages/"+t+"/thankyouCredit/"+r;return e.get(a)},l.postSurvey=function(t,n){var r=s+"v1/orders/"+t+"/postSurvey";return e.post(r,n).then(function(e){return e.data})},l.quickRegister=function(t,n){var r=s+"v1/pages/"+t+"/thankyou/quickregister";return e.post(r,n).then(function(e){return e.data})},l.getOrderItems=function(t){var n=s+"v1/orders/"+t+"/details";return e.get(n).then(function(e){return e.data})},l.rateOrder=function(t,n){var r=s+"v1/orders/"+t+"/ratings";return e.post(r,n).then(function(e){return e.data})},l.userLogin=function(t,n,r){var a=s+"v1/account/login";return e.post(a,{username:t,password:n,rememberMe:r}).then(function(e){return e.data})},l.userLoginFacebook=function(t){var n=s+"v1/Account/SocialAuth";return e.post(n,t).then(function(e){return e.data})},l.userLogout=function(){var t=s+"v1/account/logoff";return e.post(t).then(function(e){return e.data})},l.userRegister=function(t){var n=s+"v1/account/register";return e.post(n,t).then(function(e){return e.data})},l.forgotPassword=function(t,n){var r=s+"v1/account/"+t+"/ForgetPass";return e.post(r,n).then(function(e){return e.data})},l.saveAddress=function(t,n){var r=s+(t?"v1/customer/address/validate":"v1/customer/0/addresses");return e.post(r,n).then(function(e){return e.data})},l.deleteAddress=function(t,n){var r=s+"v1/customer/"+t+"/addresses/del/"+n;return e.post(r).then(function(e){return e.data})},l.getCoordinateAddress=function(e){var t=s+"v1/apps/address/"+e.lat+"/"+e.lng+"/"+o.country.id;return i(t,"GET")},l.getPolygon=function(t){var n=s+"v1/apps/areas/"+t+"/polygon/";return e.get(n).then(function(e){return e.data})},l.updateUserInfo=function(t){var n=s+"v1/customer/";return e.post(n,t).then(function(e){return e.data})},l.changeEmail=function(t){var n=s+"v1/account/ChangeEmail";return e.post(n,t).then(function(e){return e.data})},l.changePassword=function(t){var n=s+"v1/account/ChangePassword";return e.post(n,t).then(function(e){return e.data})},l.getMobileVerificationCode=function(t){var n=s+"v1/customer/verifyoption/";return e.post(n,t).then(function(e){return e.data})},l.verifyCode=function(t){var n=s+"v1/customer/verify";return e.post(n,t).then(function(e){return e.data})},l.updateMobileNumber=function(t){var n=s+"v1/customer/editmobnumber";return e.post(n,t).then(function(e){return e.data})},l.checkMobileVerified=function(t){var n=s+"v1/customer/mobilecheck";return e.post(n,t).then(function(e){return e.data})};var c=function(e){e?$(".cart-loading").css("display","block"):$(".cart-loading").css("display","none")},u=function(e){if(e&&e.restaurants[0]&&e.restaurants[0].items.length){var t=0;_.forEach(e.restaurants[0].items,function(e){t+=e.qty}),e.restaurants[0].totqty=t}return e};return l.getCart=function(){var t,a,o=n.getCart();if(o){var i=n.getCountry();return i?(t=r.getCountryIdByName(i),a=s+"v1/cart/"+o+"/"+t):a=s+"v1/cart/"+o,e.get(a).then(function(e){return e.data.result=u(e.data.result),e.data.result})}},l.addToCart=function(t){c(!0);var r=n.getCart(),a=s+"v1/cart/";return a+=r?r+"/items":"items",e.post(a,t).then(function(e){return n.setCart(e.data.result.gId),e.data.result=u(e.data.result),c(!1),e.data.result})},l.removeItemFromCart=function(t){c(!0);var r=n.getCart(),a=s+"v1/cart/"+r+"/items/del/";return e.post(a,{refid:t}).then(function(e){return n.setCart(e.data.result.gId),e.data.result=u(e.data.result),c(!1),e.data.result})},l.updateCartItemQty=function(t){c(!0);var r=n.getCart(),a=s+"v1/cart/"+r+"/items/put/";return e.post(a,t).then(function(e){return n.setCart(e.data.result.gId),e.data.result=u(e.data.result),c(!1),e.data.result})},l.updateCartArea=function(t){c(!0);var r=n.getCart(),a=s+"v1/cart/"+r+"/ref/"+t;return e.get(a).then(function(e){return n.setCart(e.data.result.gId),e.data.result=u(e.data.result),c(!1),e.data.result})},l.addPromotionToCart=function(t,r){c(!0);var a=n.getCart(),o=s+"v1/cart/"+a+"/offers/"+t;return e.post(o,r).then(function(e){return n.setCart(e.data.result.gId),e.data.result=u(e.data.result),c(!1),e.data.result})},l}]),tlbApp.service("fbSrv",["global","dataFactory","$window","$location","$stateParams","modalProvider","$state","gtmService","$rootScope",function(e,t,n,r,a,o,i,s,l){this.watchLoginChange=function(){FB.Event.subscribe("auth.authResponseChange",function(e){"connected"===e.status})},this.getUserInfo=function(e){FB.api("/me",{fields:"first_name, last_name, email"},function(t){t.email?c(t.email,t,e):o.emailForFacebook(function(n){c(n,t,e)})})},this.login=function(){var e=this;FB.login(function(t){"connected"==t.status&&e.getUserInfo(t)},{scope:"email"})},this.logout=function(){FB.logout(function(e){})};var c=function(c,u,d){var p={Email:c,Mobile:null,LoginProvider:"Facebook",ProviderKey:u.id,token:d.authResponse.accessToken,FirstName:u.first_name,LastName:u.last_name,CountryId:e.country.id};l.showLoading(),t.userLoginFacebook(p).then(function(e){l.hideLoading();var t=r.search();0==e.ErrorCode?(s.gtm_loginSuccess(e.encgid,"facebook"),t.returnUrl&&t.returnUrl.length>0?t.returnUrl.startsWith("/")?n.location.href=t.returnUrl:i.go("main."+t.returnUrl,{cnt:a.cnt}):location.reload()):(s.gtm_loginFailure("facebook",e.result),o.openDialog({header:"Alert !",message:"<p class='h5'>"+e.result+"</p>"}))})}}]),tlbApp.service("gtmService",["cookieHelper","$location","global",function(e,t,n){function r(e){var t;switch(e){case 1:t="KWT";break;case 2:t="SAU";break;case 3:t="BHR";break;case 4:t="ARE";break;case 5:t="OMN";break;case 6:t="QAT";break;case 7:t="LBN";break;case 8:t="JOR"}return t}function a(e){var t;switch(e){case 1:t="KWD";break;case 2:t="SAR";break;case 3:t="BHD";break;case 4:t="AED";break;case 5:t="OMR";break;case 6:t="QAR";break;case 7:t="LBP";break;case 8:t="JOD"}return t}function o(e){var t;switch(e){case"main.home.default":t="home";break;case"main.restaurantList":t="shop_list";break;case"main.infopage":t="brand_details";break;case"main.menupage":t="shop_details";break;case"main.checkout":t="checkout";break;case"main.thankyou-normal":t="order_confirmation";break;case"main.thankyou-quick":t="order_confirmation";break;case"main.myaccount":t="user_account";break;case"main.allRestaurants":t="all-restaurants";break;case"main.mostSelling":t="most-selling";break;case"main.offers":t="offers";break;default:t="company_content"}return t}function i(e,t,o){try{var i={event:e?"add_cart.clicked":"remove_cart.clicked",locationArea:o.areaId,locationAddress:o.areaId+","+r(n.country.na),locationCountry:r(n.country.na),adrollCityId:n.country.id,shopId:o.restaurants[0].restId,productSku:t.id,productQuantity:t.qty,productName:t.nm?t.nm.toLowerCase():t.name.toLowerCase(),shopName:o.restaurants[0].restName,productCategory:n.currentCat?n.currentCat.toLowerCase():"",productVariant:t.csc?t.csc:t.choices,currencyCode:a(n.country.id),productUnitPrice:void 0!==t.pr?t.pr:t.price,ecommerce:{currencyCode:a(n.country.id),add:{products:[{name:t.nm?t.nm.toLowerCase():t.name.toLowerCase(),id:t.id,price:void 0!==t.pr?t.pr:t.price,brand:o.restaurants[0].restName,quantity:t.qty}]}}};e?(i.productUnitSalePrice=-1!=t.opr?t.opr:t.pr,i.productDetails=t.csc&&t.csc.length?!0:!1):(i.productUnitSalePrice=-1!=t.oldPrice?t.oldPrice:t.price,i.productDetails=t.choices.length?!0:!1),n.city&&(i.locationAddress=o.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),i.locationCity=n.city.na.toLowerCase(),i.adrollCityId=n.city.na.toLowerCase()),dataLayer.push(i)}catch(s){console.log("exception occured in remove gtm",s)}}function s(e,t){try{var o={event:t?"checkout.clicked":"checkout.loaded",locationArea:e.areaId,locationAddress:e.areaId+","+r(n.country.na),shopId:e.restaurants[0].restId,currencyCode:a(n.country.id),locationCountry:r(n.country.na),cartValue:e.grandTotal};n.city&&(o.locationAddress=e.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),o.locationCity=n.city.na.toLowerCase(),o.adrollCityId=n.city.na.toLowerCase()),dataLayer.push(o)}catch(i){}}function l(e){var t=void 0;switch(parseInt(e)){case 0:t="cash";break;case 1:t="debit card";break;case 2:t="credit card";break;case 3:t="talabat credit"}return t}function c(e,t,o,i){try{var s={event:e?"order_coupon.submitted":"order_coupon.failed",locationArea:t.areaId,locationAddress:t.areaId+","+r(n.country.na),shopId:t.restaurants[0].restId,currencyCode:a(n.country.id),cartValue:t.grandTotal,locationCountry:r(n.country.na)};n.city&&(s.locationAddress=t.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),s.locationCity=n.city.na.toLowerCase(),s.adrollCityId=n.city.na.toLowerCase()),e?(s.coupon=o,s.couponValue=""):(s.couponRejected=o,s.couponRejectedMessage=i),dataLayer.push(s)}catch(l){}}var u=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(u=!0),this.gtm_pageView=function(e,a){var i={event:"virtualPageView",pageType:o(e),pageUrlPath:t.path(),pageEnviroment:u?"mobile":"desktop",lpButtonDivId:1383117240453,googleRemarketingId:979644796,googleRemarketingId2:961008e3,userLoggedIn:a?!0:!1,languageSelected:"en"==n.lng?"english":"arabic",created_at:new Date,hour_of_day:(new Date).getHours(),locationCountry:r(n.country.id)};a&&(i.userId=a.encgid),dataLayer.push(i)},this.gtm_countryChange=function(e){dataLayer.push({event:"change_country.selected",countrySelected:e})},this.gtm_cuisineSelection=function(e){dataLayer.push({event:"category.selected",shopCategorySelected:e})},this.gtm_listCuisineSelection=function(e){dataLayer.push({event:"new_category.selected",shopCategorySelected:e})},this.gtm_areaSelection=function(e){dataLayer.push({event:"address.selected",locationArea:e})},this.gtm_listAreaSelection=function(e){dataLayer.push({event:"new_address.selected",locationArea:e})},this.gtm_listPrefetch=function(){dataLayer.push({event:"shop_list.prefetched"})},this.gtm_infoLoaded=function(e,t,n){dataLayer.push({event:"brand_details.loaded",shopId:e,shopRatingQuality:t,shopRatingQuantity:n})},this.gtm_addresssub=function(e,t,n){t?dataLayer.push({event:"address.submitted",locationArea:e,locationAddress:e+","+t.na.toLowerCase()+","+r(n.na),locationCity:t.na.toLowerCase(),locationMethod:"manual",locationCountry:r(n.na),adrollCityId:t.id}):dataLayer.push({event:"address.submitted",locationArea:e,locationAddress:e+","+r(n.na),locationCountry:r(n.na),locationMethod:"manual",adrollCityId:n.id})},this.gtm_restaurntslistload=function(e,t,n,a,o,i,s,l){var c={event:"shop_list.loaded",locationArea:e,locationCountry:r(i.na),shopCategorySelectedQuantity:n?1:"all",shopFilteringSelected:n?!0:!1,shopSortingSelected:a,shopCategorySelected:n?n:"all",shopQuantityShown:t>30?30:t,shopQuantityTotal:t,shopListSearchResult1:s[0]?s[0].bid:"",shopListSearchResult2:s[1]?s[1].bid:"",shopListSearchResult3:s[2]?s[2].bid:"",shopListSearchResult4:s[3]?s[3].bid:"",shopListSearchResult5:s[4]?s[4].bid:"",shopCokeUpsellQuantity:l};o?(c.locationCity=o,c.locationAddress=e+","+o+","+r(i.na),c.adrollCityId=o):(c.locationAddress=e+","+r(i.na),c.adrollCityId=i.id),dataLayer.push(c)},this.gtm_restaurntslistUpdated=function(e,t,n,a,o,i,s,l){var c={event:"shop_list.updated",locationArea:e,locationCountry:r(i.na),shopCategorySelectedQuantity:n?1:"all",shopFilteringSelected:l,shopSortingSelected:a,shopCategorySelected:n?n:"all",shopQuantityShown:t>30?30:t,shopQuantityTotal:t,shopListSearchResult1:s[0]?s[0].bid:"",shopListSearchResult2:s[1]?s[1].bid:"",shopListSearchResult3:s[2]?s[2].bid:"",shopListSearchResult4:s[3]?s[3].bid:"",shopListSearchResult5:s[4]?s[4].bid:""};o?(c.locationCity=o,c.locationAddress=e+","+o+","+r(i.na),c.adrollCityId=o):(c.locationAddress=e+","+r(i.na),c.adrollCityId=i.id),dataLayer.push(c)},this.gtm_restaurantclick=function(e,t,o,i){var s={event:"shop.clicked",locationAddress:e+","+r(n.country.na),locationArea:e,locationCountry:r(n.country.na),currencyCode:a(n.country.id),shopId:t,shopSponsoring:o};i&&(s.locationAddress=e+","+i+","+r(country.na),s.locationCity=i,s.adrollCityId=i),dataLayer.push(s)},this.brandDetailsInfoLoaded=function(e,t,n){var r={event:"brand_details_info.loaded",shopRatingQuality:e.rat,shopRatingQuantity:e.trts,shopId:e.id,chainId:e.bid,chainName:e.na,chainShops:n,shopOpen:0==t.stt?!0:!1,shopDeliveryTime:t.avd,shopMinimumOrderValue:t.moa,shopDeliveryFee:t.df};dataLayer.push(r)},this.gtm_restaurantdetailsload=function(e,t,o,i){var s={event:"shop_details.loaded",locationArea:e.id,locationAddress:e.id+","+r(n.country.na),shopId:t.id,currencyCode:a(n.country.id),shopName:t.na,shopCategoryQuantity:o,shopRatingQuality:t.rat,shopRatingQuantity:t.trts,shopOpen:0==e.stt?!0:!1,shopMinimumOrderValue:e.moa,shopDeliveryFee:e.df,shopSponsoring:t.iss,locationCountry:r(n.country.na),shopClosePreorder:e.stt&&t.hsp,adrollCityId:n.country.id};i&&(s.locationAddress=e.id+","+i.id+","+r(n.country.na),s.locationCity=i.id,s.adrollCityId=i.id),dataLayer.push(s)},this.gtm_AddToCart=function(e,t){i(!0,e,t)},this.gtm_removeFromCart=function(e,t){i(!1,e,t)},this.gtm_increaseDecreaseItemQty=function(e,t){var n={event:e?"increase_cart.clicked":"reduce_cart.clicked",productSku:t.id,productQuantity:t.qty,productName:t.name.toLowerCase()};dataLayer.push(n)},this.gtm_choicePopupOpened=function(e){var t={event:"product_choice.opened",productSku:e.id,productName:e.nm.toLowerCase(),productCategory:n.currentCat};dataLayer.push(t)},this.gtm_expressCheckout=function(e){var t={event:"express_checkout.clicked",shopId:e.restaurants[0].restId,cartValue:e.grandTotal};dataLayer.push(t)},this.gtm_stickyCatSelected=function(e){dataLayer.push({event:"menu_category.selected",categorySelected:e})},this.gtm_footerViewCartClicked=function(){dataLayer.push({event:"footer_cart.clicked"})},this.gtm_editcartClicked=function(){dataLayer.push({event:"edit_cart.clicked"})},this.gtm_checkoutclick=function(e){s(e,!0)},this.gtm_checkoutload=function(e){s(e,!1)},this.gtm_paymentmethod=function(e,t){try{var o={event:"order_payment_method.chosen",locationArea:e.areaId,locationAddress:e.areaId+","+r(n.country.na),shopId:e.restaurants[0].restId,currencyCode:a(n.country.id),cartValue:e.grandTotal,orderPaymentMethod:l(t),orderPaymentMethodChanged:!0,
orderPaymentMethodDefault:"cash",locationCountry:r(n.country.na)};n.city&&(o.locationAddress=e.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),o.locationCity=n.city.na.toLowerCase(),o.adrollCityId=n.city.na.toLowerCase()),dataLayer.push(o)}catch(i){}},this.gtm_deliveryTime=function(e,t){try{var o={event:"delivery_time.selected",locationArea:e.areaId,locationAddress:e.areaId+","+r(n.country.na),shopId:e.restaurants[0].restId,currencyCode:a(n.country.id),cartValue:e.grandTotal,orderPreorder:t,locationCountry:r(n.country.na)};n.city&&(o.locationAddress=e.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),o.locationCity=n.city.na.toLowerCase(),o.adrollCityId=n.city.na.toLowerCase()),dataLayer.push(o)}catch(i){}},this.gtm_couponsubmit=function(e,t){c(!0,e,t)},this.gtm_couponRejected=function(e,t,n){c(!1,e,t,n)},this.placeOrderClicked=function(e,t){try{var a={event:"transaction.clicked",locationArea:e.areaId,locationAddress:e.areaId+","+r(n.country.na),shopId:e.restaurants[0].restId,locationCountry:r(n.country.na),orderPaymentMethod:l(t)};n.city&&(a.locationAddress=e.areaId+","+n.city.na.toLowerCase()+","+r(n.country.na),a.locationCity=n.city.na.toLowerCase()),dataLayer.push(a)}catch(o){}},this.gtm_transaction=function(e,t,o){var i={event:"purchase",locationArea:e.ad.aid,locationAddress:e.ad.aid+","+r(n.country.na),locationCountry:r(n.country.na),shopId:e.ord[0].rid,orderPaymentMethod:e.ord[0].pym,orderPickup:"false",orderPreorder:"false",transactionType:t?"acquisition":"reorder",transactionIdEncrypted:e.id,ecommerce:{currencyCode:a(n.country.id),purchase:{actionField:{id:e.id,revenue:parseFloat(Math.round(100*o.gtot)/100).toFixed(2),tax:parseFloat(Math.round(100*(o.mtx+o.ttx))/100).toFixed(2),shipping:parseFloat(Math.round(100*(o.cft+o.dchr))/100).toFixed(2),coupon:parseFloat(Math.round(100*(o.cpd+o.vd))/100).toFixed(2)},products:o.oitm}}};n.city&&(i.locationAddress=e.ad.aid+","+n.city.na.toLowerCase()+","+r(n.country.na),i.locationCity=n.city.na.toLowerCase()),dataLayer.push(i)},this.gtm_rateOrderClicked=function(e){dataLayer.push({event:"order_rate.clicked",transactionId:e})},this.gtm_rateSubmitted=function(e){dataLayer.push({event:"order_rate.submitted",transactionId:e})},this.gtm_reorderClicked=function(e){dataLayer.push({event:"order_reorder.clicked",shopId:e})},this.exitPollSubmitted=function(e){try{var t={event:"exit.poll.submitted",exitPoll:e};dataLayer.push(t)}catch(n){}},this.registrationSuccessful=function(e,t){try{var n={event:"register.completed",userId:e,registrationType:t,newsletterSubscribed:!1};dataLayer.push(n)}catch(r){}},this.registrationFailed=function(e,t){try{var n={event:"register.failed",registrationType:e,registrationErrorMessage:t};dataLayer.push(n)}catch(r){}},this.gtm_loginSuccess=function(e,t){try{var n={event:"login.succeeded",userId:e,loginType:t};dataLayer.push(n)}catch(r){}},this.gtm_loginFailure=function(e,t){try{var n={event:"login.failed",loginType:e,loginErrorMessage:t};dataLayer.push(n)}catch(r){}},this.gtm_logout=function(e){try{var t={event:"logout.submitted",userId:e};dataLayer.push(t)}catch(n){}},this.genericError=function(e){try{var t={event:"error_message.shown",errorMessage:e};dataLayer.push(t)}catch(n){}},this.gtm_mapAreaSelection=function(e){dataLayer.push({event:"map_place.selected",locationArea:e})},this.gtm_locateMe=function(e){try{var t={event:"map_locateme.clicked",locationLat:e.lat,locationLon:e.lng};dataLayer.push(t)}catch(n){}},this.gtm_mapConfirm=function(e,t){try{var n={event:"map_confirm.clicked",locationLat:e,locationLon:t};dataLayer.push(n)}catch(r){}},this.gtm_getAddressFields=function(){dataLayer.push({event:"map_address_fields.clicked"})},this.gtm_mapError=function(e){var t;try{switch(e){case 1:t="1 - Address mismatch";break;case 2:t="2 - GPS setting disabled";break;case 3:t="3 - Address could not be fetched"}var n={event:"map_error.shown",errorMessage:t};dataLayer.push(n)}catch(r){}},this.gtm_mapShown=function(){dataLayer.push({event:"map.shown"})},this.gtm_mapViewClicked=function(){dataLayer.push({event:"map_view.clicked"})},this.addressFiledChanged=function(){dataLayer.push({event:"address_field_changed.selected"})},this.gtm_addressClosed=function(){dataLayer.push({event:"lightbox_address.closed"})},this.addressEditSaveClicked=function(){dataLayer.push({event:"address_field_edit.clicked"})},this.addressSaveClicked=function(){dataLayer.push({event:"address_field_save.clicked"})},this.gtm_continueAnywayClicked=function(){dataLayer.push({event:"map_error_continue.clicked"})},this.gtm_lightBoxAddressShown=function(){dataLayer.push({event:"lightbox_address.shown"})},this.gtm_continueAnywayCancelled=function(){dataLayer.push({event:" map_error_cancel.clicked"})},this.addCreditCard=function(){dataLayer.push({event:"creditcard_add_new.selected"})},this.creditCardUnSave=function(){dataLayer.push({event:"creditcard_save_toggle.deselected"})},this.creditCardDeleted=function(){dataLayer.push({event:"creditcard_token.removed"})},this.mobileNumVerShown=function(){dataLayer.push({event:"mobile_verification.shown"})},this.mobileNumChange=function(){dataLayer.push({event:"mobile_verification_change.selected"})},this.getMobNumVerCode=function(){dataLayer.push({event:"mobile_verification_getcode.clicked"})},this.mobileUpdateFailed=function(){dataLayer.push({event:"mobile_verification_update.failed"})},this.mobileUpdateSuccess=function(){dataLayer.push({event:"mobile_verification_update.successful"})},this.verifyClicked=function(){dataLayer.push({event:"mobile_verification_verify.clicked"})},this.verifyFailed=function(){dataLayer.push({event:"mobile_verification_verify.failed"})},this.verifyFailed=function(){dataLayer.push({event:"mobile_verification_verify.failed"})},this.verifySuccess=function(){dataLayer.push({event:"mobile_verification_verify.successful"})},this.verifionOption=function(e){var t;switch(e){case 1:t="resend_code";break;case 2:t="call";break;case 3:t="live_chat"}dataLayer.push({event:"mobile_verification_option.selected",otherVerificationOption:t})},this.tgoToggleShown=function(e){dataLayer.push({event:"toggle.shown",tgo_locationArea:e})},this.tgoToggleSelected=function(e){dataLayer.push({event:"tgo_toggle.selected",tgo_locationArea:e})},this.trackingClicked=function(){dataLayer.push({event:"trackorder.clicked"})},this.trackingIntermediateShown=function(){dataLayer.push({event:"trackorder_intermediate.shown"})},this.trackingWebViewShown=function(){dataLayer.push({event:"trackorder_webview.shown"})},this.educationalMsgClosed=function(){dataLayer.push({event:"educational_message.closed"})},this.allRestToggleSelected=function(e){dataLayer.push({event:"allrestaurants_toggle.selected",locationArea:e})},this.upsellSliderNavigated=function(){dataLayer.push({event:"upsell_coke_slider.navigated"})},this.upsellItemAdded=function(e){dataLayer.push({event:"upsell_coke_item_add.clicked",upsellItem:e})},this.bannerSliderClicked=function(e,t,n,r){try{var a={event:"banner_slider.clicked",banner_zone:e,restName:t,banner_name:n,banner_id:r};dataLayer.push(a)}catch(o){}},this.bannerSliderShown=function(e,t,n,r){try{var a={event:"banner_slider.shown",banner_zone:e,restName:t,banner_name:n,banner_id:r};dataLayer.push(a)}catch(o){}}}]),tlbApp.service("modalProvider",["$uibModal","global","$log","Notification","$rootScope","dataFactory","locale","gtmService","utilityService","cookieHelper","$window",function(e,t,n,r,a,o,i,s,l,c,u){function d(e,n,c){var u=[];e.csc&&e.csc.forEach(function(e){e.showradio?u.push({itemChoiceId:e.checkedItems.id,itemChoiceQty:1}):e.checkedItems.forEach(function(e){u.push({itemChoiceId:e.id,itemChoiceQty:1})})});var d={itemId:e.id,quantity:parseInt(e.qty)||1,choices:u};n?(d.branchId=a.cartmodel.restaurants[0].branchId,d.areaId=a.cartmodel.areaId,o.addPromotionToCart(e.promotionId,d).then(function(t){a.cartmodel=t,c&&o.getUpsellingItems(a.upSell.restId,a.upSell.restBranchId).then(function(e){a.upSell.upSellingItems=e.result,a.$emit("checkUpsell")}),i.ready("common").then(function(){var e=i.getString("common.itemAdded");r.success({message:e,delay:1e3,positionX:"left",replaceMessage:!0})}),l.adjustMenuHeight(),s.gtm_AddToCart(e,t)})):(d.branchId=t.currentRestBid,d.areaId=t.currentAreaid,o.addToCart(d).then(function(t){a.cartmodel=t,c&&o.getUpsellingItems(a.upSell.restId,a.upSell.restBranchId).then(function(e){a.upSell.upSellingItems=e.result,a.$emit("checkUpsell")}),i.ready("common").then(function(){var e=i.getString("common.itemAdded");r.success({message:e,delay:1e3,positionX:"left",replaceMessage:!0})}),l.adjustMenuHeight(),s.gtm_AddToCart(e,t)}))}function p(e,n,r,s){if(a.cartmodel&&a.cartmodel.restaurants.length&&!r){var l=c.getAreaObject();a.cartmodel.areaId==l.id?e.refID?o.removeItemFromCart(e.refID).then(function(t){d(e)}):d(e,n,s):i.ready("common").then(function(){var e=i.getString("common.cartAreaChangeMessage",{cartRestName:a.cartmodel.restaurants[0].restName,cartArea:a.cartmodel.areaName,cookieRestName:a.cartmodel.restaurants[0].restName,cookieArea:l.name});f.openDialog({message:'<div class="h5 m-a-0 p-t-md linespace text-center">'+e+"</div>",header:!1,footer:!1,okButtonText:"en"==t.lng?"Yes":"نعم",cancelButtonText:"en"==t.lng?"No":"لا",onOk:function(){o.updateCartArea(l.id).then(function(e){if(e&&e.restaurants.length>0){if(a.cartmodel=e,e.haschange){var t=i.getString("common.cartItemsRemoved");f.openDialog({message:'<div class="p-t-md text-center"><b class="p-y-md f-14">'+t+"</b></div>",cancelButtonText:"Close",onCancel:function(){}})}}else a.cartmodel=null})},onCancel:function(){c.setArea(a.cartmodel.areaId,a.cartmodel.areaName,a.cartmodel.areaSlug);var e="en"==t.lng?"/":"/ar/";u.location=e+t.country.sl+"/restaurant/"+a.cartmodel.restaurants[0].branchId+"/"+a.cartmodel.restaurants[0].branchSlug}})})}else e.refID?o.removeItemFromCart(e.refID).then(function(t){d(e)}):d(e,n,s)}var f=this;this.openDialog=function(n){if(n.message){var r={animation:!1,templateUrl:function(){return tlbApp.getTemplate("shared/modal/genericModalTemplate",t.currentLocale)},controller:"GenericModalController"};n.size&&(r.size=n.size),r.resolve={model:function(){var e={content:n.message};return n.header&&(e.header=n.header),n.onOk&&(e.onOk=n.onOk),n.onCancel&&(e.onCancel=n.onCancel),e.okButtonText=n.okButtonText,e.cancelButtonText=n.cancelButtonText,e}},n.windowClass&&(r.windowClass=n.windowClass),n.animation&&(r.animation=!0);var a=e.open(r);a.result.then(function(e){n.onOk&&n.onOk(e)},function(){n.onCancel&&n.onCancel()})}},this.selectionPopup=function(t,n,r){var a=e.open({animation:!0,windowClass:"choicePopup selectionPopup",templateUrl:"selectionPopup.html",controller:"selectionPopupCtrl",resolve:{type:function(){return t},data:function(){return n}}});a.result.then(function(e){r(e)},function(){})},this.emailForFacebook=function(n){var r=e.open({animation:!0,size:"sm",templateUrl:function(){return tlbApp.getTemplate("shared/modal/fbEmailModalTemplate",t.currentLocale)},controller:"FBEmailModalController"});r.result.then(function(e){n(e)},function(){})},this.forgotPassword=function(){e.open({animation:!0,windowClass:"forgotPassModal",templateUrl:function(){return tlbApp.getTemplate("shared/modal/forgotPasswordModalTemplate",t.currentLocale)},controller:"ForgotPasswordModalController"})},this.openFeedback=function(){e.open({animation:!0,windowClass:"feedbackForm",templateUrl:function(){return tlbApp.getTemplate("shared/modal/feedbackform",t.currentLocale)},controller:"feedbackCtrl"})},this.address=function(n){var r=e.open({animation:!0,backdrop:"static",windowClass:"addressModal choicePopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/addressModalTemplate",t.currentLocale)},controller:"AddressModalController",size:"lg",resolve:{model:n}});r.result.then(function(e){n.onSave&&n.onSave(e)},function(){n.onCancel&&n.onCancel()})},this.selectAddress=function(n){var r=e.open({animation:!0,size:"sm2",windowClass:"selectAddressModal",templateUrl:function(){return tlbApp.getTemplate("shared/modal/selectAddressModalTemplate",t.currentLocale)},controller:"SelectAddressModalController",resolve:{model:n}});r.result.then(function(e){n.onSelect&&n.onSelect(e)},function(){})},this.reorder=function(n,r){var a=e.open({animation:!0,windowClass:n.groupId>0?"reorderModal lg":"reorderModal",templateUrl:function(){return tlbApp.getTemplate("shared/modal/reorderModalTemplate",t.currentLocale)},controller:"ReorderModalController",resolve:{model:n}});a.result.then(function(e){r(e)},function(){})},this.offersPopup=function(n,r){e.open({animation:!0,windowClass:"offersModal",templateUrl:function(){return tlbApp.getTemplate("shared/modal/offersModalTemplate",t.currentLocale)},controller:"OffersModalController",size:"lg",resolve:{model:n,activeTab:r}})},this.restClosePopup=function(n,r,a,o){var i=e.open({animation:!0,windowClass:"restClosePopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/restClosePopup",t.currentLocale)},size:"sm",resolve:{ispreorder:function(){return r},restname:function(){return n},closeOrBusy:function(){return a}},controller:"restPopupController"});i.result.then(function(){o(!0)},function(){o(!1)})},this.selectPromotionItem=function(n,r){var a=e.open({animation:!0,templateUrl:function(){return tlbApp.getTemplate("shared/modal/selectPromoItemTemplate",t.currentLocale)},resolve:{item:function(){return n}},controller:"selectPromoItemCtrl"});a.result.then(function(e){r(e)},function(){n.isSelected=!1})},this.bannerAdPopup=function(n,r){var a=e.open({animation:!0,windowClass:"bannerAd",templateUrl:function(){return tlbApp.getTemplate("shared/modal/bannerAdPopupTemplate",t.currentLocale)},resolve:{model:{type:n}},controller:"bannerAdPopupCtrl"});a.result.then(function(){r&&r()},function(){})},this.charityPopup=function(n){var r=e.open({animation:!0,windowClass:"charityPopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/charityPopupTemplate",t.currentLocale)},resolve:{model:n},controller:"charityPopupCtrl"});r.result.then(function(){},function(){})},this.loginPopup=function(){var n=e.open({animation:!0,windowClass:"loginPopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/loginPopupTemplate",t.currentLocale)},resolve:{model:function(){return{}}},controller:"GenericModalController"});n.result.then(function(){},function(){})},this.openCuisinesPopup=function(t,n,r,a){var o=e.open({animation:!0,backdrop:"static",windowClass:"cuisinePopup",templateUrl:"cuisinesPopup.html",controller:"cuisinesPopupCtrl",resolve:{cuisines:function(){return t},allCuisinesRestLength:function(){return r},selectedId:function(){return n}}});o.result.then(function(e){a(e)})},this.openMobileCart=function(){var n=e.open({animation:!0,windowClass:"choicePopup mob-cart",templateUrl:function(){return tlbApp.getTemplate("shared/modal/mobileCartPopup",t.currentLocale)},controller:"mobCartPopupController"});n.result.then(function(){},function(){})},this.countrySelectionPopup=function(n){var r=e.open({animation:!0,windowClass:"fullscreen",templateUrl:function(){return tlbApp.getTemplate("shared/modal/countrySelectionPopup",t.currentLocale)},resolve:{model:function(){return n}},controller:"countrySelectionController"});r.result.then(function(){},function(){})},this.verifyMobileNumber=function(n,r,a){var o=e.open({animation:!0,backdrop:"static",keyboard:!1,windowClass:"",templateUrl:function(){return tlbApp.getTemplate("shared/modal/mobileVerificationPopup",t.currentLocale)},resolve:{address:function(){return n},step:function(){return r}},controller:"mobileVerificationController"});o.result.then(function(){},function(e){a(e)})},this.orderDetail=function(n){var r=e.open({animation:!0,windowClass:"choicePopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/orderDetailPopup",t.currentLocale)},size:"lg",controller:"orderDetailPopupCtrl",resolve:{order:function(){return n}}});r.result.then(function(){},function(){})},this.trackOrderNotReadyPopup=function(){e.open({animation:!0,windowClass:"trackOrder",templateUrl:function(){return tlbApp.getTemplate("shared/modal/trackNotReady",t.currentLocale)},size:"md",resolve:{model:function(){return{}}},controller:"GenericModalController"})},this.rateOrder=function(n){var r=e.open({animation:!0,windowClass:"choicePopup ratePopup",templateUrl:function(){return tlbApp.getTemplate("shared/modal/rateOrderPopup",t.currentLocale)},controller:"rateOrderPopupCtrl",resolve:{model:function(){return o.getOrderRatings(n.oid)},orderInfo:function(){return{dtm:n.dtm,ost:n.ost}}}});r.result.then(function(){},function(){})},this.openChoicesPopup=function(n,r,a,o,i,l){if(a){var c=[],u=_.cloneDeep(n);c=u.choiceCategories.map(function(e){return e.nm=e.name,e.mnq=e.minQuantity,e.mxq=e.maxQuantity,e.id=e.idx,e.ich=e.choices.map(function(e){return e.nm=e.name,e.pr=e.price,e.opr=e.oldPrice,e}),e});var d={img:u.image,nm:u.name,dsc:u.description,csc:c,id:u.itemId,promotionId:u.promotionId};n=d}if(n.csc&&n.csc.length){s.gtm_choicePopupOpened(n);var f=e.open({animation:!0,templateUrl:function(){return tlbApp.getTemplate("shared/modal/choicepopupTemplate",t.currentLocale)},controller:"choicepopupController",size:"lg",windowClass:"choicePopup",resolve:{item:function(){return n},fromcart:function(){return r},promo:function(){return a}}});f.result.then(function(e){p(e.item,e.promo,i,l)},function(){a&&(o.isSelected=!1)})}else r||p(n,a,i,l)}}]),tlbApp.factory("cookieHelper",["$cookies",function(e){var t="tlb_area",n="tlb_country",r="tlb_city",a="tlb_cuisine",o="tlb_cart",i="tlb_hpop_disabled",s="tlb_currentFilters",l="tlb_quick_addr";selectedAddressCookie="tlb_addr";var c={},u=function(){var e=new Date,t=new Date(e.getFullYear()+1,e.getMonth(),e.getDate()+1);return t};return c.getHomePagePopup=function(){return e.get(i)},c.setHomePagePopup=function(){e.put(i,1,{path:"/"})},c.setCurrentFilters=function(t){e.putObject(s,t,{path:"/"})},c.getCurrentFilters=function(){return e.get(s)},c.setCurrentCuisine=function(t){e.putObject(a,t,{path:"/"})},c.getCurrentCuisine=function(){return e.get(a)},c.setCart=function(t){if(t){var n=(new Date,new Date((new Date).getTime()+864e5));e.put(o,t,{path:"/",expires:n})}},c.getCart=function(){return e.get(o)},c.getCountry=function(){return e.get(n)},c.removeCart=function(){e.remove(o,{path:"/",expires:-1})},c.setArea=function(n,r,a){e.put(t,'{"id":'+n+', "name":"'+r+'", "slug":"'+a+'"}',{path:"/",expires:u()})},c.getArea=function(){var e=c.getAreaObject();return e?e.id:void 0},c.getAreaObject=function(){var n=e.get(t);return n?JSON.parse(n):void 0},c.setCity=function(t){e.put(r,t,{path:"/",expires:u()})},c.getCity=function(){var t=e.get(r);return t?t:void 0},c.clearAreaCity=function(){e.remove(r),e.remove(t)},c.setQuickOrderAddress=function(t){var n=new Date,r=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());e.put(l+"_"+t.aid,JSON.stringify(t),{path:"/",expires:r})},c.getQuickOrderAddress=function(t){var n=e.get(l+"_"+t);return n?JSON.parse(n):void 0},c.setCustomerAddress=function(t){e.put(selectedAddressCookie,t,{path:"/"})},c.getCustomerAddress=function(){var t=e.get(selectedAddressCookie);return t?t:void 0},c.clearCustomerAddress=function(){e.remove(selectedAddressCookie,{path:"/",expires:-1})},c.setThankyouTracker=function(t){var n=new Date,r=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());e.put("thankyou_"+t,"true",{path:"/",expires:r})},c.getThankyouTracker=function(t){var n=e.get("thankyou_"+t);return n?JSON.parse(n):void 0},c.setMapGuideShown=function(){e.put("mapGuideShown",!0)},c.getMapGuideShown=function(){return e.get("mapGuideShown")},c.removeMapShownCookie=function(){e.remove("mapGuideShown")},c}]),tlbApp.directive("matchField",[function(){return{restrict:"A",require:"ngModel",scope:{},link:function(e,t,n,r){var a=function(e){var t=n.matchField;return r.$setValidity("match",e===t),e};r.$parsers.push(a)}}}]),tlbApp.controller("DeliveryAddressController",["$scope","$rootScope","dataFactory","$stateParams","$ocLazyLoad","$http","cookieHelper","global","locale","gtmService",function(e,t,n,r,a,o,i,s,l,c){$("html").addClass("noscroll-long noscroll");var u=s.country.id,d=void 0;e.customer=s.customer,e.country=s.country;var p=_.groupBy(e.areas,"cid");e.filteredAreas=null,e.cityChanged=function(){e.model.city?e.filteredAreas=p[e.model.city.id]:e.filteredAreas=null};var f=function(){!_.isEmpty(e.model)&&e.model.aid?(d=e.model.aid,e.model.profileName=e.model.pn?e.model.pn:e.model.profileName,e.model.area=_.find(e.areas,{id:parseInt(e.model.aid)}),e.model.block=e.model.blk?e.model.blk:e.model.block,e.model.judda=e.model.jd?e.model.jd:e.model.judda,e.model.street=e.model.st?e.model.st:e.model.street,e.model.buildingNo=e.model.bno?e.model.bno:e.model.buildingNo,e.model.floor=e.model.fl?e.model.fl:e.model.floor,e.model.apartment=e.model.su?e.model.su:e.model.apartment,e.model.mobile=e.model.mob?e.model.mob:e.model.mobile,e.model.mobileCountryCode=e.model.mcod?e.model.mcod:e.model.mobileCountryCode,e.model.phone=e.model.ph?e.model.ph:e.model.phone,e.model.extraDirections=e.model.exd?e.model.exd:e.model.extraDirections,e.model.firstName=e.model.fn?e.model.fn:e.model.firstName,e.model.lastName=e.model.ln?e.model.ln:e.model.lastName):e.model.area=_.find(e.areas,{id:parseInt(i.getArea())}),s.country.iscity&&e.model.area&&(e.model.city=_.find(e.cities,{id:e.model.area.cid}),e.cityChanged()),e.model.areaRequired=!0,e.model.blockRequired=!0,e.model.juddaRequired=!0,e.model.buildingNoRequired=!0,e.model.floorRequired=!0,e.model.apartmentRequired=!0,e.model.mobileRequired=!0,e.customer?(e.model.profileNameRequired=!0,e.model.firstName=s.customer.firstName,e.model.lastName=s.customer.lastName):(e.model.firstNameRequired=!0,e.model.lastNameRequired=!0),void 0==e.model.type&&(e.model.type=1),e.changeTab=function(t,n){e.model.type=n},e.model.showBlock=!0,e.model.showStreet=!0,e.model.showJudda=!0,e.model.showBuildingNo=!0,e.model.showFloor=!0,e.model.showApartment=!0,e.model.showMobile=!0,e.model.showPhone=!0,e.model.showExtraDirections=!0,l.ready("address").then(function(){e.model.juddaLabel=l.getString("address.avenue"),e.model.juddaPlaceholder=l.getString("address.avenuePlaceholder"),e.model.blockLabel=l.getString("address.block"),e.model.blockPlaceholder=l.getString("address.blockPlaceholder"),7!=u?4==u?(e.model.showBlock=!1,e.model.showJudda=!1):5==u?(e.model.juddaLabel=l.getString("address.way"),e.model.juddaPlaceholder=l.getString("address.wayPlaceholder")):6==u?(e.model.showBlock=!1,e.model.showJudda=!1):1==u?(e.model.blockLabel=l.getString("address.block"),e.model.blockPlaceholder=l.getString("address.block")):3==u?(e.model.showJudda=!1,e.model.blockLabel=l.getString("address.blockRequired"),e.model.blockPlaceholder=l.getString("address.blockRequired")):2==u?(e.model.juddaLabel=l.getString("address.lane"),e.model.juddaPlaceholder=l.getString("address.lanePlaceholder"),e.model.blockLabel=l.getString("address.neighborhood"),e.model.blockPlaceholder=l.getString("address.neighborhood")):8==u&&(e.model.showBlock=!1,e.model.showJudda=!1,e.model.showApartment=!1,e.model.showFloor=!1):(e.model.showBlock=!1,e.model.showStreet=!1,e.model.showJudda=!1,e.model.showBuildingNo=!1,e.model.showFloor=!1,e.model.showApartment=!1,e.model.showPhone=!1)}),(4==u||6==u||5==u)&&(e.model.blockRequired=!1)};f(),e.$watch("model.type",function(t,n){void 0!=t&&null!=t&&(0==t?(e.model.floorRequired=!1,e.model.apartmentRequired=!1,e.model.juddaRequired=!1,l.ready("address").then(function(){e.model.buildingNoLabel=l.getString("address.house")}),e.model.showFloor=!1,e.model.showApartment=!1,6==u?e.model.juddaRequired=!0:2==u||(1==u?e.model.blockRequired=!0:3==u||(4==u?e.model.showJudda=!1:8==u&&(e.model.showJudda=!1)))):1==t?(e.model.floorRequired=!0,e.model.apartmentRequired=!0,l.ready("address").then(function(){e.model.buildingNoLabel=l.getString("address.building"),e.model.apartmentLabel=l.getString("address.apartment"),e.model.showFloor=!0,e.model.showApartment=!0,e.model.juddaRequired=!1,6==u?e.model.juddaRequired=!0:1==u?e.model.blockRequired=!0:4==u?e.model.showJudda=!1:8==u&&(e.model.buildingNoLabel=l.getString("address.building"),e.model.showJudda=!1)})):(e.model.floorRequired=!0,l.ready("address").then(function(){e.model.buildingNoLabel=l.getString("address.building"),e.model.apartmentLabel=l.getString("address.office"),e.model.showFloor=!0,e.model.showApartment=!0,e.model.apartmentRequired=!0,4==u?(e.model.buildingNoLabel=l.getString("address.building"),e.model.juddaRequired=!0):5==u?e.model.juddaRequired=!1:2==u?(e.model.showApartment=!0,e.model.juddaRequired=!1):1==u?(e.model.blockRequired=!0,e.model.juddaRequired=!1):8==u&&(e.model.showJudda=!0,e.model.juddaPlaceholder=l.getString("address.companyName"),e.model.apartmentLabel=l.getString("address.officeNumber"))})))}),e.cancel=function(){e.model=null,e.modalAction="cancel"};var m=function(t){return e.isEditing?d&&d==t:!0};e.saveAddress=function(){if(e.deliveryAddress.$valid){e.isEditing?c.addressEditSaveClicked():c.addressSaveClicked(),e.buttonDisabled=!0;var r=m(e.model.area.id),a={eid:e.model.eid,pn:e.model.profileName,aid:e.model.area.id,an:e.model.area.an,type:e.model.type,blk:e.model.block,jd:e.model.judda,st:e.model.street,bno:e.model.buildingNo,fl:e.model.floor,su:e.model.apartment,exd:e.model.extraDirections,ip:e.model.ip,ph:e.model.phone,mob:e.model.mobile,mcod:e.model.mobileCountryCode,sl:e.model.sl,er:e.model.er,iso:e.model.iso,fn:e.model.firstName,ln:e.model.lastName,cnt:s.country.id,ltd:t.selectedLat&&r?t.selectedLat:0,lngt:t.selectedLng&&r?t.selectedLng:0};n.saveAddress(s.customer?!1:!0,a).then(function(t){0==t.result.rst.statusCode?(t.result.fn=e.model.firstName,t.result.ln=e.model.lastName,e.model=t.result,e.modalAction="saved"):(e.buttonDisabled=!1,e.errorMsg=t.result.rst.msg)})}else e.buttonDisabled=!1,console.log("invalid",e.deliveryAddress.$error)},e.$on("$destroy",function(){$("html").removeClass("noscroll-long noscroll")})}]),tlbApp.directive("deliveryAddress",["global",function(e){return{restrict:"E",scope:{fromCheckout:"<?",isEditing:"<?",cities:"<?",areas:"<?",model:"=",modalAction:"=?",noAddressForCurrentArea:"<?",currentAreaName:"<?",modifiedKeys:"<?"},templateUrl:function(t,n){return tlbApp.getTemplate("shared/address/addressTemplate",e.currentLocale)},controller:"DeliveryAddressController"}}]),tlbApp.directive("cartDirective",["global","$timeout","$rootScope","dataFactory","$state","modalProvider","gtmService","utilityService","cookieHelper","locale",function(e,t,n,r,a,o,i,s,l,c){return{restrict:"E",scope:{openChoicePopup:"&?",restOffers:"=",areaid:"="},templateUrl:function(t,n){return tlbApp.getTemplate("shared/cart/cartView",e.currentLocale)},link:function(u,d,p,f){t(function(){$(window).width()>992&&$(".cart-info").hcSticky({top:20})}),u.upsellSlider=void 0,u.country=e.country,u.lang=e.lng,u.global=e,u.langprefix="en"==e.lng?"/":"/ar/",u.showUpsell=!1,u.removeItem=function(e){r.removeItemFromCart(e.refID).then(function(t){i.gtm_removeFromCart(e,n.cartmodel),n.cartmodel=t,n.cartmodel&&n.cartmodel.restaurants.length>0||!n.upSell||r.getUpsellingItems(n.upSell.restId,n.upSell.restBranchId).then(function(e){n.upSell.upSellingItems=e.result,u.showUpsell=!0,m()}),s.adjustMenuHeight()})},n.$on("checkUpsell",function(){u.showUpsell=!0,m()});var m=function(){t(function(){u.upsellSlider=new Swiper(".upselling-slider-container",{slidesPerView:"auto",initialSlide:0,spaceBetween:10,slidesOffsetAfter:15,loop:!1,observer:!0,centeredSlides:!0,grabCursor:!0,nextButton:".swiper-us-right",prevButton:".swiper-us-left",onInit:function(e){$(".swiper-us-left").hide(),1==e.slides.length&&$(".swiper-us-right").hide()},onSlideChangeStart:function(e){i.upsellSliderNavigated(),0==e.activeIndex?($(".swiper-us-left").hide(),$(".swiper-us-right").show()):e.isEnd||($(".swiper-us-left").show(),$(".swiper-us-right").show())},onReachEnd:function(e){$(".swiper-us-right").hide(),e.slides.length>1&&$(".swiper-us-left").show()},breakpoints:{767:{slidesOffsetBefore:-50}}})})},h=function(){n.cartmodel&&n.cartmodel.restaurants.length>0&&n.upSell&&n.upSell.restId==n.cartmodel.restaurants[0].restId?r.getUpsellingItems(n.upSell.restId,n.upSell.restBranchId).then(function(e){n.upSell.upSellingItems=e.result,u.showUpsell=!0,m()}):n.cartmodel&&n.cartmodel.restaurants.length>0||!n.upSell||r.getUpsellingItems(n.upSell.restId,n.upSell.restBranchId).then(function(e){n.upSell.upSellingItems=e.result,u.showUpsell=!0,m()})};h(),u.addUpsaleItemScope=function(e){i.upsellItemAdded(e.nm),n.$emit("addUpsellItemToCart",e)},u.updateqty=function(e,t){var a=!1;if("minus"==t&&e.qty>1?(e.qty--,a=!0):"plus"==t&&e.qty<100&&(e.qty++,a=!0),a){var o={qty:e.qty,refID:e.refID};r.updateCartItemQty(o).then(function(r){i.gtm_increaseDecreaseItemQty("plus"==t?!0:!1,e),n.cartmodel=r})}},u.checkCoupon=function(e){if(!e.bestCoupon){var t={message:'<div class="p-t-md"><b class="p-y-md f-14">The best coupon is already selected for you.</b></div>',size:"sm",header:!1,footer:!1};o.openDialog(t)}},u.CheckoutClicked=function(){i.gtm_checkoutclick(n.cartmodel)},u.gotoCheckout=function(){u.CheckoutClicked();var t=l.getAreaObject();n.cartmodel.areaId==t.id?a.go("main.checkout",{cnt:e.country.sl}):c.ready("common").then(function(){var i=c.getString("common.cartAreaChangeMessage",{cartRestName:n.cartmodel.restaurants[0].restName,cartArea:n.cartmodel.areaName,cookieRestName:n.cartmodel.restaurants[0].restName,cookieArea:t.name});o.openDialog({message:'<div class="h5 m-a-0 p-t-md linespace text-center">'+i+"</div>",header:!1,footer:!1,okButtonText:c.getString("common.yes"),cancelButtonText:c.getString("common.no"),onOk:function(){r.updateCartArea(t.id).then(function(e){if(e&&e.restaurants.length>0){if(n.cartmodel=e,e.haschange){var t=c.getString("common.cartItemsRemoved");o.openDialog({message:'<div class="p-t-md text-center"><b class="p-y-md f-14">'+t+"</b></div>",cancelButtonText:"Close",onCancel:function(){}})}}else n.cartmodel=null})},onCancel:function(){l.setArea(n.cartmodel.areaId,n.cartmodel.areaName,n.cartmodel.areaSlug),a.go("main.checkout",{cnt:e.country.sl})}})})},u.showPromotionsPopup=function(e){if(e.isSelected)if(e.isBenefitListOfItems)o.selectPromotionItem(e,function(t){o.openChoicesPopup(t,!1,!0,e)});else{var t=e.benefitItems[0];t.promotionId=e.id,o.openChoicesPopup(t,!1,!0,e)}}}}}]),tlbApp.directive("choicesValidator",[function(){return{restrict:"A",require:"ngModel",scope:{catObj:"=",itemprice:"=?"},link:function(e,t,n,r){var a=1,o=function(n){if(1==e.catObj.mnq&&1==e.catObj.mxq)var a=!Array.isArray(e.catObj.checkedItems);else if(0==e.catObj.mnq&0==e.catObj.mxq)var a=!0;else var a=e.catObj.checkedItems.length>=e.catObj.mnq&&e.catObj.checkedItems.length<=e.catObj.mxq;return a&&$(t[0]).removeClass("firstTime"),r.$setValidity("choices",a),n};r.$parsers.push(o);var i=e.$watch("catObj",function(t,n){if(void 0!=e.itemprice&&n.keepopen==t.keepopen)if(Array.isArray(t.checkedItems)){var r=tempOld=0;_(t.checkedItems).forEach(function(e){r+=e.pr}),_(n.checkedItems).forEach(function(e){tempOld+=e.pr}),e.itemprice=e.itemprice-tempOld+r}else n.checkedItems.pr?e.itemprice=e.itemprice-n.checkedItems.pr+t.checkedItems.pr:e.itemprice=e.itemprice+t.checkedItems.pr;t.extracheck&&1==a&&0==t.checkedItems.length||t.extracheck&&!n.keepopen&&t.keepopen?a++:o(t)},!0);e.$on("$destroy",function(){i()})}}}]),$(".country-change").on("click",function(e){$(".country-slider").slideToggle(500)}),$(".close-section").on("click",function(){$(".country-slider").slideUp(400)}),$("#nav-state").on("change",function(){$(this).prop("checked")?$("html").addClass("noscroll-long noscroll"):$("html").removeClass("noscroll-long noscroll")}),tlbApp.controller("HeaderController",["$scope","global","dataFactory","$window","$location","$stateParams","$rootScope","modalProvider","$state","gtmService","cookieHelper",function(e,t,n,r,a,o,i,s,l,c,u){e.global=t,e.cartPopoverOpenWeb=!1,e.headerInit=function(){var e=a.search();e&&e.src&&"app"==e.src.toLowerCase()&&$("body > header, body > footer").hide()},i.$on("openSummary",function(){
screen.width<768||$(window).width()<768?e.openMobileCart():e.cartPopoverOpenWeb=!e.cartPopoverOpenWeb}),i.$on("closeSummary",function(){e.cartPopoverOpenWeb=!1}),e.ismobile=screen.width<768||$(window).width()<768,e.openMobileCart=function(){c.gtm_editcartClicked(),s.openMobileCart()},e.closecart=function(){e.cartPopoverOpenWeb=!1},e.closeCountryPopup=function(){e.ismobile?e.countryPopoverOpen_mob=!1:e.countryPopoverOpen_desktop=!1},(screen.width<1e3||$(window).width()<1e3)&&e.$watch("cartPopoverOpenWeb",function(t,n){e.cartPopoverOpenWeb||i.$emit("closeStickyFooter")}),e.CheckoutClicked=function(){c.gtm_checkoutclick(i.cartmodel)},e.gotoCheckout=function(){e.CheckoutClicked(),l.go("main.checkout",{cnt:t.country.sl})},e.localeUrl=function(){var e=r.location.pathname;return"ar-KW"==t.currentLocale?e.replace("/ar/","/"):"/ar"+e},e.changeCountry=function(e){c.gtm_countryChange(e);var n="/"+e;u.removeCart(),u.clearAreaCity(),r.location="ar"==t.lng||"ksa"==e?"/ar"+n:n},e.openLoginPopup=function(){s.loginPopup()},e.openFeedback=function(){s.openFeedback()},e.doLogout=function(){n.userLogout().then(function(e){if(c.gtm_logout(t.customer.encgid),"success"==e.result){try{$zopim.livechat.clearAll(),u.clearCustomerAddress()}catch(n){}"ar"==o.lng?r.location.href="/ar/"+o.cnt:r.location.href="/"+o.cnt}else console.warn("some error occured")})}}]),tlbApp.controller("LoginController",["$scope","$window","$state","$location","$stateParams","modalProvider","dataFactory","fbSrv","global","gtmService",function(e,t,n,r,a,o,i,s,l,c){e.user={username:"",password:"",rememberMe:!1},e.global=l,e.errormsg="",e.showErrorMsg=!1,e.inprogress=!1,e.doLogin=function(){if(e.loginForm.$valid){e.inprogress=!0;var t=e.user.username,o=e.user.password,s=e.user.rememberMe;i.userLogin(t,o,s).then(function(t){var o=r.search();if("success"==t.result)if(c.gtm_loginSuccess(t.result.encgid,"email"),o.returnUrl&&o.returnUrl.length>0){var i=o.returnUrl.replace(/~2F/g,"/");-1!=_.indexOf(["checkout","myaccount"],i)?n.go("main."+o.returnUrl,{cnt:a.cnt}):n.go("main.home.default",{cnt:a.cnt})}else location.reload();else e.inprogress=!1,e.errormsg=t.result,e.showErrorMsg=!0,c.gtm_loginFailure("email",t.result)})}},e.toRegister=function(){a.returnUrl?n.go("main.signup",{cnt:l.cnt,returnUrl:a.returnUrl}):n.go("main.signup",{cnt:l.cnt})},e.doFacebookLogin=function(){s.login()},e.forgotPassword=function(){o.forgotPassword()}}]),tlbApp.directive("accountLogin",["global",function(e){return{restrict:"E",scope:{toCheckout:"<?"},templateUrl:function(t,n){return n.fromSlider?tlbApp.getTemplate("shared/login/loginTemplate",e.currentLocale):tlbApp.getTemplate("shared/login/loginTemplateForPage",e.currentLocale)},controller:"LoginController"}}]),tlbApp.controller("mapController",["$scope","$timeout","$rootScope","global","utilityService","gtmService","cookieHelper",function(e,t,n,r,a,o,i){var s,l,c;e.global=r;var u=function(){return e.isEditing?e.lat?e.lat:e.polc&&e.polc.center.lat?e.polc.center.lat:p[r.country.id].lat:e.polc?e.polc.center.lat:p[r.country.id].lat},d=function(){return e.isEditing?e.lng?e.lng:e.polc&&e.polc.center?e.polc.center.lng:p[r.country.id].lng:e.polc?e.polc.center.lng:p[r.country.id].lng};e.showOverlay=!0,e.isEditing&&e.lat&&e.lng&&(e.showOverlay=!1),o.gtm_mapShown(),e.searchPlaceholder="en"==r.lng?e.currentAreaName?"Search Road or Landmark in "+e.currentAreaName:"Search Road or Landmark":e.currentAreaName?"ابحث عن شارع أو معلم شهير في "+e.currentAreaName:"ابحث عن شارع أو معلم شهير";var p={1:{lat:29.379991319284176,lng:47.97971525251415},2:{lat:24.7135517,lng:46.67529569999999},3:{lat:26.2285161,lng:50.58604969999999},4:{lat:25.2048493,lng:55.270782800000006}};e.isEditing?(c=e.lat&&e.lng?17:12,s=u(),l=d(),n.selectedLat=e.lat,n.selectedLng=e.lng):(s=u(),l=d(),c=12),t(function(){function a(){n.map=new google.maps.Map(document.getElementById("tlbmap"),{center:{lat:s,lng:l},zoom:c,streetViewControl:!1,mapTypeControl:!1,clickableIcons:!1});var a={componentRestrictions:{country:r.country.cd.toUpperCase()}},i=document.getElementById("placeSearch"),u=new google.maps.places.Autocomplete(i,a);u.bindTo("bounds",n.map),$(document).on({DOMNodeInserted:function(){$(".pac-item, .pac-item span",this).addClass("needsclick")}},".pac-container"),u.addListener("place_changed",function(){place=u.getPlace(),place.geometry&&(place.geometry.location?(n.map.panTo(place.geometry.location),n.map.setZoom(17),o.gtm_mapAreaSelection(document.getElementById("placeSearch").value)):(n.map.fitBounds(place.geometry.viewport),n.map.setZoom(17)))}),t(function(){e.showOverlay=!1},5e3)}var i=function(){e.polc&&(e.isEditing?e.lat&&e.lng||(n.map.setCenter({lat:e.polc.center.lat,lng:e.polc.center.lng}),n.map.setZoom(14)):(n.map.setCenter({lat:e.polc.center.lat,lng:e.polc.center.lng}),n.map.setZoom(14)))};a(),e.currentAreaName&&e.$watch("polc",function(r,a){if(r&&r.center&&(e.polc=r,i()),r&&r.polygon){var o=new google.maps.Polygon({paths:r.polygon,strokeColor:"#f78b30",strokeWeight:2,fillColor:"#fff"});t(function(){o.setMap(n.map)})}},!0)}),e.getLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};n.map.panTo(t),n.map.setZoom(17),document.getElementById("placeSearch").value="",o.gtm_locateMe(t)},function(){var e="en"==r.lng?"Location service disabled. Please enable Location services in your browser settings to use this feature.":"	خدمة الموقع غير مفعلة. الرجاء قم بتفعيل الخدمة في اعدادات المتصفح للإستفادة منها.";o.gtm_mapError(2),a.showMapError(e)})},e.getAddress=function(){n.selectedLat=n.map.getCenter().lat(),n.selectedLng=n.map.getCenter().lng(),o.gtm_mapConfirm(n.selectedLat,n.selectedLng),e.$emit("getAddress",{lat:n.map.getCenter().lat(),lng:n.map.getCenter().lng()})},e.removeOverlay=function(){var t=angular.element(document.querySelector("#google-map-overlay"));e.showOverlay=!1,t.remove()},e.$on("$destroy",function(){delete n.selectedLat,delete n.selectedLng,$(document).off("DOMNodeInserted")})}]),tlbApp.directive("tlbMap",["global",function(e){return{restrict:"E",scope:{currentAreaName:"<?",isEditing:"<?",lat:"<?",lng:"<?",polc:"="},templateUrl:function(t,n){return tlbApp.getTemplate("shared/map/map-template",e.currentLocale)},controller:"mapController"}}]),tlbApp.controller("FooterController",["$scope","global",function(e,t){e.global=t,e.siteIndexCollapsed=e.restCollapse=e.indexCollapse=e.cuisCollapse=e.areaCollapse=!0}]),tlbApp.controller("AddressModalController",["$scope","$uibModalInstance","model","$rootScope","dataFactory","global","cookieHelper","utilityService","gtmService","$compile","$timeout",function(e,t,n,r,a,o,i,s,l,c,u){l.gtm_lightBoxAddressShown(),n.address||(n.address={});var d;n.fromCheckout&&(d=_.find(n.deliveryAreas,{id:parseInt(i.getArea())}),n.areaId=d.id),n.action="",e.model=_.cloneDeep(n);var p,f,m=[1,3];e.currentTab=m.indexOf(o.country.id)>-1?1:2,e.mapEnabled=m.indexOf(o.country.id)>-1?!0:!1,e.mapEnabled&&n.fromCheckout&&a.getPolygon(n.areaId).then(function(t){if(p=t.result.validateWithPolygon,t.result.polc){var n=t.result.polc.split(",");e.model.address.polc={center:{lat:parseFloat(n[0]),lng:parseFloat(n[1])}}}if(t.result.pol.length){var r=[];_.forEach(t.result.pol,function(e){r.push(new google.maps.LatLng(parseFloat(e[1]),parseFloat(e[0])))}),e.model.address.polc.polygon=r}}),e.global=o,e.changeTab=function(t){s.clearInfoWindow(),e.currentTab=t,2==t?l.gtm_getAddressFields():l.gtm_mapViewClicked()};var h=function(t){var n;switch(t){case 1:var r=e.model.address.an?e.model.address.an:d.an;n="en"==o.lng?"Unfortunately, this location is not within your selected area. Please pin your location in "+r+".":"عذراً، العنوان المحدد ليس ضمن المنطقة التي اخترتها الرجاء تحديد عنوانك في "+r+".",l.gtm_mapError(1);break;case 2:n="en"==o.lng?"Sorry, we cannot retrieve your address accurately at this time.<br/> Please enter your address or try again.":"عذراً، لم نستطع تحديد موقعك بدقة في الوقت الحالي. الرجاء ادخل عنوانك أو أعد المحاولة مرة أخرى.",l.gtm_mapError(3)}return n};e.$watch("model.action",function(n,r){n.length>0&&("cancel"==n?t.dismiss("cancel"):t.close(e.model.address))}),e.continueAnyway=function(){$("#mapTooltip").addClass("invisible"),e.model.address.aid=d.id,e.model.address.polc?a.getCoordinateAddress(f).then(function(e){v(e)}):v(e.mapResponse)},e.hideMismatchError=function(){$("#getAddress").prop("disabled",!1),$("#mapTooltip").addClass("invisible"),l.gtm_continueAnywayCancelled()};var g;e.$on("getAddress",function(t,n){if(f=n,t.preventDefault(),e.model.address.polc&&e.model.address.polc.polygon&&p){var r=new google.maps.LatLng(n.lat,n.lng),a=new google.maps.Polygon({paths:e.model.address.polc.polygon});google.maps.geometry.poly.containsLocation(r,a)?y(n):b()}else y(n)});var v=function(t){e.modifiedKeys={},_.forEach(t,function(t,n){t&&(e.model.address[n]&&(e.modifiedKeys[n]=!0),"aid"!=n&&"an"!=n&&(e.model.address[n]=t))}),e.model.showAddressFields=!0,$("#getAddress").prop("disabled",!1),l.gtm_continueAnywayClicked(),e.changeTab(2)},y=function(t){a.getCoordinateAddress(t).then(function(t){if(e.mapResponse=t,t.aid||e.model.address.polc&&e.model.address.polc.polygon){if(e.model.fromCheckout&&(e.model.isEditing?g=e.model.address.aid:d&&(g=d.id),g!=t.aid))return e.model.address.polc&&e.model.address.polc.polygon?(e.model.address.aid=d.id,void v(e.mapResponse)):void b();delete t.type,e.modifiedKeys={},_.forEach(t,function(t,n){t&&(e.model.address[n]&&(e.modifiedKeys[n]=!0),e.model.address[n]=t)}),e.model.showAddressFields=!0,e.changeTab(2)}else{var n=h(2);s.showMapError(n)}})},b=function(){var t=h(1),n=(d.an,"en"==o.lng?"Location mismatch":"عدم توافق العنوان"),r=("en"==o.lng?"Cancel":"إلغاء","en"==o.lng?"Continue Anyway":"إستمرار","<p><b> "+n+" </b></p><p>"+t+"</p>"),a=c(r)(e);s.showMapError(a,!0)};e.cancel=function(){t.dismiss("cancel"),l.gtm_addressClosed()},e.$on("$destroy",function(){s.clearInfoWindow(),r.map=null})}]),tlbApp.controller("bannerAdPopupCtrl",["$scope","$uibModalInstance","model",function(e,t,n){e.bType=n.type,$("html").addClass("noscroll-long noscroll"),e.close=function(){t.close()},e.cancel=function(){t.dismiss()},e.$on("$destroy",function(){$("html").removeClass("noscroll-long noscroll")})}]),tlbApp.controller("charityPopupCtrl",["$scope","$uibModalInstance","global","model",function(e,t,n,r){e.baseUrl=n.baseUrl,e.model=r,e.activeImageSlide=0,e.close=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}]),tlbApp.controller("choicepopupController",["$scope","$uibModalInstance","item","global","fromcart","promo","$timeout",function(e,t,n,r,a,o,i){e.global=r,e.ispromo=o,e.ok=function(){t.close(e.item)},e.cancel=function(){t.dismiss("cancel")},e.addTocart=function(n){var r=!1;$("input.hiddencheck").each(function(){$(this).hasClass("ng-invalid-choices")&&(r=!0)}),n.$valid&&!r?t.close({item:e.item,promo:e.ispromo}):$(".choice-section .hiddencheck").removeClass("firstTime")},e.updateqty=function(e,t){"minus"==t&&e.qty>1?e.qty--:"plus"==t&&e.qty<100&&e.qty++},n.csc=n.csc.map(function(e){return e.checkedItems&&a||(e.checkedItems=[]),e.mnq>=1&&e.mxq>1?(e.keepopen=!0,e.showCheck=!0,e.showradio=!1,e.extracheck=!1):1==e.mnq&&1==e.mxq?(e.keepopen=!0,e.showCheck=!1,e.showradio=!0,e.extracheck=!1):0==e.mnq&&e.mxq>0?(e.keepopen=!1,e.showCheck=!0,e.showradio=!1,e.extracheck=!0):(e.keepopen=!1,e.showCheck=!0,e.showradio=!1,e.extracheck=!1),e}),e.item=n}]),tlbApp.controller("countrySelectionController",["$scope","global","$uibModalInstance","modalProvider","model","showCountrySelectionHome",function(e,t,n,r,a,o){e.model=a,e.userCountry=_.find(a,function(e){return e.cd=e.cd.toLowerCase(),e.cd==o.toLowerCase()}),e.userCountrySl=o.toLowerCase(),e.cancel=function(){n.dismiss("cancel")}}]),tlbApp.controller("cuisinesPopupCtrl",["$scope","$uibModalInstance","cuisines","allCuisinesRestLength","selectedId",function(e,t,n,r,a){e.cuisines=n,e.allCuisinesRestLength=r,e.selectedCuisine={checkedCuisine:a},e.cancel=function(){t.close(e.selectedCuisine.checkedCuisine)}}]),tlbApp.controller("FBEmailModalController",["$scope","$uibModalInstance",function(e,t){e.email="",e.ok=function(){e.fbEmailForm.$valid&&t.close(e.email)},e.cancel=function(){t.dismiss("cancel")}}]),tlbApp.controller("feedbackCtrl",["$scope","$uibModalInstance","global","device","dataFactory",function(e,t,n,r,a){function o(){var t;e.useremail?t=e.useremail:n.customer&&(t=n.customer.email);var o={FDateTime:new Date,WebsiteName:"Talabat Website",ApplicationURL:"",FeedbackType:e.activeTab,Score:e.feedbackRate,Location:n.country.na,ScreenPath:window.location.href,Language:n.lng,PlatformType:r,OSVersion:"",AppVersion:"",Mobile:e.usermobile||"",Email:t,FeedBackMsg:e.feedbackText};a.submitFeedback(o)}e.activeTab=0,e.feedbackText=e.usermobile=e.useremail="",e.feedbackRate=0,e.feedbackScreen=1,e.changeTab=function(t){e.activeTab=t},e.submitFeedback=function(){1==e.feedbackScreen&&n.customer||2==e.feedbackScreen?(o(),e.feedbackScreen=3):e.feedbackScreen=2},e.cancel=function(){t.dismiss("cancel")}}]),tlbApp.controller("ForgotPasswordModalController",["$scope","$window","$stateParams","dataFactory","$uibModalInstance","global",function(e,t,n,r,a,o){e.email="",e.errMsg=void 0,e.submitted=!1;var i;t.greCaptchaForgotPassCallback=function(){t.greCaptchaLoaded=!0,t.greCaptchaForgotPassLoaded=!0,e.renderCaptcha()},e.init=function(){t.greCaptchaLoaded||t.greCaptchaForgotPassLoaded?e.renderCaptcha():!function(e){var t,n="reCAPTCHA-api",r=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//www.google.com/recaptcha/api.js?hl="+("ar-KW"==o.currentLocale?"ar":"en")+"&onload=greCaptchaForgotPassCallback&render=explicit",r.parentNode.insertBefore(t,r))}(document)},e.renderCaptcha=function(){i=grecaptcha.render("forgotPass-recaptcha",{sitekey:"6LeJkxETAAAAAGeNkhKRZcPeiNkU_9A1dxcZOf_9",size:jQuery(window).width()<768||screen.width<768?"compact":"normal"})},e.ok=function(){if(e.forgotPassForm.$valid){e.errMsg=void 0;var t=grecaptcha.getResponse(i);if(t){var a={email:e.email,GoogleCaptcha:t};r.forgotPassword(n.cnt,a).then(function(t){t.success?e.submitted=!0:(grecaptcha.reset(),e.errMsg=t.result)})}else e.errMsg="Please select captcha"}},e.cancel=function(){a.dismiss("cancel")}}]),tlbApp.controller("GenericModalController",["$scope","$uibModalInstance","model",function(e,t,n){e.header=n.header,e.content=n.content,e.footer=void 0,e.showOk=void 0,e.showCancel=void 0,e.okButtonText=n.okButtonText,e.cancelButtonText=n.cancelButtonText,(n.onOk||n.onCancel)&&(e.footer=!0),n.onOk&&(e.showOk=!0),n.onCancel&&(e.showCancel=!0),e.ok=function(){t.close({btn:"btn"})},e.cancel=function(){t.dismiss("cancel")}}]),tlbApp.controller("mobCartPopupController",["$scope","$uibModalInstance","$rootScope",function(e,t,n){$("html").addClass("noscroll-long noscroll"),e.ok=function(){t.close()},e.cancel=function(){t.dismiss()},e.$on("$destroy",function(){n.$emit("closeStickyFooter"),$("html").removeClass("noscroll-long noscroll")})}]),tlbApp.controller("mobileVerificationController",["$scope","global","$uibModalInstance","modalProvider","address","step","cookieHelper","dataFactory","$timeout","mobileCodes","gtmService",function(e,t,n,r,a,o,i,s,l,c,u){e.countryCode=c[t.country.id],e.step=o,e.address=a,e.verifyOption=1,e.active=!1;var d,p,f=!1;e.global=t,u.mobileNumVerShown();var m=function(){var t=60,n=function(){0>t?e.active=!0:(e.countDownLeft=t,t--,d=l(n,1e3))};e.countDownLeft=t,n()},h=function(){e.code1=e.code2=e.code3=e.code4=null};e.gotoStep=function(t,n){switch(p=n,e.step1=e.step2=e.step3=e.step4=e.step5=!1,l.cancel(d),t){case 1:e.step1=!0,e.step=1;break;case 2:e.step2=!0,e.step=2,u.mobileNumChange();break;case 3:e.step3=!0,e.step=3,m();break;case 4:e.step4=!0,e.step=4;break;case 5:e.step5=!0,e.step=5}},e.getCode=function(n,r){r?u.verifionOption(n):u.getMobNumVerCode();var a={mobile:e.address.mob,verifyoption:n,countryid:t.country.id};s.getMobileVerificationCode(a).then(function(t){t.result.isvalid?(e.gotoStep(3),e.active=!1,e.errorMsg=null):(e.errorMsg=t.result.displaymessage,f=!1,e.gotoStep(2))})},e.liveChat=function(){$zopim.livechat.window.show()};var g=function(){var n={id:e.address.eid,mobile:e.address.mob,countryid:t.country.id};s.updateMobileNumber(n).then(function(e){e.result.mobileverified?(f=!0,u.mobileUpdateSuccess()):e.result.displaymessage&&u.mobileUpdateFailed()})};e.verifyCode=function(){u.verifyClicked();var n={mobile:e.address.mob,code:v(),countryid:t.country.id};s.verifyCode(n).then(function(t){t.result.mobileverified?(e.invalidCode=!1,f=!0,u.verifySuccess(),e.gotoStep(4)):(e.invalidCode=!0,u.verifyFailed())})},e.gotoStep(o),e.updateAndGetCode=function(){f=!0,t.customer&&g(),e.invalidCode=!1,h();var n={mobile:e.address.mob,countryid:t.country.id};s.checkMobileVerified(n).then(function(n){n.result.displaymessage?(e.errorMsg=n.result.displaymessage,f=!1):n.result.mobileverified?(f=!0,u.verifySuccess(),t.customer||i.setQuickOrderAddress(e.address),e.gotoStep(5)):(n.result.mobilenumber&&(e.address.mob=n.result.mobilenumber),t.customer||i.setQuickOrderAddress(e.address),e.getCode())})},e.cancel=function(t){3==p&&2==e.step?e.step=3:(5==e.step||2==e.step)&&(e.step=1);var r={step:e.step,callPlaceOrder:t,mobile:f?e.address.mob:void 0};n.dismiss(r)};var v=function(){return e.code1.toString()+e.code2.toString()+e.code3.toString()+e.code4.toString()}}]),tlbApp.directive("moveNextOnMaxlength",function(){return{restrict:"A",link:function(e,t){t.on("input",function(e){if(t.val().length==t.attr("maxlength")){var n=t.next();n.length&&n[0].focus()}else $(e.currentTarget).prev().focus()})}}}),tlbApp.controller("OffersModalController",["$scope","$window","$uibModalInstance","dataFactory","model","global","activeTab",function(e,t,n,r,a,o,i){e.model=a,e.global=o,e.langprefix="en"==o.lng?"/":"/ar/",e.isLoading=!0;var s,l;switch(i){case 0:s=!0,l=!0;break;case 1:s=!0,l=!1;break;case 2:s=!1,l=!0}r.getRestuarentOffer(o.cnt,a.rid,s,l).then(function(t){e.isLoading=!1,e.model.pdetl=t.data.result.pdetl}),e.cancel=function(){n.dismiss("cancel")}}]),tlbApp.controller("orderDetailPopupCtrl",["$scope","$uibModalInstance","order","global","dataFactory",function(e,t,n,r,a){e.global=r,e.orderItems=[],e.trans={ad:void 0,subtotal:void 0},a.getOrderItems(n.oid).then(function(t){e.order=t.result}),e.ok=function(){t.close()},e.cancel=function(){t.dismiss()}}]),tlbApp.controller("rateOrderPopupCtrl",["$scope","$uibModalInstance","model","orderInfo","dataFactory","gtmService","global",function(e,t,n,r,a,o,i){e.baseUrl=n.baseUrl,e.model=n.result,e.global=i,e.orderInfo=r,e.showThankYou=!1,e.isRated=e.model.ratingSubmitted,e.errorMsg=void 0,e.canRateOrder=!0,e.campaignEnabled=!1,e.rateObject={OrdId:e.isRated?void 0:e.model.ordId,PackageRating:e.isRated?e.model.packageRating:0,DeliveryRating:e.isRated?e.model.deliveryRating:0,ValueRating:e.isRated?e.model.valueRating:0,ItemsRating:0,review:e.isRated?e.model.review:"",items:[]},e.isRated?e.rateObject.items=e.model.items.map(function(e){return e.nm=e.itemName,e.Rating=e.rating,e}):_.forEach(e.model.items,function(t){e.rateObject.items.push({ItemId:t.itemId,Rating:0,nm:t.itemName})}),e.ok=function(){e.errorMsg=null;var t=!0;(e.rateObject.PackageRating<=0||e.rateObject.DeliveryRating<=0||e.rateObject.ValueRating<=0)&&(t=!1);var n=_.cloneDeep(e.rateObject);_.forEach(n.items,function(e){e.Rating<=0&&(t=!1),delete e.nm}),t?a.rateOrder(e.model.ordId,n).then(function(t){0==t.result.rst.statusCode&&(e.showThankYou=!0,e.rateCampaign=t.result.ratCamp,e.rateCampaign.voucherCode&&(e.campaignEnabled=!0),o.gtm_rateSubmitted(e.model.ordId))}):e.errorMsg="en"==i.lng?"Please rate all fields":"الرجاء تقييم جميع الحقول"},e.cancel=function(){t.close()}}]),tlbApp.controller("ReorderModalController",["$scope","$uibModalInstance","dataFactory","global","model",function(e,t,n,r,a){e.model=a,e.selectedArea=null,e.selectedBranch=null,e.franchises=null,e.branchDisabled=!0,e.isPreviousDelivered=_.find(a.areas,{id:parseInt(a.areaId)}),e.cancel=function(){t.dismiss("cancel")},e.areaChanged=function(){e.branchDisabled=!0,e.selectedArea?(e.areaError=!1,a.groupId&&n.getFranchiseList(e.selectedArea,a.groupId).then(function(t){e.franchises=t,e.branchDisabled=!1})):e.franchises=null},e.branchChanged=function(){e.selectedBranch&&(e.branchError=!1)},e.reorderPrevious=function(){t.close({areaId:a.areaId,branchId:null})},e.reorderNew=function(){e.areaError=!1,e.branchError=!1,a.groupId?e.selectedArea&&e.selectedBranch?t.close({areaId:e.selectedArea,branchId:e.selectedBranch}):e.selectedArea?e.selectedBranch||(e.branchError=!0):e.areaError=!0:e.selectedArea?t.close({areaId:e.selectedArea,branchId:null}):e.areaError=!0}}]),tlbApp.controller("restPopupController",["$scope","$uibModalInstance","ispreorder","closeOrBusy","restname",function(e,t,n,r,a){e.ok=function(){t.close()},e.restname=a,e.isBusy=2==r?!0:!1,e.cancel=function(){t.dismiss()}}]),tlbApp.controller("SelectAddressModalController",["$scope","$uibModalInstance","model","gtmService",function(e,t,n,r){e.model=n,e.addressSelected=function(e){r.addressFiledChanged(),t.close(e)},e.cancel=function(){t.dismiss("cancel")}}]),tlbApp.controller("selectPromoItemCtrl",["$scope","$uibModalInstance","item",function(e,t,n){e.selectedItem=void 0,e.ok=function(){e.selectedItem.promotionId=n.id,t.close(e.selectedItem)},e.cancel=function(){t.dismiss()},e.item=n}]),tlbApp.controller("RegisterController",["$scope","$window","$location","$stateParams","dataFactory","modalProvider","global","srvCountrySlug","$state","gtmService",function(e,t,n,r,a,o,i,s,l,c){e.user={firstName:"",lastName:"",username:"",password:"",confirmPassword:""};var u;e.errormsg="",e.showErrorMsg=!1,e.cnt=s,e.toLogin=function(){r.returnUrl?l.go("main.signin",{cnt:i.cnt,returnUrl:r.returnUrl}):l.go("main.signin",{cnt:i.cnt})},e.dt=new Date,e.datepicker={opened:!1},e.birthDateOptions={initDate:new Date},e.open1=function(){e.datepicker.opened=!0},e.format="dd-MMMM-yyyy",t.greCaptchaForgotPassCallback=function(){t.greCaptchaLoaded=!0,t.greCaptchaForgotPassLoaded=!0,e.renderCaptcha()},e.init=function(){t.greCaptchaLoaded||t.greCaptchaForgotPassLoaded?(e.renderCaptcha(),grecaptcha.reset()):!function(e){var t,n="reCAPTCHA-api",r=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//www.google.com/recaptcha/api.js?hl="+("ar-KW"==i.currentLocale?"ar":"en")+"&onload=greCaptchaForgotPassCallback&render=explicit",r.parentNode.insertBefore(t,r))}(document)},e.renderCaptcha=function(){u=grecaptcha.render("submit-recaptcha",{sitekey:"6LeJkxETAAAAAGeNkhKRZcPeiNkU_9A1dxcZOf_9",size:jQuery(window).width()<768||screen.width<768?"compact":"normal",callback:function(t){e.errormsg=void 0,e.showErrorMsg=!1,e.$digest()}})},e.doRegister=function(){var s=grecaptcha.getResponse(u);if(s){if(e.registerForm.$valid&&void 0!=e.user.gender){var d={username:e.user.username,password:e.user.password,confirmPassword:e.user.confirmPassword,firstName:e.user.firstName,lastName:e.user.lastName,IsMale:e.user.gender,IsSubscribeNews:e.user.IsSubscribeNews,IsSubscribeSMS:e.user.IsSubscribeSMS,countryId:i.country.id,registrationSource:i.deviceSource,GoogleCaptcha:s};e.user.birthdate&&(d.bday=e.user.birthdate.getDate(),d.bmon=e.user.birthdate.getMonth()+1,d.byr=e.user.birthdate.getFullYear()),a.userRegister(d).then(function(a){if(grecaptcha.reset(),a.result)if(0==a.result.rst.statusCode){$("body").removeClass("loggedOff").addClass("loggedIn"),c.registrationSuccessful(a.result.encgid,"email");var s=n.search();if(s.returnUrl&&s.returnUrl.length>0){var u=s.returnUrl.replace(/~2F/g,"/");u.startsWith("//")?l.go("main.home.default",{cnt:r.cnt}):u.startsWith("/")?t.location.href=u:l.go("main."+u,{cnt:r.cnt})}else l.go("main.home.default",{cnt:i.country.sl})}else o.openDialog({message:'<p class="text-center m-t-lg h5 text-danger">'+a.result.rst.msg+"</p>",okButtonText:"Ok",onOk:function(){}}),c.registrationFailed("email",e.errormsg);else console.log("result is coming null from register api")})}}else e.errormsg="Please Check Recaptcha",e.showErrorMsg=!0}}]),tlbApp.directive("accountRegister",["global",function(e){return{restrict:"E",scope:{toCheckout:"<?"},templateUrl:function(t,n){return n.fromSlider?tlbApp.getTemplate("shared/register/registerTemplate",e.currentLocale):tlbApp.getTemplate("shared/register/registerTemplateForPage",e.currentLocale)},controller:"RegisterController"}}]),tlbApp.directive("viewRatings",["global",function(e){return{restrict:"E",scope:{ratings:"<?"},templateUrl:function(t,n){return tlbApp.getTemplate("shared/viewratings/review-count-template", e.currentLocale)}}}]);;
